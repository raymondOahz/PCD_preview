window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({Loader:[function(t,e,o){"use strict";cc._RF.push(e,"41aa1DVbDxJ/LH7BirP2kbI","Loader");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(e){r(e)}}function s(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(){function t(){}var e;return e=t,t.loadResImage=function(t,e){cc.loader.loadRes(t,cc.SpriteFrame,function(t,o){t?console.log("TODO",t):e(o)})},t.Load_music=function(t,e){var o=this;this.musicList[t]?e(this.musicList[t]):cc.loader.loadRes(t,function(n,i){n?console.log("lqr\u97f3\u6548\u5931\u8d25"+n):(o.musicList[t]=i,e&&e(i))})},t.loadSpriteAtlas=function(t,e){cc.loader.loadRes(t,cc.SpriteAtlas,function(t,o){t?console.log(t):e(o)})},t.loadResSkeleton=function(t,e){cc.loader.loadRes(t,function(t,o){t?console.log(t):e(o)})},t.loadResJson=function(t,e){cc.loader.loadRes(t,function(t,o){t?console.log("lqrerr",t):e(o.json)})},t.loadResTxt=function(t,e){cc.loader.loadRes(t,function(t,o){t?console.log("lqrerr",t):e(o.text)})},t.loadBytes=function(t,e){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<400){var t=o.responseText;"{"!=t[0]&&(t=t.substr(1));var n=JSON.parse(t);e(n)}},o.open("GET",t,!0),o.send()},t.loadAddNode=function(t,e){cc.loader.loadRes(t,cc.Prefab,function(t,o){if(t)console.log(t);else{var n=cc.instantiate(o);e&&e(n)}})},t.loadAddPrefab=function(t,e){cc.loader.loadRes(t,cc.Prefab,function(t,o){t?console.log(t):e&&e(o)})},t.loadServerJosn=function(t,e){var o=new XMLHttpRequest;t+=".json",o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<400){var t=o.responseText;"{"!=t[0]&&(t=t.substr(1));var n=JSON.parse(t);e(n)}},o.open("GET",t,!0),o.send()},t.loadResDir=function(t,e){cc.loader.loadResDir(t,cc.SpriteFrame,function(t,o){t?console.log(t):e(o)})},t.loadImageAsync=function(t,o){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,e.loadResAsync(t,cc.SpriteFrame,o)];case 1:return[2,n.sent()]}})})},t.asyncloadResJson=function(t){return i(this,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(e){cc.loader.loadRes(t,function(t,o){t?console.log("err",t):e(o.json)})})]})})},t.loadResAsync=function(t,e,o){return i(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(n){cc.loader.loadRes(t,e,function(t,e){t?console.log(t):(o&&o(e),n(e))})})]})})},t.asyncLoadFenBao=function(t,e,o){return i(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(n){cc.loader.loadRes(t,e,function(t,e){t?console.log(t):(o&&o(e),n(e))})})]})})},t.asyncLoadAddPrefab=function(t,e,o){return i(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(n){cc.loader.loadRes(t,e,function(t,e){if(t)console.log(t);else{var i=cc.instantiate(e);o&&o(i),n(i)}})})]})})},t.serverLoadTxt=function(t,e){cc.loader.load(t+".txt",function(t,o){t?console.log(t):e&&e(o)})},t.serverLoadJson=function(t,e){var o=this;cc.loader.load(t+".json",function(n,i){if(n)return console.log(n),void o.serverLoadJson(t,e);e&&e(i)})},t.async_server_Load_Res=function(t,o){return i(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,e.serverResAsync(t,o)];case 1:return[2,n.sent()]}})})},t.serverResAsync=function(t,e){return i(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(o){cc.loader.load(t,function(t,n){t?console.log(t):(e&&e(n),o(n))})})]})})},t.server_Load_Img=function(t,e){var o=this,n=this.imgList[t];n?e&&e(n):cc.loader.load(t+".png",function(n,i){if(n)return console.log("url>>>",JSON.stringify(n)),void o.server_Load_Img(t,e);var r=new cc.SpriteFrame;r.setTexture(i),r.name=t,o.imgList[t]=r,e&&e(r)})},t.asynsc_server_Load_Img=function(t,e){return i(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(){cc.loader.load(t+".png",function(t,o){if(t)console.log(t);else{var n=new cc.SpriteFrame;n.setTexture(o),e&&e(n)}})})]})})},t.getSreverAudioClip=function(t,e){return i(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,this.preload_WX_Res(t,e)];case 1:return[2,o.sent()]}})})},t.server_music=function(t,e){var o=this;this.musicList[t]?e(this.musicList[t]):cc.loader.load(t+".mp3",function(n,i){n?console.log("lqr\u97f3\u6548\u5931\u8d25"+n):(o.musicList[t]=i,e&&e(i))})},t.preload_WX_Res=function(t,e,o){return i(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(n){if(cc.sys.platform===cc.sys.WECHAT_GAME){var i=wx.getFileSystemManager(),r=wx.env.USER_DATA_PATH+"/"+e;i.access({path:r,success:function(){console.log("success>>>>>>>>>222"),cc.loader.load(r,function(t,e){t?console.log(t+">>>>>>111111111111"):(o&&o(e),console.log("\u8bfb\u53d6\u5fae\u4fe1\u672c\u5730"),n(e))})},fail:function(){window.wx.downloadFile({url:t,filePath:r,success:function(t){if(200===t.statusCode){var e=t.filePath;void 0===t.filePath&&(e=t.tempFilePath),console.log(e+"<><><>\u4e0b\u8f7d\u6210\u529f"),cc.loader.load(e,function(t,e){t?console.log(t):(console.log("\u6210\u529f\u300a\u300b\u300a\u300b\u300a\u300b\u300a\u300b"),o&&o(e),n(e))})}else console.log("download file failed --\x3e"+t.statusCode)},fail:function(){console.log("download file failed")}})}})}else cc.loader.load(t,function(t,e){t?console.log(t+"err_load"):(o&&o(e),n(e))})})]})})},t.asyncRpkLoadServerJosn=function(t){return i(this,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(e){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(console.log("xhr>>>",o.readyState),4==o.readyState&&o.status>=200&&o.status<400){var t=o.responseText;"{"!=t[0]&&(t=t.substr(1));var n=JSON.parse(t);e(n)}},o.open("GET",t,!0),o.send()})]})})},t.RpkLoadServerText=function(t,e){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(console.log("xhr>>>",o.readyState),4==o.readyState&&o.status>=200&&o.status<400){var t=o.responseText;e(t)}},o.open("GET",t+".txt",!0),o.send()},t.bundle=null,t.imgList={},t.musicList={},e=n([s],t)}());o.default=c,cc._RF.pop()},{}],SimulationInfo:[function(t,e,o){"use strict";var n;cc._RF.push(e,"1584eM1kd9FPYt1FNHbkaj4","SimulationInfo"),Object.defineProperty(o,"__esModule",{value:!0}),o.classify=o.CInfo=o.BInfo=void 0,function(t){t[t.Decorate=0]="Decorate",t[t.Clothes=1]="Clothes",t[t.Pants=2]="Pants",t[t.Hair=3]="Hair",t[t.Set=4]="Set",t[t.Coat=5]="Coat",t[t.Shoes=6]="Shoes",t[t.Headwear=7]="Headwear",t[t.Pendant=8]="Pendant",t[t.Socks=9]="Socks",t[t.External=10]="External",t[t.Holdit=11]="Holdit"}(n||(n={})),o.classify=n;o.BInfo={0:{stageIndex:0,wardrobe0:[5,6,25,26,34,35,36,41],backgroundIndex:0,character:[0],title:null,interactionId:null,makeup:1}};var i={1:{id:1,classifyIndex:0,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-60.286269531250014,24.883523437500003]],bodyPos:[0,0],page:[46]},2:{id:2,classifyIndex:0,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[69.06107421874992,-44.6407734375]],bodyPos:[0,0],page:[46]},3:{id:3,classifyIndex:0,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[99.78107421874995,-88.2954609375]],bodyPos:[0,0],page:[48]},4:{id:4,classifyIndex:0,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-60.286269531250014,-49.49116406250002]],bodyPos:[0,0],page:[48]},5:{id:5,classifyIndex:0,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[72.2948046875,24.883523437500003]],bodyPos:[0,0],page:[70]},60:{id:60,classifyIndex:7,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-59.08,-70.59]],page:[0],bodyPos:[12.83,-4.8]},61:{id:61,classifyIndex:1,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[71.29,97.31]],page:[0],bodyPos:[-.99,3.62]},64:{id:64,classifyIndex:5,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-57.47,-118]],bodyPos:[.98,-5.22],page:[1]},101:{id:101,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-80.07576171875002,147.7635234375]],bodyPos:[8.23,-2.19],page:[49]},102:{id:102,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[75.52847656249992,123.51086718749997]],bodyPos:[.15,-9.06],page:[60]},103:{id:103,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[75.48525469168902,107.20964075067025],[79.99161132812497,-59.19229687500001]],bodyPos:[.15,54.74],page:[5,35]},104:{id:104,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.48525469168897,153.53671849865952]],bodyPos:[.15,67.67],page:[8]},105:{id:105,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.55495978552278,-20.189823056300213]],bodyPos:[.15,66.06],page:[8]},106:{id:106,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.93833780160861,-2.8171689008042335]],bodyPos:[.15,75.76],page:[20]},107:{id:107,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[92.926328125,125.12758593749999]],bodyPos:[.15,32.1],page:[29]},108:{id:108,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[81.60844726562499,-182.0724140625]],bodyPos:[-1.94,69.4],page:[35]},109:{id:109,classifyIndex:1,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[83.225283203125,45.90239062499995]],bodyPos:[1.76,15.2],page:[57]},158:{id:158,classifyIndex:8,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[65.37,-88.37]],page:[0],bodyPos:[0,0]},159:{id:159,classifyIndex:2,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-45.62,109.16]],bodyPos:[16.79,-2.88],page:[1]},187:{id:187,classifyIndex:3,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[104.5,-17.26]],bodyPos:[.98,22.33],page:[1]},201:{id:201,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-80.07576171875002,-117.3987421875]],bodyPos:[-3.09,-10.33],page:[49]},202:{id:202,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.221015625,-106.08065625]],bodyPos:[0,0],page:[60]},203:{id:203,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.84209716796875,-114.16495312500001]],bodyPos:[-6.32,2.6],page:[55]},204:{id:204,classifyIndex:2,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.37477539062496,-112.5481171875]],bodyPos:[0,0],page:[65]},205:{id:205,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.6084033203125,-123.86596875000001]],bodyPos:[1.76,17.16],page:[61]},206:{id:206,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[96.71849865951748,18.416075067024167]],bodyPos:[-1.47,13.92],page:[25]},207:{id:207,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[88.46322265624997,118.66035937499998]],bodyPos:[1.76,4.22],page:[64]},208:{id:208,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.37477539062496,120.2771953125]],bodyPos:[0,0],page:[53]},209:{id:209,classifyIndex:2,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.221015625,-131.95014843750002]],bodyPos:[0,0],page:[54]},210:{id:210,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[83.61265624999999,-136.80065625]],bodyPos:[.15,12.31],page:[50]},211:{id:211,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[76.75791015624998,-136.80065625]],bodyPos:[0,0],page:[45]},212:{id:212,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-63.907343749999995,-110.93116406250002]],bodyPos:[0,0],page:[35]},213:{id:213,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.221015625,-81.8281171875]],bodyPos:[0,0],page:[56]},214:{id:214,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.76214843749995,108.95922656249996]],bodyPos:[0,0],page:[58]},215:{id:215,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-82.92206054687506,113.8098515625]],bodyPos:[0,0],page:[58]},216:{id:216,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-78.45894775390627,26.50035937499996]],bodyPos:[.15,59.19],page:[53]},217:{id:217,classifyIndex:2,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[88.07579101562499,2.247703124999987]],bodyPos:[-1.47,100],page:[69]},218:{id:218,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[70.29053710937501,26.50035937499996]],bodyPos:[-1.47,115.78],page:[47]},219:{id:219,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.55495978552284,-91.61073458445037]],bodyPos:[1.76,23.62],page:[27]},220:{id:220,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[71.21715817694366,78.25521715817695]],bodyPos:[.15,99.99],page:[8]},221:{id:221,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.62466487935654,-149.51958176943694]],bodyPos:[0,100],page:[6]},222:{id:222,classifyIndex:2,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[77.41554959785526,-78.09867024128681]],bodyPos:[-1.47,100],page:[7]},223:{id:223,classifyIndex:2,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-69.6943699731903,114.93082037533514]],bodyPos:[.15,91.53],page:[20]},224:{id:224,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[91.30952148437495,-36.55659374999999]],bodyPos:[.15,100],page:[29]},225:{id:225,classifyIndex:2,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-55.8231201171875,-115.7817890625]],bodyPos:[0,0],page:[33]},226:{id:226,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[92.926328125,99.2582109375]],bodyPos:[3.38,10.69],page:[43]},227:{id:227,classifyIndex:2,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[92.926328125,-178.83850781249998]],bodyPos:[1.76,100],page:[43]},228:{id:228,classifyIndex:2,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.84209716796875,-159.43647656250002]],bodyPos:[1.76,122.25],page:[47]},229:{id:229,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[99.39373046875,100.87492968749996]],bodyPos:[0,0],page:[51]},230:{id:230,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[80.37898437499996,-156.2028046875]],bodyPos:[3.38,54.34],page:[52]},231:{id:231,classifyIndex:2,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[88.07579101562499,139.67934375]],bodyPos:[-1.47,100],page:[69]},232:{id:232,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.22525390625,-2.6028046874999973]],bodyPos:[.15,99.99],page:[69]},233:{id:233,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-67.14105224609375,-123.86596875000001]],bodyPos:[-1.47,-24.88],page:[71]},234:{id:234,classifyIndex:2,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-63.51994140625004,-114.16495312500001]],bodyPos:[.15,-16.8],page:[72]},301:{id:301,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-69.98734375000004,-161.0533125]],bodyPos:[-1.47,-38.24],page:[50]},302:{id:302,classifyIndex:3,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.221015625,-13.920656250000036],[90.08011718749992,-18.77116406250002]],bodyPos:[-3.09,-39.86],page:[50,66]},303:{id:303,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.454716796875,146.14668749999998]],bodyPos:[-6.32,-49.56],page:[50]},304:{id:304,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[86.8463281249999,24.883523437500003]],bodyPos:[.15,-20.46],page:[52]},305:{id:305,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[75.52847656249992,183.33403124999995]],bodyPos:[3.38,-31.78],page:[54]},306:{id:306,classifyIndex:3,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.9116406249999,34.58453906249997]],bodyPos:[-3.09,-79.96],page:[30]},307:{id:307,classifyIndex:3,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[86.8463281249999,45.90239062499995]],bodyPos:[11.46,-33.08],page:[34]},308:{id:308,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-89.77682128906253,87.94035937499996]],bodyPos:[1.76,-26.93],page:[65]},309:{id:309,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-78.07155273437502,183.33403124999995]],bodyPos:[5,-36.63],page:[54]},310:{id:310,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.37477539062496,-165.9039375]],bodyPos:[-4.7,-31.78],page:[61]},311:{id:311,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-79.34584450402144,153.53671849865952]],bodyPos:[.15,13.81],page:[26]},312:{id:312,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.454716796875,49.136179687499975]],bodyPos:[.15,-31.78],page:[54]},313:{id:313,classifyIndex:3,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-82.92206054687506,160.6982109375]],bodyPos:[.15,-31.78],page:[52]},314:{id:314,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.07774798927608,-68.44719571045573]],bodyPos:[17.93,33.21],page:[7]},315:{id:315,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[85.13672922252016,155.46701340482576]],bodyPos:[16.32,29.98],page:[7]},316:{id:316,classifyIndex:3,lock:1,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-81.27613941018762,141.9549490616622]],bodyPos:[-15.45,-78.41],page:[14]},317:{id:317,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-63.9034852546917,-157.24076139410184]],bodyPos:[0,0],page:[26]},318:{id:318,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.60415039062502,104.10883593749998]],bodyPos:[-1.47,-76.73],page:[30]},319:{id:319,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[88.58981233243964,124.58229490616623]],bodyPos:[.15,-89.67],page:[22]},320:{id:320,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[90.52010723860593,-120.56515817694367]],bodyPos:[1.76,-91.28],page:[22]},321:{id:321,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.21715817694366,149.6761286863271]],bodyPos:[6.61,-8.82],page:[7]},322:{id:322,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-78.45894775390627,173.6328984375]],bodyPos:[.15,-36.63],page:[53]},323:{id:323,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-65.13680664062503,-152.9691328125]],bodyPos:[-9.56,-21.76],page:[32]},324:{id:324,classifyIndex:3,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-52.32171581769438,-122.49545308310988]],bodyPos:[1.76,-21.76],page:[12]},325:{id:325,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.76214843749995,41.051999999999964]],bodyPos:[.15,-41.48],page:[56]},326:{id:326,classifyIndex:3,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-81.27613941018762,113.0005254691689]],bodyPos:[-11.59,-80.34],page:[2]},327:{id:327,classifyIndex:3,lock:2,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[56.126328124999986,-55.95850781250002]],bodyPos:[-12.79,-81.58],page:[28]},328:{id:328,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[81.60844726562499,141.29606249999995]],bodyPos:[.15,-46.33],page:[63]},329:{id:329,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-63.9034852546917,-143.72869705093828]],bodyPos:[1.76,-42.78],page:[4]},330:{id:330,classifyIndex:3,lock:1,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-76.84209716796875,120.2771953125]],bodyPos:[-16.02,-83.2],page:[13]},331:{id:331,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[63.495978552278814,-12.468643431635371]],bodyPos:[0,-3.14],page:[26]},332:{id:332,classifyIndex:3,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[60.04289544235928,-54.9351313672922]],bodyPos:[-12.79,-79.96],page:[19]},333:{id:333,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[67.35656836461129,153.53671849865952]],bodyPos:[5,12.2],page:[26]},334:{id:334,classifyIndex:3,lock:1,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-63.51994140625004,105.7255546875]],bodyPos:[-12.79,-70.27],page:[36]},335:{id:335,classifyIndex:3,lock:2,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-60.286269531250014,117.04340624999998]],bodyPos:[-12.79,-76.73],page:[22]},336:{id:336,classifyIndex:3,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[83.225283203125,53.98668749999996]],bodyPos:[-14.4,-78.35],page:[35]},337:{id:337,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.93833780160861,12.625190348525507]],bodyPos:[.97,-83.36],page:[18]},338:{id:338,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.93833780160861,178.6305522788204]],bodyPos:[-3.09,-10.44],page:[16]},339:{id:339,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[77.41554959785526,12.625190348525507]],bodyPos:[1.93,11.54],page:[17]},340:{id:340,classifyIndex:3,lock:2,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-8.547343749999982,94.40770312499995]],bodyPos:[-12.79,-84.81],page:[24]},341:{id:341,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[77.14525390624999,173.6328984375]],bodyPos:[.15,-38.24],page:[56]},342:{id:342,classifyIndex:3,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-80.86863270777474,128.4428847184987]],bodyPos:[-12.79,-79.96],page:[15]},343:{id:343,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.37477539062496,-49.49116406250002]],bodyPos:[.15,-36.63],page:[61]},344:{id:344,classifyIndex:3,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-77.00804289544232,-60.72601608579086]],bodyPos:[3.38,-58.95],page:[19]},345:{id:345,classifyIndex:3,lock:1,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[69.69436997319036,-122.49545308310988]],bodyPos:[-14.4,-81.58],page:[3]},347:{id:347,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-79.688359375,150.99719531249997]],bodyPos:[-1.47,-36.63],page:[68]},348:{id:348,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[75.52847656249992,-15.537609374999988]],bodyPos:[5,-17.23],page:[62]},349:{id:349,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-74.83788085937505,139.67934375]],bodyPos:[-3.09,-33.39],page:[60]},350:{id:350,classifyIndex:3,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-84.53892578125004,133.2118828125]],bodyPos:[-16.02,-78.35],page:[40]},351:{id:351,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[92.45040214477211,-145.65899195710452]],bodyPos:[1.76,-36.31],page:[10]},352:{id:352,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-81.69261962890624,-15.537609374999988]],bodyPos:[11.46,-44.71],page:[67]},353:{id:353,classifyIndex:3,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[12.471582031249909,-167.52065625]],bodyPos:[-1.47,-35.01],page:[62]},354:{id:354,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-86.15579101562503,-20.388234375000025]],bodyPos:[5,-54.41],page:[66]},355:{id:355,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.93833780160861,161.25789812332442]],bodyPos:[0,0],page:[20]},356:{id:356,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-13.715817694369946,145.81553887399468]],bodyPos:[1.76,-91.28],page:[28]},357:{id:357,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.21715817694366,-166.89223592493292]],bodyPos:[.15,-29.84],page:[9]},358:{id:358,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.76214843749995,167.1655546875]],bodyPos:[5,-18.84],page:[52]},359:{id:359,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-61.97319034852546,124.58229490616623]],bodyPos:[.15,-23.37],page:[12]},360:{id:360,classifyIndex:3,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.99154541015628,-146.5017890625]],bodyPos:[-1.47,26.75],page:[31]},361:{id:361,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-68.37053710937505,141.29606249999995]],bodyPos:[.15,-41.48],page:[56]},362:{id:362,classifyIndex:3,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[67.05686523437498,66.92149218750001]],bodyPos:[-1.47,-57.65],page:[59]},401:{id:401,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-69.28686327077742,101.41875603217159]],bodyPos:[1.93,48.76],page:[5]},402:{id:402,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[11.785522788203792,85.97639678284185]],bodyPos:[37.33,-62.63],page:[9]},403:{id:403,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-55.8231201171875,66.92149218750001]],bodyPos:[.15,-64.25],page:[29]},404:{id:404,classifyIndex:4,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-52.32171581769438,85.97639678284185]],bodyPos:[1.76,-80.42],page:[10]},405:{id:405,classifyIndex:4,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-1.7265415549597378,136.16406434316355]],bodyPos:[-3.09,26.29],page:[23]},406:{id:406,classifyIndex:4,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[33.49056640624997,-88.2954609375]],bodyPos:[-1.47,-82.03],page:[42]},407:{id:407,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-53.818925781250016,149.38024218749996]],bodyPos:[-3.09,55.4],page:[42]},408:{id:408,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-48.461126005361905,99.4884611260054]],bodyPos:[0,0],page:[4]},409:{id:409,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[1.7265415549597378,-51.07454155495975]],bodyPos:[-4.7,-88.5],page:[16]},410:{id:410,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[.20375335120647264,-49.14424664879354]],bodyPos:[1.76,-77.19],page:[21]},411:{id:411,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-21.029490616621956,-70.37749061662194]],bodyPos:[0,-70.92],page:[15]},412:{id:412,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[24.890080428954377,-101.26220911528145]],bodyPos:[24.4,-31.91],page:[14]},413:{id:413,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[54.25201072386062,-120.56515817694367]],bodyPos:[37.33,-6.04],page:[1]},414:{id:414,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-24.71576171875006,-86.67850781250002]],bodyPos:[-19.27,-10.89],page:[40]},415:{id:415,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-47.35149414062505,102.49199999999996]],bodyPos:[.15,-28.68],page:[38]},416:{id:416,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.84209716796875,141.29606249999995]],bodyPos:[.15,45.7],page:[41]},417:{id:417,classifyIndex:4,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[5.616850585937499,99.2582109375]],bodyPos:[16.32,-1.19],page:[31]},418:{id:418,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-80.07576171875002,-5.836476562500025]],bodyPos:[0,0],page:[45]},419:{id:419,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-86.15579101562503,-136.80065625]],bodyPos:[1.76,76.42],page:[44]},420:{id:420,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[5.9946380697051325,-112.84397855227877]],bodyPos:[9.85,-14.13],page:[23]},421:{id:421,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-78.45894775390627,128.36149218749995]],bodyPos:[-1.47,68.33],page:[47]},422:{id:422,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-61.903134765625055,115.42668749999996]],bodyPos:[7.72,37.18],page:[34]},423:{id:423,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-53.844504021447676,120.7217050938338]],bodyPos:[37.33,-6.04],page:[1]},424:{id:424,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-53.844504021447676,103.34905093833783]],bodyPos:[0,0],page:[3]},425:{id:425,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-51.914209115281466,-118.63486327077743]],bodyPos:[6.61,44.08],page:[11]},426:{id:426,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-57.705093833780126,118.79141018766757]],bodyPos:[6.61,42.46],page:[11]},427:{id:427,classifyIndex:4,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[7.924932975871343,-110.91368364611256]],bodyPos:[-1.47,-23.83],page:[13]},428:{id:428,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.22525390625,105.7255546875]],bodyPos:[.15,21.44],page:[17]},429:{id:429,classifyIndex:4,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-78.07155273437502,79.8561796875]],bodyPos:[-3.87,-49.68],page:[18]},430:{id:430,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-77.00804289544232,140.02465415549602]],bodyPos:[-1.47,44.08],page:[19]},431:{id:431,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-57.705093833780126,-99.33191420911524]],bodyPos:[21.23,44.9],page:[25]},432:{id:432,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[1.1537890624999818,97.64149218749998]],bodyPos:[-16.02,-31.91],page:[32]},433:{id:433,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[26.635805664062474,-125.48292187500002]],bodyPos:[16.32,3.66],page:[37]},434:{id:434,classifyIndex:4,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-28.336835937500013,125.12758593749999]],bodyPos:[16.32,2.04],page:[37]},435:{id:435,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[70.67791015624994,-140.0344453125]],bodyPos:[1.76,21.44],page:[38]},436:{id:436,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[.766357421875,-28.472414062500036]],bodyPos:[3.38,-83.65],page:[39]},437:{id:437,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-62.290522460937495,76.62227343749998]],bodyPos:[.15,-51.31],page:[51]},438:{id:438,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-78.45894775390627,97.64149218749998]],bodyPos:[.15,31.15],page:[59]},439:{id:439,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.454716796875,62.07086718749997]],bodyPos:[.15,-64.25],page:[62]},440:{id:440,classifyIndex:4,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.37477539062496,-88.2954609375]],bodyPos:[-7.94,-15.74],page:[63]},441:{id:441,classifyIndex:4,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-89.77682128906253,87.94035937499996]],bodyPos:[-33.81,-33.53],page:[63]},501:{id:501,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[65.44002929687497,57.22035937499999]],bodyPos:[.15,1.38],page:[49]},502:{id:502,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-50.972612304687516,-117.3987421875]],bodyPos:[29.25,-5.09],page:[57]},503:{id:503,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[62.20632812499997,-138.417609375]],bodyPos:[-38.66,6.23],page:[51]},504:{id:504,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[64.21056640625,-34.93964062500004]],bodyPos:[6.61,-3.47],page:[44]},506:{id:506,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-74.83788085937505,-67.27647656250002]],bodyPos:[.15,-40.66],page:[68]},507:{id:507,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-26.820375335120588,89.83698659517427]],bodyPos:[-50,-35.81],page:[27]},508:{id:508,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.99154541015628,-81.8281171875]],bodyPos:[17.37,-2.02],page:[41]},509:{id:509,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-54.206313476562514,121.89403124999995]],bodyPos:[15.44,34.65],page:[35]},510:{id:510,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-52.589462890625015,121.89403124999995]],bodyPos:[0,0],page:[33]},511:{id:511,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[62.20632812499997,-131.95014843750002]],bodyPos:[-17.64,-.24],page:[67]},512:{id:512,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-67.14105224609375,121.89403124999995]],bodyPos:[.15,7.85],page:[57]},513:{id:513,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-5.994638069705104,68.60374262734587]],bodyPos:[3.86,-25.19],page:[6]},514:{id:514,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-42.88841796875002,-60.809132812500025]],bodyPos:[-6.32,61.2],page:[43]},515:{id:515,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.99154541015628,142.91289843749996]],bodyPos:[.15,30.48],page:[55]},516:{id:516,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-55.8231201171875,155.84770312499995]],bodyPos:[-7.94,11.08],page:[43]},517:{id:517,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[72.2948046875,113.8098515625]],bodyPos:[-3.09,-39.04],page:[50]},518:{id:518,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-27.94943359375003,-83.44495312500001]],bodyPos:[38.95,-79.46],page:[64]},519:{id:519,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-74.83788085937505,-51.1081171875]],bodyPos:[1.76,9.47],page:[52]},520:{id:520,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[70.29053710937501,60.45391406249996]],bodyPos:[-1.47,-6.7],page:[55]},521:{id:521,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-41.27155273437501,115.42668749999996]],bodyPos:[40.57,-13.17],page:[61]},522:{id:522,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.9116406249999,133.2118828125]],bodyPos:[-9.55,54.74],page:[68]},523:{id:523,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.84209716796875,-46.257609375000015]],bodyPos:[.15,27.25],page:[47]},524:{id:524,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[70.29053710937501,133.2118828125]],bodyPos:[3.38,57.97],page:[47]},525:{id:525,classifyIndex:5,lock:1,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[78.37477539062496,96.02453906249997]],bodyPos:[0,0],page:[45]},526:{id:526,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-53.844504021447676,136.16406434316355]],bodyPos:[19.3,-15.53],page:[25]},527:{id:527,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[41.18738769531248,-157.8197578125]],bodyPos:[0,0],page:[41]},528:{id:528,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-68.37053710937505,139.67934375]],bodyPos:[-3.09,6.23],page:[44]},529:{id:529,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.37477539062496,-117.3987421875]],bodyPos:[-1.47,-8.32],page:[53]},530:{id:530,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.76214843749995,-15.537609374999988]],bodyPos:[1.76,17.55],page:[54]},531:{id:531,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.52426757812498,-133.5671015625]],bodyPos:[1.76,49.89],page:[55]},532:{id:532,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.22525390625,-130.3333125]],bodyPos:[0,0],page:[65]},533:{id:533,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[67.05686523437498,125.12758593749999]],bodyPos:[3.38,-6.7],page:[65]},534:{id:534,classifyIndex:5,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[14.088476562499977,-152.9691328125]],bodyPos:[-7.94,19.17],page:[66]},535:{id:535,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[2.770566406249941,146.14668749999998]],bodyPos:[13.08,-14.79],page:[66]},536:{id:536,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-17.018925781250005,139.67934375]],bodyPos:[-22.49,3],page:[67]},537:{id:537,classifyIndex:5,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[75.52847656249992,-133.5671015625]],bodyPos:[1.76,9.47],page:[68]},538:{id:538,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.99154541015628,141.29606249999995]],bodyPos:[.15,32.1],page:[69]},539:{id:539,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-54.206313476562514,131.59504687499998]],bodyPos:[24.4,19.17],page:[71]},540:{id:540,classifyIndex:5,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-45.734716796875034,131.59504687499998]],bodyPos:[21.17,1.38],page:[72]},601:{id:601,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[67.05686523437498,-159.43647656250002]],bodyPos:[0,0],page:[49]},602:{id:602,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.14745308310995,134.23376943699736]],bodyPos:[.15,20.05],page:[14]},603:{id:603,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-58.66946289062503,-123.86596875000001]],bodyPos:[0,0],page:[34]},604:{id:604,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[63.823164062499984,-162.67014843750002]],bodyPos:[.15,-7.44],page:[31]},605:{id:605,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-46.53083109919572,-149.51958176943694]],bodyPos:[.15,8.73],page:[22]},606:{id:606,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[83.61265624999999,146.14668749999998]],bodyPos:[1.76,63.71],page:[40]},607:{id:607,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.14745308310987,-139.86810723860586]],bodyPos:[0,0],page:[3]},608:{id:608,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[98.64879356568366,18.416075067024167]],bodyPos:[0,0],page:[15]},609:{id:609,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.22525390625,-110.93116406250002]],bodyPos:[1.76,21.15],page:[59]},610:{id:610,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[4.3874023437499545,-93.1460859375]],bodyPos:[0,0],page:[58]},611:{id:611,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[80.37898437499996,-128.71647656250002]],bodyPos:[0,0],page:[60]},612:{id:612,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[61.97319034852549,-191.98606970509377]],bodyPos:[.15,21.67],page:[19]},613:{id:613,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[88.07579101562499,-191.7733125]],bodyPos:[0,0],page:[29]},615:{id:615,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[90.52010723860593,-164.9619410187667],[69.28686327077747,-184.2648900804289]],bodyPos:[0,0],page:[4,24]},616:{id:616,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-67.76407506702412,-166.89223592493292]],bodyPos:[.15,3.88],page:[8]},617:{id:617,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-59.05683593750001,-177.22178906250002]],bodyPos:[0,0],page:[29]},618:{id:618,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-67.35656836461123,-159.17105630026805]],bodyPos:[1.76,26.52],page:[27]},619:{id:619,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.93833780160861,-184.2648900804289]],bodyPos:[0,0],page:[18]},620:{id:620,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-56.182305630026804,-164.9619410187667]],bodyPos:[0,0],page:[10]},621:{id:621,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[88.9973,-172.683]],bodyPos:[.15,21.67],page:[9]},622:{id:622,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-79.3454,186.3514]],bodyPos:[-1.47,18.43],page:[16]},623:{id:623,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-78.45894775390627,-199.85760937499998]],bodyPos:[0,0],page:[45]},624:{id:624,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-89.38946289062505,-175.604953125]],bodyPos:[0,0],page:[46]},625:{id:625,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-68.75788818359376,-180.4554609375]],bodyPos:[.15,-6.34],page:[63]},626:{id:626,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.1474,-170.7528]],bodyPos:[-3.09,11.97],page:[8]},627:{id:627,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-67.7642,-151.4498]],bodyPos:[0,0],page:[2]},628:{id:628,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.22525390625,-104.46382031250002]],bodyPos:[0,0],page:[53]},629:{id:629,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.52426757812498,-177.22178906250002]],bodyPos:[-1.47,-2.58],page:[17]},630:{id:630,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[77.008,-155.3104],[81.60844726562499,-156.2028046875]],bodyPos:[-1.47,8.73],page:[6,33]},631:{id:631,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.52426757812498,-185.30596875]],bodyPos:[0,0],page:[47]},632:{id:632,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-60.286269531250014,-89.91229687500001]],bodyPos:[-1.47,-20.89],page:[70]},633:{id:633,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[71.90737304687497,-107.69760937500001]],bodyPos:[1.76,-5.82],page:[47]},634:{id:634,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[14.088476562499977,-175.604953125]],bodyPos:[0,0],page:[48]},635:{id:635,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-60.286269531250014,-12.303937500000018]],bodyPos:[.15,-19.27],page:[70]},636:{id:636,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[98.24,-136]],bodyPos:[-3.09,42.69],page:[12]},637:{id:637,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[98.24,111.07]],bodyPos:[-1.47,44.3],page:[12]},638:{id:638,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[85.13,130.373]],bodyPos:[-1.47,26.52],page:[13]},639:{id:639,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-71.64,-178.427]],bodyPos:[.15,13.58],page:[18]},640:{id:640,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.1477,-203.561]],bodyPos:[0,0],page:[19]},641:{id:641,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.9383,-164.961]],bodyPos:[.15,32.99],page:[20]},642:{id:642,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-61.9736,-182.337]],bodyPos:[0,0],page:[24]},643:{id:643,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[85.1367,-190.0556]],bodyPos:[-1.47,13.58],page:[25]},644:{id:644,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[80.37898437499996,-146.5017890625]],bodyPos:[-1.47,23.28],page:[32]},645:{id:645,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[77.14525390624999,-165.9039375]],bodyPos:[1.76,31.37],page:[34]},646:{id:646,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.22525390625,-204.5]],bodyPos:[1.76,-7.95],page:[51]},647:{id:647,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.22525390625,-196.62382031250002]],bodyPos:[0,0],page:[53]},648:{id:648,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[75.52847656249992,-191.7733125]],bodyPos:[.15,16.3],page:[54]},649:{id:649,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.76214843749995,-81.8281171875]],bodyPos:[3.38,9.83],page:[56]},650:{id:650,classifyIndex:6,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[80.37898437499996,-186.9228046875]],bodyPos:[1.76,13.07],page:[56]},651:{id:651,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.454716796875,-190.15659375]],bodyPos:[0,0],page:[58]},652:{id:652,classifyIndex:6,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[80.37898437499996,-195.0071015625]],bodyPos:[0,0],page:[58]},653:{id:653,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[84.84211914062496,175.2498515625]],bodyPos:[0,0],page:[61]},654:{id:654,classifyIndex:36,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[77.14525390624999,160.6982109375]],bodyPos:[0,0],page:[62]},655:{id:655,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-57.05259765625004,157.46442187499997]],bodyPos:[0,0],page:[64]},656:{id:656,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-84.92631347656254,-136.80065625]],bodyPos:[0,0],page:[67]},657:{id:657,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-60.286269531250014,-170.75444531250002]],bodyPos:[1.76,-22.5],page:[70]},658:{id:658,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[81.60844726562499,10.331999999999994]],bodyPos:[.15,21.15],page:[71]},659:{id:659,classifyIndex:6,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.9116406249999,20.032898437499966]],bodyPos:[.15,19.53],page:[72]},701:{id:701,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[102.62743164062499,-30.089132812499997]],bodyPos:[11.46,-5.14],page:[33]},702:{id:702,classifyIndex:7,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[104.24423828124998,184.95086718749997]],bodyPos:[0,0],page:[33]},703:{id:703,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-75.07774798927608,182.49114209115282]],bodyPos:[1.76,-16.46],page:[21]},704:{id:704,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.55495978552284,161.25789812332442]],bodyPos:[8.23,-40.71],page:[3]},705:{id:705,classifyIndex:7,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[76.75791015624998,44.285554687499996]],bodyPos:[9.65,-41.49],page:[41]},706:{id:706,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[69.06107421874992,-169.137609375]],bodyPos:[.15,-1.91],page:[30]},707:{id:707,classifyIndex:7,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.14745308310987,-103.19250402144769]],bodyPos:[-1.47,-50.41],page:[17]},708:{id:708,classifyIndex:7,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-47.35149414062505,142.91289843749996]],bodyPos:[-4.7,-60.11],page:[48]},709:{id:709,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[83.20643431635392,170.9093726541555]],bodyPos:[50,-37.64],page:[17]},710:{id:710,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-78.45894775390627,189.80137499999995]],bodyPos:[0,0],page:[45]},711:{id:711,classifyIndex:7,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[86.65951742627345,118.79141018766757]],bodyPos:[-3.09,-31.01],page:[2]},712:{id:712,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[98.24128686327077,107.20964075067025]],bodyPos:[1.76,-31.01],page:[4]},713:{id:713,classifyIndex:7,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[73.55495978552284,194.07291152815014]],bodyPos:[1.93,-35.71],page:[15]},714:{id:714,classifyIndex:7,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[87.06702412868634,103.34905093833783]],bodyPos:[1.76,-19.7],page:[15]},715:{id:715,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[65.83378016085794,147.74583378016086]],bodyPos:[-1.47,-74.66],page:[19]},716:{id:716,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[81.99587890624991,31.3508671875]],bodyPos:[-24.11,9.41],page:[36]},717:{id:717,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[104.24423828124998,87.94035937499996]],bodyPos:[1.76,-18.08],page:[33]},718:{id:718,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[94.93056640624991,3.864421875000005]],bodyPos:[-3.09,-79.52],page:[48]},719:{id:719,classifyIndex:7,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[86.45901367187497,-107.69760937500001]],bodyPos:[1.76,-37.91],page:[48]},720:{id:720,classifyIndex:7,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-76.84209716796875,-136.80065625]],bodyPos:[.15,-28.21],page:[69]},721:{id:721,classifyIndex:7,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[83.225283203125,-196.62382031250002]],bodyPos:[-3.09,-31.04],page:[69]},801:{id:801,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-58.66946289062503,-96.37964062500001]],bodyPos:[-1.47,-80.88],page:[36]},802:{id:802,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[92.926328125,199.50250781249997]],bodyPos:[-1.47,-4.89],page:[39]},803:{id:803,classifyIndex:8,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[78.76214843749995,-186.9228046875]],bodyPos:[-1.47,-25.91],page:[36]},804:{id:804,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-68.37053710937505,-94.76280468750002]],bodyPos:[1.76,-19.45],page:[38]},805:{id:805,classifyIndex:8,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-69.98734375000004,-102.8471015625]],bodyPos:[.15,-12.97],page:[30]},807:{id:807,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[99.78107421874995,184.95086718749997]],bodyPos:[0,0],page:[38]},808:{id:808,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[65.83,176.7]],bodyPos:[6.61,48.47],page:[21]},809:{id:809,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-92.85,2.97]],bodyPos:[3.86,-52.92],page:[26]},810:{id:810,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-90.92,-53]],bodyPos:[.15,40.38],page:[28]},811:{id:811,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-68.37053710937505,-172.3711640625]],bodyPos:[1.76,-6.5],page:[38]},812:{id:812,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[101.39791015624996,87.94035937499996]],bodyPos:[.15,-14.59],page:[38]},813:{id:813,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-55.8231201171875,202.73617968749994]],bodyPos:[-3.09,38.77],page:[39]},814:{id:814,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[56.126328124999986,150.99719531249997]],bodyPos:[0,0],page:[46]},815:{id:815,classifyIndex:8,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[54.509550781249914,204.5]],bodyPos:[0,0],page:[46]},816:{id:816,classifyIndex:8,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-63.51994140625004,139.67934375]],bodyPos:[.15,-67.94],page:[70]},901:{id:901,classifyIndex:9,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[84.72,-128.28]],bodyPos:[-1.47,37.25],page:[2]},902:{id:902,classifyIndex:9,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-69.28,-118.63]],bodyPos:[-1.94,-32.03],page:[5]},903:{id:903,classifyIndex:9,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[77.4155,-122.4954]],bodyPos:[0,-1.13],page:[5]},904:{id:904,classifyIndex:9,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[94.7882,111.0702]],bodyPos:[-1.47,38.86],page:[11]},905:{id:905,classifyIndex:9,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[96.7184,-130.216]],bodyPos:[-3.09,27.55],page:[11]},906:{id:906,classifyIndex:9,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[-73.554,-89.68]],bodyPos:[-1.47,58.27],page:[20]},907:{id:907,classifyIndex:9,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[71.90737304687497,-152.9691328125]],bodyPos:[.15,-32.28],page:[59]},1001:{id:1001,classifyIndex:10,lock:0,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[0,0]],bodyPos:[0,0],page:[73]},1002:{id:1002,classifyIndex:10,lock:1,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[0,0]],bodyPos:[0,0],page:[73]},1003:{id:1003,classifyIndex:10,lock:2,layersNum:null,groupIndex0:null,groupIndex1:null,pagePos:[[0,0]],bodyPos:[0,0],page:[73]},1280:{id:1280,classifyIndex:7,lock:0,layersNum:1,groupIndex0:null,groupIndex1:null,pagePos:[[-65.01,97.31]],page:[0],bodyPos:[-4.94,-24.56]}};o.CInfo=i,cc._RF.pop()},{}],body:[function(t,e,o){"use strict";cc._RF.push(e,"d592bwkOGlO67nznkr0stIX","body");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../SimulationInfo"),c=t("../temporaryStrategy"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.body=this.node},e.prototype.init=function(t){this.makeupBundle=a.bundle.makeupBundle,this.costumeBundle=a.bundle.costumeBundle,this.body=this.node,this.loadBody(t)},e.prototype.loadBody=function(t){var e,o=this.body.getChildByName("face"),n=function(n){if(null==t[n])return"continue";if("lipstick"==n){var r=cc.find("mouth/lips/lipLine",o),a=cc.find("mouth/lips",o);e="lipstick/mouth/"+t[n]+"/",i.makeupBundle.load(e+"lipLine",cc.SpriteFrame,function(t,e){r.getComponent(cc.Sprite).spriteFrame=e}),i.makeupBundle.load(e+"lips",cc.SpriteFrame,function(t,e){a.getComponent(cc.Sprite).spriteFrame=e}),cc.find("mouth/default",o).active=!1}else if("brush"==n){var l=cc.find("blusher",o);e="blusher/face/"+t[n],i.makeupBundle.load(e,cc.SpriteFrame,function(t,e){l.getComponent(cc.Sprite).spriteFrame=e})}else if("eye"==n){e="eye/"+t[n]+"/";var u=cc.find("on/eye",o),d=cc.find("close/new",o);i.makeupBundle.load(e+"on",cc.SpriteFrame,function(t,e){u.getComponent(cc.Sprite).spriteFrame=e}),i.makeupBundle.load(e+"close",cc.SpriteFrame,function(t,e){d.getComponent(cc.Sprite).spriteFrame=e}),cc.find("on/default",o).active=!1,cc.find("close/default",o).active=!1}else if("eyebrow"==n){e="eyebrow/"+t[n];var p=cc.find("eyebrow/brow",o);i.makeupBundle.load(e,cc.SpriteFrame,function(t,e){p.getComponent(cc.Sprite).spriteFrame=e}),cc.find("eyebrow/default",o).active=!1}else{var g=i.body.getChildByName(n),h=g.getChildByName("default"),f=i.body.getChildByName("other");h&&(cc.log("\u6709\u9ed8\u8ba4"),h.active=!1);var y=s.CInfo[t[n]],b=new cc.Node;b.addComponent(cc.Sprite),i.costumeBundle.load("item/"+String(t[n]),cc.SpriteFrame,function(t,e){b.getComponent(cc.Sprite).spriteFrame=e});var m=cc.v3(y.bodyPos[0],y.bodyPos[1]);if(b.setPosition(m),1==y.layersNum){var v=new cc.Node,P=c.default.convertToNew(g,m,f);i.costumeBundle.load("item/"+String(t[n]+"-1"),cc.SpriteFrame,function(t,e){v.addComponent(cc.Sprite).spriteFrame=e}),v.setPosition(P),f.addChild(v)}g.addChild(b)}},i=this;for(var r in t)n(r)},e.prototype.changeEye=function(){var t=this.body.getChildByName("face");cc.find("on",t).active=!cc.find("on",t).active,cc.find("close",t).active=!cc.find("close",t).active},r([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../SimulationInfo":"SimulationInfo","../bundleInfo":"bundleInfo","../temporaryStrategy":"temporaryStrategy"}],bubbles:[function(t,e,o){"use strict";cc._RF.push(e,"f655a3gmaBENo4h2Q+gsDTZ","bubbles");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(t){var e=this;this.open(function(){for(var o=function(o){setTimeout(function(){e.label.string+=t[o]},100*o)},n=0;n<t.length;n++)o(n)})},e.prototype.open=function(t){this.label.string="",cc.tween(this.node).to(.2,{scale:1}).call(t).start()},e.prototype.close=function(){var t=this;cc.tween(this.node).to(.2,{scale:0}).call(function(){t.label.string=""}).start()},r([c(cc.Label)],e.prototype,"label",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],build_mgr:[function(t,e,o){"use strict";cc._RF.push(e,"e13c6h5RRVBmYBjO4LuJpBq","build_mgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.createPage=function(t,e){var o=cc.instantiate(t);return e.addChild(o),o},t}();o.default=n,cc._RF.pop()},{}],bundleInfo:[function(t,e,o){"use strict";cc._RF.push(e,"06a7012NI5PC4mQTd7ewV7m","bundleInfo"),Object.defineProperty(o,"__esModule",{value:!0}),o.bundle=void 0,o.bundle={builtinArr:null,makeupBundle:null,costumeBundle:null,backgroundBundle:null,defaultSpriteSplash:null},cc._RF.pop()},{}],bundle_mgr:[function(t,e,o){"use strict";cc._RF.push(e,"b06faZEXq5DmZTIo4nDp2+U","bundle_mgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.loadBundle=function(){},r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],cabinet:[function(t,e,o){"use strict";cc._RF.push(e,"e6df6tkZIBMIYAFbRU3FyYr","cabinet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHold=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(){},e.prototype.touchItem=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchItemStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchItemMove,this)},e.prototype.touchItemStart=function(){this.isHold||(this.stayPos=this.node.position)},e.prototype.touchItemMove=function(t){var e=t.getStartLocation().sub(t.getLocation()),o=this.stayPos.sub(e);this.node.setPosition(o)},r([c(cc.Node)],e.prototype,"hand",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],clear:[function(t,e,o){"use strict";cc._RF.push(e,"3072eeh1J5NE5xWfM3yNySu","clear");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../printscreen_mgr"),c=t("../sound_mgr"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPlayAni=!1,e}return i(e,t),e.prototype.onEnable=function(){this.init()},e.prototype.init=function(){var t=this;this.isPlayAni=!0;var e=a.stageInfo.finelImageNode;e.parent=this.frame,e.width=a.stageInfo.imageWidth,e.height=a.stageInfo.imageHeight;var o=a.stageInfo.imagePos;o.y=30,e.setPosition(o),cc.tween(e).to(1,{position:cc.v3(0,0),scale:539/e.width}).call(function(){t.isPlayAni=!1;var e=s.default.ScreenShort(t.shortNode);a.otherInfo.shortArr[a.info.enterStageNum]=e}).start()},e.prototype.video=function(){a.info.coin+=200,this.nextPage()},e.prototype.nextPage=function(){this.isPlayAni||(a.info.coin+=100,console.log("\u5b8c\u6210",a.info.enterStageNum),a.info.unLockArr[a.info.enterStageNum]++,a.stageInfo.createNum=null,console.log("\u89e3\u9501\u5173\u5361"+a.stageInfo.lockArr[a.info.enterStageNum]),0==a.info.unLockArr[a.stageInfo.lockArr[a.info.enterStageNum]]&&(a.info.unLockArr[a.stageInfo.lockArr[a.info.enterStageNum]]=1),a.controlMgr.stageClear(),c.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001addCoin\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("addCoin",!0)),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0)))},r([d(cc.Node)],e.prototype,"frame",void 0),r([d(cc.Node)],e.prototype,"shortNode",void 0),r([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../control_mgr":"control_mgr","../printscreen_mgr":"printscreen_mgr","../sound_mgr":"sound_mgr"}],controlPanel:[function(t,e,o){"use strict";cc._RF.push(e,"53f3bVzHzBD/qTUuuY+8Ufi","controlPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./control_mgr"),s=t("./temporaryStrategy"),c=t("./SimulationInfo"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this;cc.sys.isBrowser?this.open.active=!0:(this.open.active=!1,cc.log=function(){},console.log=function(){}),this.open.on(cc.Node.EventType.TOUCH_END,function(){t.panel.active=!0},this),this.close.on(cc.Node.EventType.TOUCH_END,function(){t.panel.active=!1},this)},e.prototype.logTransition=function(t){switch(t){case!0:return"\u5f00\u542f";case!1:return"\u5173\u95ed"}return"*error***\u65b9\u6cd5\u672a\u52a0\u5165"+t},e.prototype.switchDrag=function(t){a.info.isDrag=!a.info.isDrag,this.bottom.active=a.info.isDrag;var e=t.target.children[0];e.color=[cc.Color.WHITE,cc.Color.GREEN][Number(a.info.isDrag)],e.getComponent(cc.Label).string="\u521d\u59cb\u4f4d\u7f6e\u62d6\u52a8"+["","-\u5df2\u5f00\u542f"][Number(a.info.isDrag)],console.log("Drag\u72b6\u6001\u4e3a"+this.logTransition(a.info.isDrag))},e.prototype.saveDrag=function(){a.info.wardrobeCom||console.error("wardrobeCom\u4e0d\u5b58\u5728");var t=a.info.wardrobeCom.getItem(),e=c.CInfo;cc.log("save\u6309\u94ae\u6d4b\u8bd5",t);for(var o=s.default.kTDecimals,n=0,i=t;n<i.length;n++){var r=i[n],l=r.pagePos;l[t.pageIndex]=[o(r.initialPos[0]),o(r.initialPos[1])];var u=[o(r.bodyPos[0]),o(r.bodyPos[1])];e[r.id]={id:r.id,classifyIndex:r.classifyIndex,lock:r.lock,layersNum:r.layersNum,groupIndex0:r.groupIndex0,groupIndex1:r.groupIndex1,pagePos:l,bodyPos:u,page:r.page}}console.log(JSON.stringify(e)),s.default.creatJosnFile(JSON.stringify(e),"\u9053\u5177\u4f4d\u7f6e")},r([d(cc.Node)],e.prototype,"close",void 0),r([d(cc.Node)],e.prototype,"open",void 0),r([d(cc.Node)],e.prototype,"panel",void 0),r([d(cc.Node)],e.prototype,"bottom",void 0),r([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./SimulationInfo":"SimulationInfo","./control_mgr":"control_mgr","./temporaryStrategy":"temporaryStrategy"}],control_mgr:[function(t,e,o){"use strict";cc._RF.push(e,"adefbXCZaZPBLtnuR0eSAng","control_mgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.controlMgr=o.otherInfo=o.stageInfo=o.bodyInfo=o.info=void 0;var n={isDrag:!1,wardrobeCom:null,coin:0,highStageNum:0,buyId:[],enterStageNum:0,unLockArr:[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],firstCreate:[0,0,0]};o.info=n;var i={finelImageNode:null,imageWidth:0,imageHeight:0,imagePos:cc.v3(0,0),createBodyType:0,lockArr:[1,2,3,5,5,6,7,8,9,10,11,12,13,16,16,16,17,18,19,20,21,22,25,25,25,26,27,28,29,30,31,32,33,34,35,36,37,39,39,39],isInsertBody:0,createNum:null,imageSFrame:{}};o.stageInfo=i,o.otherInfo={shortArr:[]},o.bodyInfo={clothes:null,set:null,pants:null,coat:null,shoes:null,headwear:null,hair:null,socks:null,holdit:null,pendant:null,lipstick:null,blusher:null,eye:null,eyebrow:null};var r=function(){function t(){}return t.saveInfo=function(){var t={};for(var e in n)"wardrobeCom"!=e&&(t[e]=n[e]);console.log("\u5b58\u6863",t),localStorage.setItem("gameInfo",JSON.stringify(t))},t.loadInfo=function(){var t=localStorage.getItem("gameInfo");if(null!=t&&""!=t)for(var e in t=JSON.parse(t),console.log(t),t)n.hasOwnProperty(e)&&(n[e]=t[e]);else console.log("\u65e0\u5b58\u6863\u6216\u9519\u8bef",t)},t.stageClear=function(){n.enterStageNum>n.highStageNum&&(n.highStageNum=n.enterStageNum),t.saveInfo()},t.removeSave=function(){localStorage.removeItem("gameInfo")},t}();o.controlMgr=r,cc._RF.pop()},{}],"cos-js-sdk-v5.min":[function(require,module,exports){"use strict";var t;cc._RF.push(module,"2115ehp42NB5oiowZhoTxys","cos-js-sdk-v5.min"),t=function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/dist/",o(o.s=10)}([function(t){function e(o){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(o)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,o){(function(e){var n=o(0),i=o(12),r=o(15),a=o(16),s=o(21),c=o(22),l=o(6);function u(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function d(t,e){var o=[];for(var n in t)t.hasOwnProperty(n)&&o.push(e?u(n).toLowerCase():n);return o.sort(function(t,e){return(t=t.toLowerCase())===(e=e.toLowerCase())?0:t>e?1:-1})}var p,g=["cache-control","content-disposition","content-encoding","content-length","content-md5","expect","expires","host","if-match","if-modified-since","if-none-match","if-unmodified-since","origin","range","transfer-encoding"],h=function(t,e,o){var n=e/8,i=t.slice(o,o+n);return new Uint8Array(i).reverse(),new{8:Uint8Array,16:Uint16Array,32:Uint32Array}[e](i)[0]},f=function(t,e,o,n){var i=t.slice(e,o),r="";return new Uint8Array(i).forEach(function(t){r+=String.fromCharCode(t)}),n&&(r=decodeURIComponent(escape(r))),r},y=function(){},b=function(t){var e={};for(var o in t)t.hasOwnProperty(o)&&void 0!==t[o]&&null!==t[o]&&(e[o]=t[o]);return e},m=(p=function(t,e){t=t.split("."),e=e.split(".");for(var o=0;o<e.length;o++)if(t[o]!==e[o])return parseInt(t[o])>parseInt(e[o])?1:-1;return 0},function(t){if(!t)return!1;var e=(t.match(/Chrome\/([.\d]+)/)||[])[1],o=(t.match(/QBCore\/([.\d]+)/)||[])[1],n=(t.match(/QQBrowser\/([.\d]+)/)||[])[1];return e&&p(e,"53.0.2785.116")<0&&o&&p(o,"3.53.991.400")<0&&n&&p(n,"9.0.2524.400")<=0||!1}("undefined"!=typeof navigator&&navigator.userAgent)),v=1048576;function P(t){return _(t,function(t){return"object"===n(t)&&null!==t?P(t):t})}function S(t,e){return x(e,function(o,n){t[n]=e[n]}),t}function I(t){return t instanceof Array}function x(t,e){for(var o in t)t.hasOwnProperty(o)&&e(t[o],o)}function _(t,e){var o=I(t)?[]:{};for(var n in t)t.hasOwnProperty(n)&&(o[n]=e(t[n],n));return o}var C=function(t,e){var o=e.Bucket,n=e.Region,i=e.Key,r=this.options.Domain,a=!r||"string"==typeof r&&r.indexOf("{Bucket}")>-1,s=!r||"string"==typeof r&&r.indexOf("{Region}")>-1;if(t.indexOf("Bucket")>-1||"deleteMultipleObject"===t||"multipartList"===t||"listObjectVersions"===t){if(a&&!o)return"Bucket";if(s&&!n)return"Region"}else if(t.indexOf("Object")>-1||t.indexOf("multipart")>-1||"sliceUploadFile"===t||"abortUploadTask"===t){if(a&&!o)return"Bucket";if(s&&!n)return"Region";if(!i)return"Key"}return!1},w=function(t,e){if(e=S({},e),"getAuth"!==t&&"getV4Auth"!==t&&"getObjectUrl"!==t){var o=e.Headers||{};e&&"object"===n(e)&&(function(){for(var t in e)e.hasOwnProperty(t)&&t.indexOf("x-cos-")>-1&&(o[t]=e[t])}(),T.each({"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-traffic-limit":"TrafficLimit","x-cos-mime-limit":"MimeLimit","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext","Pic-Operations":"PicOperations"},function(t,n){void 0!==e[t]&&(o[n]=e[t])}),e.Headers=b(o))}return e},A=function(t){return Date.now()+(t||0)},k="object"===("undefined"==typeof navigator?"undefined":n(navigator))&&!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),N="object"===("undefined"==typeof navigator?"undefined":n(navigator))&&/\sQQ/i.test(navigator.userAgent),T={noop:y,formatParams:w,apiWrapper:function(t,e){return function(o,n){var i,r=this;if("function"==typeof o&&(n=o,o={}),o=w(t,o),r.options.EnableTracker)if("sliceUploadFile"===o.calledBySdk)i=o.tracker&&o.tracker.generateSubTracker({apiName:t});else if(["uploadFile","uploadFiles"].includes(t))i=null;else{var a=-1;o.Body&&(a="string"==typeof o.Body?o.Body.length:o.Body.size||o.Body.byteLength||-1),i=new l({bucket:o.Bucket,region:o.Region,apiName:t,fileKey:o.Key,fileSize:a,deepTracker:r.options.DeepTracker,customId:r.options.CustomId,delay:r.options.TrackerDelay})}o.tracker=i;var s=function(t){return t&&t.headers&&(t.headers["x-cos-request-id"]&&(t.RequestId=t.headers["x-cos-request-id"]),t.headers["x-ci-request-id"]&&(t.RequestId=t.headers["x-ci-request-id"]),t.headers["x-cos-version-id"]&&(t.VersionId=t.headers["x-cos-version-id"]),t.headers["x-cos-delete-marker"]&&(t.DeleteMarker=t.headers["x-cos-delete-marker"])),t},c=function(t,e){i&&i.formatResult(t,e),n&&n(s(t),s(e))},u=function(){if("getService"!==t&&"abortUploadTask"!==t){var e=C.call(r,t,o);if(e)return"missing param "+e;if(o.Region){if(r.options.CompatibilityMode){if(!/^([a-z\d-.]+)$/.test(o.Region))return"Region format error."}else{if(o.Region.indexOf("cos.")>-1)return'param Region should not be start with "cos."';if(!/^([a-z\d-]+)$/.test(o.Region))return"Region format error."}!r.options.CompatibilityMode&&-1===o.Region.indexOf("-")&&"yfb"!==o.Region&&"default"!==o.Region&&o.Region}if(o.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(o.Bucket))if(o.AppId)o.Bucket=o.Bucket+"-"+o.AppId;else{if(!r.options.AppId)return'Bucket should format as "test-1250000000".';o.Bucket=o.Bucket+"-"+r.options.AppId}o.AppId&&delete o.AppId}!r.options.UseRawKey&&o.Key&&"/"===o.Key.substr(0,1)&&(o.Key=o.Key.substr(1))}}(),d=["getAuth","getObjectUrl"].includes(t);if("function"==typeof Promise&&!d&&!n)return new Promise(function(t,i){if(n=function(e,o){e?i(e):t(o)},u)return c(T.error(new Error(u)));e.call(r,o,c)});if(u)return c(T.error(new Error(u)));var p=e.call(r,o,c);return d?p:void 0}},xml2json:a,json2xml:s,md5:i,clearKey:b,fileSlice:function(t,e,o,n,i){var r;if(t.slice?r=t.slice(e,o):t.mozSlice?r=t.mozSlice(e,o):t.webkitSlice&&(r=t.webkitSlice(e,o)),n&&m){var a=new FileReader;a.onload=function(){r=null,i(new Blob([a.result]))},a.readAsArrayBuffer(r)}else i(r)},getBodyMd5:function(t,e,o,n){o=o||y,t?"string"==typeof e?o(T.md5(e,!0)):Blob&&e instanceof Blob?T.getFileMd5(e,function(t,e){o(e)},n):o():o()},getFileMd5:function(t,e,o){var n=t.size,r=0,a=i.getCtx();!function i(s){if(s>=n){var c=a.digest("hex");e(null,c)}else{var l=Math.min(n,s+v);T.fileSlice(t,s,l,!1,function(t){!function(t,e){var o,n=new FileReader;FileReader.prototype.readAsBinaryString?(o=FileReader.prototype.readAsBinaryString,n.onload=function(){e(this.result)}):FileReader.prototype.readAsArrayBuffer&&(o=function(t){var o="",n=new FileReader;n.onload=function(){for(var t=new Uint8Array(n.result),i=t.byteLength,r=0;r<i;r++)o+=String.fromCharCode(t[r]);e(o)},n.readAsArrayBuffer(t)}),o.call(n,t)}(t,function(e){t=null,a=a.update(e,!0),r+=e.length,e=null,o&&o({loaded:r,total:n,percent:Math.round(r/n*1e4)/1e4}),i(s+v)})})}}(0)},b64:function(t){var e,o,n,i="";for(e=0,o=t.length/2;e<o;e++)n=parseInt(t[2*e]+t[2*e+1],16),i+=String.fromCharCode(n);return btoa(i)},extend:S,isArray:I,isInArray:function(t,e){for(var o=!1,n=0;n<t.length;n++)if(e===t[n]){o=!0;break}return o},makeArray:function(t){return I(t)?t:[t]},each:x,map:_,filter:function(t,e){var o=I(t),n=o?[]:{};for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)&&(o?n.push(t[i]):n[i]=t[i]);return n},clone:P,attr:function(t,e,o){return t&&e in t?t[e]:o},uuid:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},camSafeUrlEncode:u,throttleOnProgress:function(t,e){var o,n,i=this,r=0,a=0,s=Date.now();function c(){if(n=0,e&&"function"==typeof e){o=Date.now();var i,c=Math.max(0,Math.round((a-r)/((o-s)/1e3)*100)/100)||0;i=0===a&&0===t?1:Math.floor(a/t*100)/100||0,s=o,r=a;try{e({loaded:a,total:t,speed:c,percent:i})}catch(t){}}}return function(e,o){if(e&&(a=e.loaded,t=e.total),o)clearTimeout(n),c();else{if(n)return;n=setTimeout(c,i.options.ProgressInterval)}}},getFileSize:function(t,e,o){var n;"string"==typeof e.Body?e.Body=new Blob([e.Body],{type:"text/plain"}):e.Body instanceof ArrayBuffer&&(e.Body=new Blob([e.Body])),e.Body&&(e.Body instanceof Blob||"[object File]"===e.Body.toString()||"[object Blob]"===e.Body.toString())?(n=e.Body.size,e.ContentLength=n,o(null,n)):o(T.error(new Error("params body format error, Only allow File|Blob|String.")))},getSkewTime:A,error:function(t,e){var o=t;return t.message=t.message||null,"string"==typeof e?(t.error=e,t.message=e):"object"===n(e)&&null!==e&&(S(t,e),(e.code||e.name)&&(t.code=e.code||e.name),e.message&&(t.message=e.message),e.stack&&(t.stack=e.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(t,"name",{writable:!0,enumerable:!1}),Object.defineProperty(t,"message",{enumerable:!0})),t.name=e&&e.name||t.name||t.code||"Error",t.code||(t.code=t.name),t.error||(t.error=P(o)),t},obj2str:function(t,e){var o,n,i,r=[],a=d(t);for(o=0;o<a.length;o++)i=void 0===t[n=a[o]]||null===t[n]?"":""+t[n],n=e?u(n).toLowerCase():u(n),i=u(i)||"",r.push(n+"="+i);return r.join("&")},getAuth:function(t){var e,o=(t=t||{}).SecretId,n=t.SecretKey,i=t.KeyTime,a=(t.method||t.Method||"get").toLowerCase(),s=P(t.Query||t.params||{}),c=function(t){var e={};for(var o in t){var n=o.toLowerCase();(n.indexOf("x-cos-")>-1||g.indexOf(n)>-1)&&(e[o]=t[o])}return e}(P(t.Headers||t.headers||{})),l=t.Key||"";t.UseRawKey?e=t.Pathname||t.pathname||"/"+l:0!==(e=t.Pathname||t.pathname||l).indexOf("/")&&(e="/"+e);var u=!1!==t.ForceSignHost;if(!c.Host&&!c.host&&t.Bucket&&t.Region&&u&&(c.Host=t.Bucket+".cos."+t.Region+".myqcloud.com"),!o)throw new Error("missing param SecretId");if(!n)throw new Error("missing param SecretKey");var p=Math.round(A(t.SystemClockOffset)/1e3)-1,h=p,f=t.Expires||t.expires;h+=void 0===f?900:1*f||0;var y=o,b=i||p+";"+h,m=i||p+";"+h,v=d(c,!0).join(";").toLowerCase(),S=d(s,!0).join(";").toLowerCase(),I=r.HmacSHA1(m,n).toString(),x=[a,e,T.obj2str(s,!0),T.obj2str(c,!0),""].join("\n"),_=["sha1",b,r.SHA1(x).toString(),""].join("\n");return["q-sign-algorithm=sha1","q-ak="+y,"q-sign-time="+b,"q-key-time="+m,"q-header-list="+v,"q-url-param-list="+S,"q-signature="+r.HmacSHA1(_,I).toString()].join("&")},parseSelectPayload:function(t){for(var e={},o=f(t),n={records:[]};t.byteLength;){var i,r=h(t,32,0),a=h(t,32,4),s=r-a-16,c=0;for(t=t.slice(12);c<a;){var l=h(t,8,c),u=f(t,c+1,c+1+l),d=h(t,16,c+l+2),p=f(t,c+l+4,c+l+4+d);e[u]=p,c+=l+4+d}if("Records"===e[":event-type"])i=f(t,c,c+s,!0),n.records.push(i);else if("Stats"===e[":event-type"])i=f(t,c,c+s,!0),n.stats=T.xml2json(i).Stats;else if("error"===e[":event-type"]){var g=e[":error-code"],y=e[":error-message"],b=new Error(y);b.message=y,b.name=b.code=g,n.error=b}else["Progress","Continuation","End"].includes(e[":event-type"]);t=t.slice(c+s+4)}return{payload:n.records.join(""),body:o}},getSourceParams:function(t){var e=this.options.CopySourceParser;if(e)return e(t);var o=t.match(/^([^.]+-\d+)\.cos(v6|-cdc|-cdz|-internal)?\.([^.]+)\.((myqcloud\.com)|(tencentcos\.cn))\/(.+)$/);return o?{Bucket:o[1],Region:o[3],Key:o[7]}:null},isBrowser:!0,isNode:function(){return"object"!==("undefined"==typeof window?"undefined":n(window))&&"object"===(void 0===e?"undefined":n(e))&&!("object"===("undefined"==typeof globalThis?"undefined":n(globalThis))&&("DedicatedWorkerGlobalScope"===globalThis.constructor.name||globalThis.FileReaderSync))},isCIHost:function(t){return/^https?:\/\/([^/]+\.)?ci\.[^/]+/.test(t)},isIOS_QQ:k&&N,encodeBase64:function(t,e){var o=c.encode(t);return e&&(o=o.replaceAll("+","-").replaceAll("/","_").replaceAll("=","")),o}};t.exports=T}).call(this,o(3))},function(t,e){function o(t,e){return void 0===e&&(e=Object),e&&"function"==typeof e.freeze?e.freeze(t):t}var n=o({HTML:"text/html",isHTML:function(t){return t===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=o({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.assign=function(t,e){if(null===t||"object"!=typeof t)throw new TypeError("target is not an object");for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},e.find=function(t,e,o){if(void 0===o&&(o=Array.prototype),t&&"function"==typeof o.find)return o.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}},e.freeze=o,e.MIME_TYPE=n,e.NAMESPACE=i},function(e){var o,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:r}catch(e){o=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&g())}function g(){if(!u){var t=s(p);u=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function f(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];l.push(new h(t,e)),1!==l.length||u||s(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,o){var n=o(2),i=n.find,r=n.NAMESPACE;function a(t){return""!==t}function s(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function c(t){if(!t)return[];var e=function(t){return t?t.split(/[\t\n\f\r ]+/).filter(a):[]}(t);return Object.keys(e.reduce(s,{}))}function l(t,e){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}function u(t,e){var o=t.prototype;if(!(o instanceof e)){var n=function(){};n.prototype=e.prototype,l(o,n=new n),t.prototype=o=n}o.constructor!=t&&(o.constructor=t)}var d={},p=d.ELEMENT_NODE=1,g=d.ATTRIBUTE_NODE=2,h=d.TEXT_NODE=3,f=d.CDATA_SECTION_NODE=4,y=d.ENTITY_REFERENCE_NODE=5,b=d.ENTITY_NODE=6,m=d.PROCESSING_INSTRUCTION_NODE=7,v=d.COMMENT_NODE=8,P=d.DOCUMENT_NODE=9,S=d.DOCUMENT_TYPE_NODE=10,I=d.DOCUMENT_FRAGMENT_NODE=11,x=d.NOTATION_NODE=12,_={},C={},w=(_.INDEX_SIZE_ERR=(C[1]="Index size error",1),_.DOMSTRING_SIZE_ERR=(C[2]="DOMString size error",2),_.HIERARCHY_REQUEST_ERR=(C[3]="Hierarchy request error",3)),A=(_.WRONG_DOCUMENT_ERR=(C[4]="Wrong document",4),_.INVALID_CHARACTER_ERR=(C[5]="Invalid character",5),_.NO_DATA_ALLOWED_ERR=(C[6]="No data allowed",6),_.NO_MODIFICATION_ALLOWED_ERR=(C[7]="No modification allowed",7),_.NOT_FOUND_ERR=(C[8]="Not found",8)),k=(_.NOT_SUPPORTED_ERR=(C[9]="Not supported",9),_.INUSE_ATTRIBUTE_ERR=(C[10]="Attribute in use",10));function N(t,e){if(e instanceof Error)var o=e;else o=this,Error.call(this,C[t]),this.message=C[t],Error.captureStackTrace&&Error.captureStackTrace(this,N);return o.code=t,e&&(this.message=this.message+": "+e),o}function T(){}function O(t,e){this._node=t,this._refresh=e,R(this)}function R(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var o=t._refresh(t._node);vt(t,"length",o.length),l(o,t),t._inc=e}}function E(){}function B(t,e){for(var o=t.length;o--;)if(t[o]===e)return o}function j(t,e,o,n){if(n?e[B(e,n)]=o:e[e.length++]=o,t){o.ownerElement=t;var i=t.ownerDocument;i&&(n&&z(i,t,n),function(t,e,o){i&&i._inc++,o.namespaceURI===r.XMLNS&&(e._nsMap[o.prefix?o.localName:""]=o.value)}(0,t,o))}}function D(t,e,o){var n=B(e,o);if(!(n>=0))throw new N(A,new Error(t.tagName+"@"+o));for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var r=t.ownerDocument;r&&(z(r,t,o),o.ownerElement=null)}}function F(){}function M(){}function U(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function H(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(H(t,e))return!0}while(t=t.nextSibling)}function L(){this.ownerDocument=this}function z(t,e,o){t&&t._inc++,o.namespaceURI===r.XMLNS&&delete e._nsMap[o.prefix?o.localName:""]}function q(t,e,o){if(t&&t._inc){t._inc++;var n=e.childNodes;if(o)n[n.length++]=o;else{for(var i=e.firstChild,r=0;i;)n[r++]=i,i=i.nextSibling;n.length=r,delete n[n.length]}}}function W(t,e){var o=e.previousSibling,n=e.nextSibling;return o?o.nextSibling=n:t.firstChild=n,n?n.previousSibling=o:t.lastChild=o,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,q(t.ownerDocument,t),e}function K(t){return t&&t.nodeType===M.DOCUMENT_TYPE_NODE}function G(t){return t&&t.nodeType===M.ELEMENT_NODE}function V(t){return t&&t.nodeType===M.TEXT_NODE}function X(t,e){var o=t.childNodes||[];if(i(o,G)||K(e))return!1;var n=i(o,K);return!(e&&n&&o.indexOf(n)>o.indexOf(e))}function J(t,e){var o=t.childNodes||[];if(i(o,function(t){return G(t)&&t!==e}))return!1;var n=i(o,K);return!(e&&n&&o.indexOf(n)>o.indexOf(e))}function Q(t,e,o){if(!function(t){return t&&(t.nodeType===M.DOCUMENT_NODE||t.nodeType===M.DOCUMENT_FRAGMENT_NODE||t.nodeType===M.ELEMENT_NODE)}(t))throw new N(w,"Unexpected parent node type "+t.nodeType);if(o&&o.parentNode!==t)throw new N(A,"child not in parent");if(!function(t){return t&&(G(t)||V(t)||K(t)||t.nodeType===M.DOCUMENT_FRAGMENT_NODE||t.nodeType===M.COMMENT_NODE||t.nodeType===M.PROCESSING_INSTRUCTION_NODE)}(e)||K(e)&&t.nodeType!==M.DOCUMENT_NODE)throw new N(w,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function Y(t,e,o){var n=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===M.DOCUMENT_FRAGMENT_NODE){var a=r.filter(G);if(a.length>1||i(r,V))throw new N(w,"More than one element or text in fragment");if(1===a.length&&!X(t,o))throw new N(w,"Element in fragment can not be inserted before doctype")}if(G(e)&&!X(t,o))throw new N(w,"Only one element can be added and only after doctype");if(K(e)){if(i(n,K))throw new N(w,"Only one doctype is allowed");var s=i(n,G);if(o&&n.indexOf(s)<n.indexOf(o))throw new N(w,"Doctype can only be inserted before an element");if(!o&&s)throw new N(w,"Doctype can not be appended since element is present")}}function Z(t,e,o){var n=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===M.DOCUMENT_FRAGMENT_NODE){var a=r.filter(G);if(a.length>1||i(r,V))throw new N(w,"More than one element or text in fragment");if(1===a.length&&!J(t,o))throw new N(w,"Element in fragment can not be inserted before doctype")}if(G(e)&&!J(t,o))throw new N(w,"Only one element can be added and only after doctype");if(K(e)){if(i(n,function(t){return K(t)&&t!==o}))throw new N(w,"Only one doctype is allowed");var s=i(n,G);if(o&&n.indexOf(s)<n.indexOf(o))throw new N(w,"Doctype can only be inserted before an element")}}function $(t,e,o,n){Q(t,e,o),t.nodeType===M.DOCUMENT_NODE&&(n||Y)(t,e,o);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===I){var r=e.firstChild;if(null==r)return e;var a=e.lastChild}else r=a=e;var s=o?o.previousSibling:t.lastChild;r.previousSibling=s,a.nextSibling=o,s?s.nextSibling=r:t.firstChild=r,null==o?t.lastChild=a:o.previousSibling=a;do{r.parentNode=t}while(r!==a&&(r=r.nextSibling));return q(t.ownerDocument||t,t),e.nodeType==I&&(e.firstChild=e.lastChild=null),e}function tt(){this._nsMap={}}function et(){}function ot(){}function nt(){}function it(){}function rt(){}function at(){}function st(){}function ct(){}function lt(){}function ut(){}function dt(){}function pt(){}function gt(t,e){var o=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,r=n.namespaceURI;if(r&&null==i&&null==(i=n.lookupPrefix(r)))var a=[{namespace:r,prefix:null}];return yt(this,o,t,e,a),o.join("")}function ht(t,e,o){var n=t.prefix||"",i=t.namespaceURI;if(!i)return!1;if("xml"===n&&i===r.XML||i===r.XMLNS)return!1;for(var a=o.length;a--;){var s=o[a];if(s.prefix===n)return s.namespace!==i}return!0}function ft(t,e,o){t.push(" ",e,'="',o.replace(/[<>&"\t\n\r]/g,U),'"')}function yt(t,e,o,n,i){if(i||(i=[]),n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case p:var a=t.attributes,s=a.length,c=t.firstChild,l=t.tagName,u=l;if(!(o=r.isHTML(t.namespaceURI)||o)&&!t.prefix&&t.namespaceURI){for(var d,b=0;b<a.length;b++)if("xmlns"===a.item(b).name){d=a.item(b).value;break}if(!d)for(var x=i.length-1;x>=0;x--)if(""===(_=i[x]).prefix&&_.namespace===t.namespaceURI){d=_.namespace;break}if(d!==t.namespaceURI)for(x=i.length-1;x>=0;x--){var _;if((_=i[x]).namespace===t.namespaceURI){_.prefix&&(u=_.prefix+":"+l);break}}}e.push("<",u);for(var C=0;C<s;C++)"xmlns"==(w=a.item(C)).prefix?i.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&i.push({prefix:"",namespace:w.value});for(C=0;C<s;C++){var w,A,k;ht(w=a.item(C),0,i)&&(ft(e,(A=w.prefix||"")?"xmlns:"+A:"xmlns",k=w.namespaceURI),i.push({prefix:A,namespace:k})),yt(w,e,o,n,i)}if(l===u&&ht(t,0,i)&&(ft(e,(A=t.prefix||"")?"xmlns:"+A:"xmlns",k=t.namespaceURI),i.push({prefix:A,namespace:k})),c||o&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),o&&/^script$/i.test(l))for(;c;)c.data?e.push(c.data):yt(c,e,o,n,i.slice()),c=c.nextSibling;else for(;c;)yt(c,e,o,n,i.slice()),c=c.nextSibling;e.push("</",u,">")}else e.push("/>");return;case P:case I:for(c=t.firstChild;c;)yt(c,e,o,n,i.slice()),c=c.nextSibling;return;case g:return ft(e,t.name,t.value);case h:return e.push(t.data.replace(/[<&>]/g,U));case f:return e.push("<![CDATA[",t.data,"]]>");case v:return e.push("\x3c!--",t.data,"--\x3e");case S:var N=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),N)e.push(" PUBLIC ",N),T&&"."!=T&&e.push(" ",T),e.push(">");else if(T&&"."!=T)e.push(" SYSTEM ",T,">");else{var O=t.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case m:return e.push("<?",t.target," ",t.data,"?>");case y:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function bt(t,e,o){var n;switch(e.nodeType){case p:(n=e.cloneNode(!1)).ownerDocument=t;case I:break;case g:o=!0}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,o)for(var i=e.firstChild;i;)n.appendChild(bt(t,i,o)),i=i.nextSibling;return n}function mt(t,e,o){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];"object"!=typeof r&&r!=n[i]&&(n[i]=r)}switch(e.childNodes&&(n.childNodes=new T),n.ownerDocument=t,n.nodeType){case p:var a=e.attributes,s=n.attributes=new E,c=a.length;s._ownerElement=n;for(var l=0;l<c;l++)n.setAttributeNode(mt(t,a.item(l),!0));break;case g:o=!0}if(o)for(var u=e.firstChild;u;)n.appendChild(mt(t,u,o)),u=u.nextSibling;return n}function vt(t,e,o){t[e]=o}_.INVALID_STATE_ERR=(C[11]="Invalid state",11),_.SYNTAX_ERR=(C[12]="Syntax error",12),_.INVALID_MODIFICATION_ERR=(C[13]="Invalid modification",13),_.NAMESPACE_ERR=(C[14]="Invalid namespace",14),_.INVALID_ACCESS_ERR=(C[15]="Invalid access",15),N.prototype=Error.prototype,l(_,N),T.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var o=[],n=0;n<this.length;n++)yt(this[n],o,t,e);return o.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}},O.prototype.item=function(t){return R(this),this[t]},u(O,T),E.prototype={length:0,item:T.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var o=this[e];if(o.nodeName==t)return o}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new N(k);var o=this.getNamedItem(t.nodeName);return j(this._ownerElement,this,t,o),o},setNamedItemNS:function(t){var e,o=t.ownerElement;if(o&&o!=this._ownerElement)throw new N(k);return e=this.getNamedItemNS(t.namespaceURI,t.localName),j(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return D(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var o=this.getNamedItemNS(t,e);return D(this._ownerElement,this,o),o},getNamedItemNS:function(t,e){for(var o=this.length;o--;){var n=this[o];if(n.localName==e&&n.namespaceURI==t)return n}return null}},F.prototype={hasFeature:function(){return!0},createDocument:function(t,e,o){var n=new L;if(n.implementation=this,n.childNodes=new T,n.doctype=o||null,o&&n.appendChild(o),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,o){var n=new at;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=o||"",n}},M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return $(this,t,e)},replaceChild:function(t,e){$(this,t,e,Z),e&&this.removeChild(e)},removeChild:function(t){return W(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return mt(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==h&&t.nodeType==h?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var o=e._nsMap;if(o)for(var n in o)if(Object.prototype.hasOwnProperty.call(o,n)&&o[n]===t)return n;e=e.nodeType==g?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var o=e._nsMap;if(o&&Object.prototype.hasOwnProperty.call(o,t))return o[t];e=e.nodeType==g?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},l(d,M),l(d,M.prototype),L.prototype={nodeName:"#document",nodeType:P,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==I){for(var o=t.firstChild;o;){var n=o.nextSibling;this.insertBefore(o,e),o=n}return t}return $(this,t,e),t.ownerDocument=this,null===this.documentElement&&t.nodeType===p&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),W(this,t)},replaceChild:function(t,e){$(this,t,e,Z),t.ownerDocument=this,e&&this.removeChild(e),G(t)&&(this.documentElement=t)},importNode:function(t,e){return bt(this,t,e)},getElementById:function(t){var e=null;return H(this.documentElement,function(o){if(o.nodeType==p&&o.getAttribute("id")==t)return e=o,!0}),e},getElementsByClassName:function(t){var e=c(t);return new O(this,function(o){var n=[];return e.length>0&&H(o.documentElement,function(i){if(i!==o&&i.nodeType===p){var r=i.getAttribute("class");if(r){var a=t===r;if(!a){var s=c(r);a=e.every((l=s,function(t){return l&&-1!==l.indexOf(t)}))}a&&n.push(i)}}var l}),n})},createElement:function(t){var e=new tt;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new T,(e.attributes=new E)._ownerElement=e,e},createDocumentFragment:function(){var t=new ut;return t.ownerDocument=this,t.childNodes=new T,t},createTextNode:function(t){var e=new nt;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new it;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new rt;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var o=new dt;return o.ownerDocument=this,o.tagName=o.target=t,o.nodeValue=o.data=e,o},createAttribute:function(t){var e=new et;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new lt;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var o=new tt,n=e.split(":"),i=o.attributes=new E;return o.childNodes=new T,o.ownerDocument=this,o.nodeName=e,o.tagName=e,o.namespaceURI=t,2==n.length?(o.prefix=n[0],o.localName=n[1]):o.localName=e,i._ownerElement=o,o},createAttributeNS:function(t,e){var o=new et,n=e.split(":");return o.ownerDocument=this,o.nodeName=e,o.name=e,o.namespaceURI=t,o.specified=!0,2==n.length?(o.prefix=n[0],o.localName=n[1]):o.localName=e,o}},u(L,M),tt.prototype={nodeType:p,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var o=this.ownerDocument.createAttribute(t);o.value=o.nodeValue=""+e,this.setAttributeNode(o)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===I?this.insertBefore(t,null):function(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,q(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var o=this.getAttributeNodeNS(t,e);o&&this.removeAttributeNode(o)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var o=this.getAttributeNodeNS(t,e);return o&&o.value||""},setAttributeNS:function(t,e,o){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+o,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new O(this,function(e){var o=[];return H(e,function(n){n===e||n.nodeType!=p||"*"!==t&&n.tagName!=t||o.push(n)}),o})},getElementsByTagNameNS:function(t,e){return new O(this,function(o){var n=[];return H(o,function(i){i===o||i.nodeType!==p||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||n.push(i)}),n})}},L.prototype.getElementsByTagName=tt.prototype.getElementsByTagName,L.prototype.getElementsByTagNameNS=tt.prototype.getElementsByTagNameNS,u(tt,M),et.prototype.nodeType=g,u(et,M),ot.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(){throw new Error(C[w])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,o){o=this.data.substring(0,t)+o+this.data.substring(t+e),this.nodeValue=this.data=o,this.length=o.length}},u(ot,M),nt.prototype={nodeName:"#text",nodeType:h,splitText:function(t){var e=this.data,o=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(nt,ot),it.prototype={nodeName:"#comment",nodeType:v},u(it,ot),rt.prototype={nodeName:"#cdata-section",nodeType:f},u(rt,ot),at.prototype.nodeType=S,u(at,M),st.prototype.nodeType=x,u(st,M),ct.prototype.nodeType=b,u(ct,M),lt.prototype.nodeType=y,u(lt,M),ut.prototype.nodeName="#document-fragment",ut.prototype.nodeType=I,u(ut,M),dt.prototype.nodeType=m,u(dt,M),pt.prototype.serializeToString=function(t,e,o){return gt.call(t,e,o)},M.prototype.toString=gt;try{if(Object.defineProperty){var Pt=function t(e){switch(e.nodeType){case p:case I:var o=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&o.push(t(e)),e=e.nextSibling;return o.join("");default:return e.nodeValue}};Object.defineProperty(O.prototype,"length",{get:function(){return R(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return Pt(this)},set:function(t){switch(this.nodeType){case p:case I:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),vt=function(t,e,o){t["$$"+e]=o}}}catch(St){}e.DocumentType=at,e.DOMException=N,e.DOMImplementation=F,e.Element=tt,e.Node=M,e.NodeList=T,e.XMLSerializer=pt},function(t,e,o){var n=o(23),i=o(24),r=o(0),a=o(7),s=null,c=function(t){if(!s){var e=o(25);s=new e({appkey:"0AND0VEVB24UBGDU",versionCode:a.version,channelID:"js_sdk",openid:"openid",unionid:"unid",strictMode:!1,delay:t,sessionDuration:6e4})}return s},l=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},u=function(){if("object"===("undefined"==typeof navigator?"undefined":r(navigator))){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return(null==t?void 0:t.type)||(null==t?void 0:t.effectiveType)||"unknown"}return"unknown"},d=function(){return!("object"!==("undefined"==typeof navigator?"undefined":r(navigator))||!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))},p={isMobile:d(),isBrowser:!d(),mobileOsType:"object"===("undefined"==typeof navigator?"undefined":r(navigator))&&navigator.userAgent.match(/(Android|Adr|Linux)/i)?"android":function(){return!("object"!==("undefined"==typeof navigator?"undefined":r(navigator))||!navigator.userAgent.match(/(iPhone|iPod|iPad|iOS)/i))}?"ios":"other_mobile",pcOsType:function(){if("object"!==("undefined"==typeof navigator?"undefined":r(navigator)))return"unknown os";var t=navigator.userAgent.toLowerCase(),e=/macintosh|mac os x/i.test(navigator.userAgent);return t.indexOf("win32")>=0||t.indexOf("wow32")>=0?"win32":t.indexOf("win64")>=0||t.indexOf("wow64")>=0?"win64":e?"mac":"unknown os"}()},g={deviceType:p.isMobile?"mobile":p.isBrowser?"browser":"unknown",devicePlatform:p.isMobile?p.mobileOsType:p.pcOsType,deviceName:function(){if("object"!==("undefined"==typeof navigator?"undefined":r(navigator)))return"unknown device";var t=navigator.userAgent.toLowerCase();if(t.includes("app/tencent_wemeet"))return"tencent_wemeet";if(t.indexOf("maxthon")>=0){var e=t.match(/maxthon\/([\d.]+)/),o=e&&e[1]||"";return"\u50b2\u6e38\u6d4f\u89c8\u5668 ".concat(o).trim()}if(t.indexOf("qqbrowser")>=0){var n=t.match(/qqbrowser\/([\d.]+)/),i=n&&n[1]||"";return"QQ\u6d4f\u89c8\u5668 ".concat(i).trim()}if(t.indexOf("se 2.x")>=0)return"\u641c\u72d7\u6d4f\u89c8\u5668";if(t.indexOf("wxwork")>=0)return"\u5fae\u4fe1\u5185\u7f6e\u6d4f\u89c8\u5668";if(t.indexOf("msie")>=0){var a=t.match(/msie ([\d.]+)/),s=a&&a[1]||"";return"IE ".concat(s).trim()}if(t.indexOf("firefox")>=0){var c=t.match(/firefox\/([\d.]+)/),l=c&&c[1]||"";return"Firefox ".concat(l).trim()}if(t.indexOf("chrome")>=0){var u=t.match(/chrome\/([\d.]+)/),d=u&&u[1]||"";return"Chrome ".concat(d).trim()}if(t.indexOf("opera")>=0){var p=t.match(/opera.([\d.]+)/),g=p&&p[1]||"";return"Opera ".concat(g).trim()}if(t.indexOf("safari")>=0){var h=t.match(/version\/([\d.]+)/),f=h&&h[1]||"";return"Safari ".concat(f).trim()}if(t.indexOf("edge")>=0){var y=t.match(/edge\/([\d.]+)/),b=y&&y[1]||"";return"edge ".concat(b).trim()}return t.substr(0,200)}()},h=["multipartInit","multipartUpload","multipartComplete","multipartList","multipartListPart","multipartAbort"],f=["putObject","postObject","appendObject","sliceUploadFile","uploadFile","uploadFiles"].concat(h),y=["getObject"];function b(t){return t.replace(/([A-Z])/g,"_$1").toLowerCase()}var m=function(){function t(e){n(this,t);var o=e.parent,i=e.traceId,r=e.bucket,s=e.region,u=e.apiName,d=e.fileKey,p=e.fileSize,h=e.accelerate,f=e.customId,y=e.delay,b=e.deepTracker,m=r&&r.substr(r.lastIndexOf("-")+1)||"";this.parent=o,this.deepTracker=b,this.delay=y,this.params={cossdkVersion:a.version,region:s,networkType:"",host:"",accelerate:h?"Y":"N",requestPath:d||"",size:p||-1,httpMd5:0,httpSign:0,httpFull:0,name:u||"",result:"",tookTime:0,errorNode:"",errorCode:"",errorMessage:"",errorRequestId:"",errorStatusCode:0,errorServiceName:"",tracePlatform:"cos-js-sdk-v5",traceId:i||l(),bucket:r,appid:m,partNumber:0,retryTimes:0,reqUrl:"",customId:f||"",deviceType:g.deviceType,devicePlatform:g.devicePlatform,deviceName:g.deviceName,md5StartTime:0,md5EndTime:0,signStartTime:0,signEndTime:0,httpStartTime:0,httpEndTime:0,startTime:(new Date).getTime(),endTime:0},this.beacon=c(y)}return i(t,[{key:"formatResult",value:function(t,e){var o,n,i,r,a,s,c=(new Date).getTime()-this.params.startTime,l=u(),d=t?(null==t?void 0:t.code)||(null==t||null===(o=t.error)||void 0===o?void 0:o.code)||(null==t||null===(n=t.error)||void 0===n?void 0:n.Code):"",p=t?(null==t?void 0:t.message)||(null==t||null===(i=t.error)||void 0===i?void 0:i.message)||(null==t||null===(r=t.error)||void 0===r?void 0:r.Message):"",g=t?(null==t?void 0:t.resource)||(null==t||null===(a=t.error)||void 0===a?void 0:a.resource)||(null==t||null===(s=t.error)||void 0===s?void 0:s.Resource):"",h=t?null==t?void 0:t.statusCode:e.statusCode,f=t?(null==t?void 0:t.headers)&&(null==t?void 0:t.headers["x-cos-request-id"]):(null==e?void 0:e.headers)&&(null==e?void 0:e.headers["x-cos-request-id"]),y=t?f?"Server":"Client":"";if(Object.assign(this.params,{tookTime:c,networkType:l,httpMd5:this.params.md5EndTime-this.params.md5StartTime,httpSign:this.params.signEndTime-this.params.signStartTime,httpFull:this.params.httpEndTime-this.params.httpStartTime,result:t?"Fail":"Success",errorType:y,errorCode:d,errorStatusCode:h,errorMessage:p,errorServiceName:g,errorRequestId:f}),!t||d&&p||(this.params.fullError=t?JSON.stringify(t):""),"getObject"===this.params.name&&(this.params.size=e?e.headers&&e.headers["content-length"]:-1),this.params.reqUrl)try{var b=/^http(s)?:\/\/(.*?)\//.exec(this.params.reqUrl);this.params.host=b[2]}catch(t){this.params.host=this.params.reqUrl}this.sendEvents()}},{key:"setParams",value:function(t){Object.assign(this.params,t)}},{key:"sendEvents",value:function(){if(!h.includes(this.params.name)||this.deepTracker){var t,e=(t=this.params.name,f.includes(t)?"cos_upload":y.includes(t)?"cos_download":"base_service"),o=function(t){var e={},o="Success"===t.result?["tracePlatform","cossdkVersion","region","bucket","appid","networkType","host","accelerate","requestPath","partNumber","size","name","result","tookTime","errorRequestId","retryTimes","reqUrl","customId","deviceType","devicePlatform","deviceName"]:["tracePlatform","cossdkVersion","region","networkType","host","accelerate","requestPath","size","httpMd5","httpSign","httpFull","name","result","tookTime","errorNode","errorCode","errorMessage","errorRequestId","errorStatusCode","errorServiceName","errorType","traceId","bucket","appid","partNumber","retryTimes","reqUrl","customId","fullError","deviceType","devicePlatform","deviceName"];for(var n in t)o.includes(n)&&(e[b(n)]=t[n]);return e}(this.params);this.beacon||(this.beacon=c(this.delay||5e3)),0===this.delay?this.beacon&&this.beacon.onDirectUserAction(e,o):this.beacon&&this.beacon.onUserAction(e,o)}}},{key:"generateSubTracker",value:function(e){return Object.assign(e,{parent:this,deepTracker:this.deepTracker,traceId:this.params.traceId,bucket:this.params.bucket,region:this.params.region,fileKey:this.params.requestPath,customId:this.params.customId,delay:this.delay}),new t(e)}}]),t}();t.exports=m},function(t){t.exports=JSON.parse('{"name":"cos-js-sdk-v5","version":"1.4.20","description":"JavaScript SDK for [\u817e\u8baf\u4e91\u5bf9\u8c61\u5b58\u50a8](https://cloud.tencent.com/product/cos)","main":"dist/cos-js-sdk-v5.js","types":"index.d.ts","scripts":{"prettier":"prettier --write src demo/demo.js test/test.js server/sts.js index.d.ts","server":"node server/sts.js","dev":"cross-env NODE_ENV=development webpack -w --mode=development","build":"cross-env NODE_ENV=production webpack --mode=production","cos-auth.min.js":"uglifyjs ./demo/common/cos-auth.js -o ./demo/common/cos-auth.min.js -c -m","test":"jest --runInBand --coverage"},"repository":{"type":"git","url":"git+https://github.com/tencentyun/cos-js-sdk-v5.git"},"keywords":[],"author":"carsonxu","license":"ISC","bugs":{"url":"https://github.com/tencentyun/cos-js-sdk-v5/issues"},"homepage":"https://github.com/tencentyun/cos-js-sdk-v5#readme","dependencies":{"@xmldom/xmldom":"^0.8.6"},"devDependencies":{"@babel/core":"7.17.9","@babel/plugin-transform-runtime":"7.18.10","@babel/preset-env":"7.16.11","babel-loader":"8.2.5","body-parser":"^1.18.3","cross-env":"^5.2.0","express":"^4.16.4","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","prettier":"^3.0.1","qcloud-cos-sts":"^3.0.2","request":"^2.87.0","terser-webpack-plugin":"4.2.3","uglifyjs":"^2.4.11","webpack":"4.46.0","webpack-cli":"4.10.0"}}')},function(t){var e=function(t){var e={},o=function(t){return!e[t]&&(e[t]=[]),e[t]};t.on=function(t,e){o(t).push(e)},t.off=function(t,e){for(var n=o(t),i=n.length-1;i>=0;i--)e===n[i]&&n.splice(i,1)},t.emit=function(t,e){for(var n=o(t).map(function(t){return t}),i=0;i<n.length;i++)n[i](e)}};t.exports.init=e,t.exports.EventProxy=function(){e(this)}},function(t,e,o){var n,i,r=o(1),a="cos_sdk_upload_cache",s=function(){try{var t=JSON.parse(localStorage.getItem(a))}catch(t){}t||(t=[]),n=t},c=function(){try{n.length?localStorage.setItem(a,JSON.stringify(n)):localStorage.removeItem(a)}catch(t){}},l=function(){if(!n){s.call(this);for(var t=!1,e=Math.round(Date.now()/1e3),o=n.length-1;o>=0;o--){var i=n[o][2];(!i||i+2592e3<e)&&(n.splice(o,1),t=!0)}t&&c()}},u=function(){i||(i=setTimeout(function(){c(),i=null},400))},d={using:{},setUsing:function(t){d.using[t]=!0},removeUsing:function(t){delete d.using[t]},getFileId:function(t,e,o,n){return t.name&&t.size&&t.lastModifiedDate&&e?r.md5([t.name,t.size,t.lastModifiedDate,e,o,n].join("::")):null},getCopyFileId:function(t,e,o,n,i){var a=e["content-length"],s=e.etag||"",c=e["last-modified"];return t&&o?r.md5([t,a,s,c,o,n,i].join("::")):null},getUploadIdList:function(t){if(!t)return null;l.call(this);for(var e=[],o=0;o<n.length;o++)n[o][0]===t&&e.push(n[o][1]);return e.length?e:null},saveUploadId:function(t,e,o){if(l.call(this),t){for(var i=n.length-1;i>=0;i--){var r=n[i];r[0]===t&&r[1]===e&&n.splice(i,1)}n.unshift([t,e,Math.round(Date.now()/1e3)]),n.length>o&&n.splice(o),u()}},removeUploadId:function(t){l.call(this),delete d.using[t];for(var e=n.length-1;e>=0;e--)n[e][1]===t&&n.splice(e,1);u()}};t.exports=d},function(t,e,o){var n=o(11);t.exports=n},function(t,e,o){var n=o(1),i=o(8),r=o(26),a=o(27),s=o(29),c=o(7),l={AppId:"",SecretId:"",SecretKey:"",SecurityToken:"",ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1048576,SliceSize:1048576,CopyChunkParallelLimit:20,CopyChunkSize:10485760,CopySliceSize:10485760,MaxPartNumber:1e4,ProgressInterval:1e3,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadQueueSize:1e4,UploadAddMetaMd5:!1,UploadIdCacheLimit:50,UseAccelerate:!1,ForceSignHost:!0,EnableTracker:!1,DeepTracker:!1,TrackerDelay:5e3,CustomId:""},u=function(t){this.options=n.extend(n.clone(l),t||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1048576,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1048576,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId,this.options.SecretId&&this.options.SecretId.indexOf(" "),this.options.SecretKey&&this.options.SecretKey.indexOf(" "),n.isNode(),i.init(this),r.init(this)};a.init(u,r),s.init(u,r),u.util={md5:n.md5,xml2json:n.xml2json,json2xml:n.json2xml,encodeBase64:n.encodeBase64},u.getAuthorization=n.getAuth,u.version=c.version,t.exports=u},function(module,exports,__webpack_require__){(function(process,global,module){var __WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__(0);(function(){var ERROR="input is invalid type",WINDOW="object"===("undefined"==typeof window?"undefined":_typeof(window)),root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===("undefined"==typeof self?"undefined":_typeof(self)),NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"===(void 0===process?"undefined":_typeof(process))&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"===_typeof(module)&&module.exports,AMD=__webpack_require__(14),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===_typeof(t)&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e,o){return new Md5(!0).update(e,o)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.getCtx=t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var o=OUTPUT_TYPES[e];t[o]=createOutputMethod(o)}return t},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t,e){if(!this.finalized){for(var o,n,i=0,r=t.length,a=this.blocks,s=this.buffer8;i<r;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),ARRAY_BUFFER)for(n=this.start;i<r&&n<64;++i)o=t.charCodeAt(i),e||o<128?s[n++]=o:o<2048?(s[n++]=192|o>>6,s[n++]=128|63&o):o<55296||o>=57344?(s[n++]=224|o>>12,s[n++]=128|o>>6&63,s[n++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++i)),s[n++]=240|o>>18,s[n++]=128|o>>12&63,s[n++]=128|o>>6&63,s[n++]=128|63&o);else for(n=this.start;i<r&&n<64;++i)o=t.charCodeAt(i),e||o<128?a[n>>2]|=o<<SHIFT[3&n++]:o<2048?(a[n>>2]|=(192|o>>6)<<SHIFT[3&n++],a[n>>2]|=(128|63&o)<<SHIFT[3&n++]):o<55296||o>=57344?(a[n>>2]|=(224|o>>12)<<SHIFT[3&n++],a[n>>2]|=(128|o>>6&63)<<SHIFT[3&n++],a[n>>2]|=(128|63&o)<<SHIFT[3&n++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++i)),a[n>>2]|=(240|o>>18)<<SHIFT[3&n++],a[n>>2]|=(128|o>>12&63)<<SHIFT[3&n++],a[n>>2]|=(128|o>>6&63)<<SHIFT[3&n++],a[n>>2]|=(128|63&o)<<SHIFT[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,o,n,i,r,a=this.blocks;this.first?e=((e=((t=((t=a[0]-680876937)<<7|t>>>25)-271733879<<0)^(o=((o=(-271733879^(n=((n=(-1732584194^2004318071&t)+a[1]-117830708)<<12|n>>>20)+t<<0)&(-271733879^t))+a[2]-1126478375)<<17|o>>>15)+n<<0)&(n^t))+a[3]-1316259209)<<22|e>>>10)+o<<0:(t=this.h0,e=this.h1,o=this.h2,e=((e+=((t=((t+=((n=this.h3)^e&(o^n))+a[0]-680876936)<<7|t>>>25)+e<<0)^(o=((o+=(e^(n=((n+=(o^t&(e^o))+a[1]-389564586)<<12|n>>>20)+t<<0)&(t^e))+a[2]+606105819)<<17|o>>>15)+n<<0)&(n^t))+a[3]-1044525330)<<22|e>>>10)+o<<0),e=((e+=((t=((t+=(n^e&(o^n))+a[4]-176418897)<<7|t>>>25)+e<<0)^(o=((o+=(e^(n=((n+=(o^t&(e^o))+a[5]+1200080426)<<12|n>>>20)+t<<0)&(t^e))+a[6]-1473231341)<<17|o>>>15)+n<<0)&(n^t))+a[7]-45705983)<<22|e>>>10)+o<<0,e=((e+=((t=((t+=(n^e&(o^n))+a[8]+1770035416)<<7|t>>>25)+e<<0)^(o=((o+=(e^(n=((n+=(o^t&(e^o))+a[9]-1958414417)<<12|n>>>20)+t<<0)&(t^e))+a[10]-42063)<<17|o>>>15)+n<<0)&(n^t))+a[11]-1990404162)<<22|e>>>10)+o<<0,e=((e+=((t=((t+=(n^e&(o^n))+a[12]+1804603682)<<7|t>>>25)+e<<0)^(o=((o+=(e^(n=((n+=(o^t&(e^o))+a[13]-40341101)<<12|n>>>20)+t<<0)&(t^e))+a[14]-1502002290)<<17|o>>>15)+n<<0)&(n^t))+a[15]+1236535329)<<22|e>>>10)+o<<0,e=((e+=((n=((n+=(e^o&((t=((t+=(o^n&(e^o))+a[1]-165796510)<<5|t>>>27)+e<<0)^e))+a[6]-1069501632)<<9|n>>>23)+t<<0)^t&((o=((o+=(t^e&(n^t))+a[11]+643717713)<<14|o>>>18)+n<<0)^n))+a[0]-373897302)<<20|e>>>12)+o<<0,e=((e+=((n=((n+=(e^o&((t=((t+=(o^n&(e^o))+a[5]-701558691)<<5|t>>>27)+e<<0)^e))+a[10]+38016083)<<9|n>>>23)+t<<0)^t&((o=((o+=(t^e&(n^t))+a[15]-660478335)<<14|o>>>18)+n<<0)^n))+a[4]-405537848)<<20|e>>>12)+o<<0,e=((e+=((n=((n+=(e^o&((t=((t+=(o^n&(e^o))+a[9]+568446438)<<5|t>>>27)+e<<0)^e))+a[14]-1019803690)<<9|n>>>23)+t<<0)^t&((o=((o+=(t^e&(n^t))+a[3]-187363961)<<14|o>>>18)+n<<0)^n))+a[8]+1163531501)<<20|e>>>12)+o<<0,e=((e+=((n=((n+=(e^o&((t=((t+=(o^n&(e^o))+a[13]-1444681467)<<5|t>>>27)+e<<0)^e))+a[2]-51403784)<<9|n>>>23)+t<<0)^t&((o=((o+=(t^e&(n^t))+a[7]+1735328473)<<14|o>>>18)+n<<0)^n))+a[12]-1926607734)<<20|e>>>12)+o<<0,e=((e+=((r=(n=((n+=((i=e^o)^(t=((t+=(i^n)+a[5]-378558)<<4|t>>>28)+e<<0))+a[8]-2022574463)<<11|n>>>21)+t<<0)^t)^(o=((o+=(r^e)+a[11]+1839030562)<<16|o>>>16)+n<<0))+a[14]-35309556)<<23|e>>>9)+o<<0,e=((e+=((r=(n=((n+=((i=e^o)^(t=((t+=(i^n)+a[1]-1530992060)<<4|t>>>28)+e<<0))+a[4]+1272893353)<<11|n>>>21)+t<<0)^t)^(o=((o+=(r^e)+a[7]-155497632)<<16|o>>>16)+n<<0))+a[10]-1094730640)<<23|e>>>9)+o<<0,e=((e+=((r=(n=((n+=((i=e^o)^(t=((t+=(i^n)+a[13]+681279174)<<4|t>>>28)+e<<0))+a[0]-358537222)<<11|n>>>21)+t<<0)^t)^(o=((o+=(r^e)+a[3]-722521979)<<16|o>>>16)+n<<0))+a[6]+76029189)<<23|e>>>9)+o<<0,e=((e+=((r=(n=((n+=((i=e^o)^(t=((t+=(i^n)+a[9]-640364487)<<4|t>>>28)+e<<0))+a[12]-421815835)<<11|n>>>21)+t<<0)^t)^(o=((o+=(r^e)+a[15]+530742520)<<16|o>>>16)+n<<0))+a[2]-995338651)<<23|e>>>9)+o<<0,e=((e+=((n=((n+=(e^((t=((t+=(o^(e|~n))+a[0]-198630844)<<6|t>>>26)+e<<0)|~o))+a[7]+1126891415)<<10|n>>>22)+t<<0)^((o=((o+=(t^(n|~e))+a[14]-1416354905)<<15|o>>>17)+n<<0)|~t))+a[5]-57434055)<<21|e>>>11)+o<<0,e=((e+=((n=((n+=(e^((t=((t+=(o^(e|~n))+a[12]+1700485571)<<6|t>>>26)+e<<0)|~o))+a[3]-1894986606)<<10|n>>>22)+t<<0)^((o=((o+=(t^(n|~e))+a[10]-1051523)<<15|o>>>17)+n<<0)|~t))+a[1]-2054922799)<<21|e>>>11)+o<<0,e=((e+=((n=((n+=(e^((t=((t+=(o^(e|~n))+a[8]+1873313359)<<6|t>>>26)+e<<0)|~o))+a[15]-30611744)<<10|n>>>22)+t<<0)^((o=((o+=(t^(n|~e))+a[6]-1560198380)<<15|o>>>17)+n<<0)|~t))+a[13]+1309151649)<<21|e>>>11)+o<<0,e=((e+=((n=((n+=(e^((t=((t+=(o^(e|~n))+a[4]-145523070)<<6|t>>>26)+e<<0)|~o))+a[11]-1120210379)<<10|n>>>22)+t<<0)^((o=((o+=(t^(n|~e))+a[2]+718787259)<<15|o>>>17)+n<<0)|~t))+a[9]-343485551)<<21|e>>>11)+o<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=o-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+o<<0,this.h3=this.h3+n<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,o=this.h2,n=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(t){if("hex"===t)return this.hex();this.finalize();var e=this.h0,o=this.h1,n=this.h2,i=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,o,n="",i=this.array(),r=0;r<15;)t=i[r++],e=i[r++],o=i[r++],n+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|o>>>6)]+BASE64_ENCODE_CHAR[63&o];return t=i[r],n+(BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__(3),__webpack_require__(13),__webpack_require__(4)(module))},function(t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t){(function(e){t.exports=e}).call(this,{})},function(t,e,o){(function(t){var e,n,i,r,a,s,c,l=o(0),u=u||function(t){var e={},o=e.lib={},n=function(){},i=o.Base={extend:function(t){n.prototype=this;var e=new n;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=o.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,o=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var i=0;i<t;i++)e[n+i>>>2]|=(o[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<o.length)for(i=0;i<t;i+=4)e[n+i>>>2]=o[i>>>2];else e.push.apply(e,o);return this.sigBytes+=t,this},clamp:function(){var e=this.words,o=this.sigBytes;e[o>>>2]&=4294967295<<32-o%4*8,e.length=t.ceil(o/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var o=[],n=0;n<e;n+=4)o.push(4294967296*t.random()|0);return new r.init(o,e)}}),a=e.enc={},s=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var o=[],n=0;n<t;n++){var i=e[n>>>2]>>>24-n%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(t){for(var e=t.length,o=[],n=0;n<e;n+=2)o[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new r.init(o,e/2)}},c=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var o=[],n=0;n<t;n++)o.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return o.join("")},parse:function(t){for(var e=t.length,o=[],n=0;n<e;n++)o[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new r.init(o,e)}},l=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},u=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var o=this._data,n=o.words,i=o.sigBytes,a=this.blockSize,s=i/(4*a);if(e=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,i=t.min(4*e,i),e){for(var c=0;c<e;c+=a)this._doProcessBlock(n,c);c=n.splice(0,e),o.sigBytes-=i}return new r.init(c,i)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});o.Hasher=u.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,o){return new t.init(o).finalize(e)}},_createHmacHelper:function(t){return function(e,o){return new d.HMAC.init(t,o).finalize(e)}}});var d=e.algo={};return e}(Math);n=(a=(e=u).lib).WordArray,i=a.Hasher,r=[],a=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var o=this._hash.words,n=o[0],i=o[1],a=o[2],s=o[3],c=o[4],l=0;80>l;l++){if(16>l)r[l]=0|t[e+l];else{var u=r[l-3]^r[l-8]^r[l-14]^r[l-16];r[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+c+r[l],u=20>l?u+(1518500249+(i&a|~i&s)):40>l?u+(1859775393+(i^a^s)):60>l?u+((i&a|i&s|a&s)-1894007588):u+((i^a^s)-899497514),c=s,s=a,a=i<<30|i>>>2,i=n,n=u}o[0]=o[0]+n|0,o[1]=o[1]+i|0,o[2]=o[2]+a|0,o[3]=o[3]+s|0,o[4]=o[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(o/4294967296),e[15+(n+64>>>9<<4)]=o,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA1=i._createHelper(a),e.HmacSHA1=i._createHmacHelper(a),function(){var t=u,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,o){t=this._hasher=new t.init,"string"==typeof o&&(o=e.parse(o));var n=t.blockSize,i=4*n;o.sigBytes>i&&(o=t.finalize(o)),o.clamp();for(var r=this._oKey=o.clone(),a=this._iKey=o.clone(),s=r.words,c=a.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;r.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),c=(s=u).lib.WordArray,s.enc.Base64={stringify:function(t){var e=t.words,o=t.sigBytes,n=this._map;t.clamp();for(var i=[],r=0;r<o;r+=3)for(var a=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;s<4&&r+.75*s<o;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,o=this._map,n=o.charAt(64);if(n){var i=t.indexOf(n);-1!=i&&(e=i)}for(var r=[],a=0,s=0;s<e;s++)if(s%4){var l=o.indexOf(t.charAt(s-1))<<s%4*2,u=o.indexOf(t.charAt(s))>>>6-s%4*2;r[a>>>2]|=(l|u)<<24-a%4*8,a++}return c.create(r,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},"object"===l(t)?t.exports=u:window.CryptoJS=u}).call(this,o(4)(t))},function(t,e,o){var n=o(17).DOMParser,i=function(){this.version="1.3.5";var t={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},e=new RegExp(/(?!xmlns)^.*:/);return new RegExp(/^\s+|\s+$/g),this.grokType=function(t){return/^\s*$/.test(t)?null:/^(?:true|false)$/i.test(t)?"true"===t.toLowerCase():isFinite(t)?parseFloat(t):t},this.parseString=function(t,e){if(t){var o=this.stringToXML(t);return o.getElementsByTagName("parsererror").length?null:this.parseXML(o,e)}return null},this.parseXML=function(o,n){for(var r in n)t[r]=n[r];var a={},s=0,c="";if(o.childNodes.length)for(var l,u,d,p=0;p<o.childNodes.length;p++)4===(l=o.childNodes.item(p)).nodeType?t.mergeCDATA&&(c+=l.nodeValue):3===l.nodeType?c+=l.nodeValue:1===l.nodeType&&(0===s&&(a={}),u=t.stripElemPrefix?l.nodeName.replace(e,""):l.nodeName,d=i.parseXML(l),a.hasOwnProperty(u)?(a[u].constructor!==Array&&(a[u]=[a[u]]),a[u].push(d)):(a[u]=d,s++));return Object.keys(a).length||(a=c||""),a},this.xmlToString=function(t){try{return t.xml?t.xml:(new XMLSerializer).serializeToString(t)}catch(t){return null}},this.stringToXML=function(t){try{var e=null;return window.DOMParser?e=(new n).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t),e)}catch(t){return null}},this}.call({});t.exports=function(t){return i.parseString(t)}},function(t,e,o){var n=o(5);e.DOMImplementation=n.DOMImplementation,e.XMLSerializer=n.XMLSerializer,e.DOMParser=o(18).DOMParser},function(t,e,o){var n=o(2),i=o(5),r=o(19),a=o(20),s=i.DOMImplementation,c=n.NAMESPACE,l=a.ParseError,u=a.XMLReader;function d(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function p(t){this.options=t||{locator:{}}}function g(){this.cdata=!1}function h(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function f(t,e,o){return"string"==typeof t?t.substr(e,o):t.length>=e+o||e?new java.lang.String(t,e,o)+"":t}function y(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}p.prototype.parseFromString=function(t,e){var o=this.options,n=new u,i=o.domBuilder||new g,a=o.errorHandler,s=o.locator,l=o.xmlns||{},p=/\/x?html?$/.test(e),h=p?r.HTML_ENTITIES:r.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=function(t,e,o){if(!t){if(e instanceof g)return e;t=e}var n={},i=t instanceof Function;function r(e){var r=t[e];!r&&i&&(r=2==t.length?function(o){t(e,o)}:t),n[e]=r&&function(t){r("[xmldom "+e+"]\t"+t+function(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}(o))}||function(){}}return o=o||{},r("warning"),r("error"),r("fatalError"),n}(a,i,s),n.domBuilder=o.domBuilder||i,p&&(l[""]=c.HTML),l.xml=l.xml||c.XML;var f=o.normalizeLineEndings||d;return t&&"string"==typeof t?n.parse(f(t),l,h):n.errorHandler.error("invalid doc source"),i.doc},g.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,o,n){var i=this.doc,r=i.createElementNS(t,o||e),a=n.length;y(this,r),this.currentElement=r,this.locator&&h(this.locator,r);for(var s=0;s<a;s++){t=n.getURI(s);var c=n.getValue(s),l=(o=n.getQName(s),i.createAttributeNS(t,o));this.locator&&h(n.getLocator(s),l),l.value=l.nodeValue=c,r.setAttributeNode(l)}},endElement:function(){var t=this.currentElement;t.tagName,this.currentElement=t.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(t,e){var o=this.doc.createProcessingInstruction(t,e);this.locator&&h(this.locator,o),y(this,o)},ignorableWhitespace:function(){},characters:function(t,e,o){if(t=f.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&h(this.locator,n)}},skippedEntity:function(){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,o){t=f.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&h(this.locator,n),y(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,o){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,o);this.locator&&h(this.locator,i),y(this,i),this.doc.doctype=i}},warning:function(){},error:function(){},fatalError:function(t){throw new l(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){g.prototype[t]=function(){return null}}),e.__DOMHandler=g,e.normalizeLineEndings=d,e.DOMParser=p},function(t,e,o){var n=o(2).freeze;e.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),e.entityMap=e.HTML_ENTITIES},function(t,e,o){var n=o(2).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+i.source+r.source+"*(?::"+i.source+r.source+"*)?$"),s=0,c=1,l=2,u=3,d=4,p=5,g=6,h=7;function f(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,f)}function y(){}function b(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function m(t,e,o,i,r,a){function f(t,e,n){o.attributeNames.hasOwnProperty(t)&&a.fatalError("Attribute "+t+" redefined"),o.addValue(t,e.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),n)}for(var y,b=++e,m=s;;){var v=t.charAt(b);switch(v){case"=":if(m===c)y=t.slice(e,b),m=u;else{if(m!==l)throw new Error("attribute equal must after attrName");m=u}break;case"'":case'"':if(m===u||m===c){if(m===c&&(a.warning('attribute value must after "="'),y=t.slice(e,b)),e=b+1,!((b=t.indexOf(v,e))>0))throw new Error("attribute value no end '"+v+"' match");f(y,P=t.slice(e,b),e-1),m=p}else{if(m!=d)throw new Error('attribute value must after "="');f(y,P=t.slice(e,b),e),a.warning('attribute "'+y+'" missed start quot('+v+")!!"),e=b+1,m=p}break;case"/":switch(m){case s:o.setTagName(t.slice(e,b));case p:case g:case h:m=h,o.closed=!0;case d:case c:case l:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),m==s&&o.setTagName(t.slice(e,b)),b;case">":switch(m){case s:o.setTagName(t.slice(e,b));case p:case g:case h:break;case d:case c:"/"===(P=t.slice(e,b)).slice(-1)&&(o.closed=!0,P=P.slice(0,-1));case l:m===l&&(P=y),m==d?(a.warning('attribute "'+P+'" missed quot(")!'),f(y,P,e)):(n.isHTML(i[""])&&P.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+P+'" missed value!! "'+P+'" instead!!'),f(P,P,e));break;case u:throw new Error("attribute value missed!!")}return b;case"\x80":v=" ";default:if(v<=" ")switch(m){case s:o.setTagName(t.slice(e,b)),m=g;break;case c:y=t.slice(e,b),m=l;break;case d:var P=t.slice(e,b);a.warning('attribute "'+P+'" missed quot(")!!'),f(y,P,e);case p:m=g}else switch(m){case l:o.tagName,n.isHTML(i[""])&&y.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+y+'" missed value!! "'+y+'" instead2!!'),f(y,y,e),e=b,m=c;break;case p:a.warning('attribute space is required"'+y+'"!!');case g:m=c,e=b;break;case u:m=d,e=b;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}b++}}function v(t,e,o){for(var i=t.tagName,r=null,a=t.length;a--;){var s=t[a],c=s.qName,l=s.value;if((g=c.indexOf(":"))>0)var u=s.prefix=c.slice(0,g),d=c.slice(g+1),p="xmlns"===u&&d;else d=c,u=null,p="xmlns"===c&&"";s.localName=d,!1!==p&&(null==r&&(r={},I(o,o={})),o[p]=r[p]=l,s.uri=n.XMLNS,e.startPrefixMapping(p,l))}for(a=t.length;a--;)(u=(s=t[a]).prefix)&&("xml"===u&&(s.uri=n.XML),"xmlns"!==u&&(s.uri=o[u||""]));var g;(g=i.indexOf(":"))>0?(u=t.prefix=i.slice(0,g),d=t.localName=i.slice(g+1)):(u=null,d=t.localName=i);var h=t.uri=o[u||""];if(e.startElement(h,d,i,t),!t.closed)return t.currentNSMap=o,t.localNSMap=r,!0;if(e.endElement(h,d,i),r)for(u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.endPrefixMapping(u)}function P(t,e,o,n,i){if(/^(?:script|textarea)$/i.test(o)){var r=t.indexOf("</"+o+">",e),a=t.substring(e+1,r);if(/[&<]/.test(a))return/^script$/i.test(o)?(i.characters(a,0,a.length),r):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),r)}return e+1}function S(t,e,o,n){var i=n[o];return null==i&&((i=t.lastIndexOf("</"+o+">"))<e&&(i=t.lastIndexOf("</"+o)),n[o]=i),i<e}function I(t,e){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}function x(t,e,o,n){if("-"===t.charAt(e+2))return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(o.comment(t,e+4,i-e-4),i+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return o.startCDATA(),o.characters(t,e+9,i-e-9),o.endCDATA(),i+3}var r=function(t,e){var o,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);o=i.exec(t);)if(n.push(o),o[1])return n}(t,e),a=r.length;if(a>1&&/!doctype/i.test(r[0][0])){var s=r[1][0],c=!1,l=!1;a>3&&(/^public$/i.test(r[2][0])?(c=r[3][0],l=a>4&&r[4][0]):/^system$/i.test(r[2][0])&&(l=r[3][0]));var u=r[a-1];return o.startDTD(s,c,l),o.endDTD(),u.index+u[0].length}return-1}function _(t,e,o){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,o.processingInstruction(i[1],i[2]),n+2):-1}return-1}function C(){this.attributeNames={}}f.prototype=new Error,f.prototype.name=f.name,y.prototype={parse:function(t,e,o){var i=this.domBuilder;i.startDocument(),I(e,e={}),function(t,e,o,i,r){function a(t){if(t>65535){var e=55296+((t-=65536)>>10),o=56320+(1023&t);return String.fromCharCode(e,o)}return String.fromCharCode(t)}function s(t){var e=t.slice(1,-1);return Object.hasOwnProperty.call(o,e)?o[e]:"#"===e.charAt(0)?a(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function c(e){if(e>I){var o=t.substring(I,e).replace(/&#?\w+;/g,s);g&&l(I),i.characters(o,0,e-I),I=e}}function l(e,o){for(;e>=d&&(o=p.exec(t));)u=o.index,d=u+o[0].length,g.lineNumber++;g.columnNumber=e-u+1}for(var u=0,d=0,p=/.*(?:\r\n?|\n)|.*$/g,g=i.locator,h=[{currentNSMap:e}],y={},I=0;;){try{var w=t.indexOf("<",I);if(w<0){if(!t.substr(I).match(/^\s*$/)){var A=i.doc,k=A.createTextNode(t.substr(I));A.appendChild(k),i.currentElement=k}return}switch(w>I&&c(w),t.charAt(w+1)){case"/":var N=t.indexOf(">",w+3),T=t.substring(w+2,N).replace(/[ \t\n\r]+$/g,""),O=h.pop();N<0?(T=t.substring(w+2).replace(/[\s<].*/,""),r.error("end tag name: "+T+" is not complete:"+O.tagName),N=w+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),r.error("end tag name: "+T+" maybe not complete"),N=w+1+T.length);var R=O.localNSMap,E=O.tagName==T;if(E||O.tagName&&O.tagName.toLowerCase()==T.toLowerCase()){if(i.endElement(O.uri,O.localName,T),R)for(var B in R)Object.prototype.hasOwnProperty.call(R,B)&&i.endPrefixMapping(B);E||r.fatalError("end tag name: "+T+" is not match the current start tagName:"+O.tagName)}else h.push(O);N++;break;case"?":g&&l(w),N=_(t,w,i);break;case"!":g&&l(w),N=x(t,w,i,r);break;default:g&&l(w);var j=new C,D=h[h.length-1].currentNSMap,F=(N=m(t,w,j,D,s,r),j.length);if(!j.closed&&S(t,N,j.tagName,y)&&(j.closed=!0,o.nbsp||r.warning("unclosed xml attribute")),g&&F){for(var M=b(g,{}),U=0;U<F;U++){var H=j[U];l(H.offset),H.locator=b(g,{})}i.locator=M,v(j,i,D)&&h.push(j),i.locator=g}else v(j,i,D)&&h.push(j);n.isHTML(j.uri)&&!j.closed?N=P(t,N,j.tagName,s,i):N++}}catch(t){if(t instanceof f)throw t;r.error("element parse error: "+t),N=-1}N>I?I=N:c(Math.max(w,I)+1)}}(t,e,o,i,this.errorHandler),i.endDocument()}},C.prototype={setTagName:function(t){if(!a.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,o){if(!a.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:o}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=y,e.ParseError=f},function(t,e,o){var n=o(0),i="a-zA-Z_\xc0-\xd6\xd8-\xf6\xf8-\xff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fff\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd",r=new RegExp("^([^"+i+"])|^((x|X)(m|M)(l|L))|([^"+i+"-.0-9\xb7\u0300-\u036f\u203f\u2040])","g"),a=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,s=function(t){var e=[];if(t instanceof Object)for(var o in t)t.hasOwnProperty(o)&&e.push(o);return e},c=function(t,e){var o=function(t,o,n,i,a){var s=void 0!==e.indent?e.indent:"\t",c=e.prettyPrint?"\n"+new Array(i).join(s):"";e.removeIllegalNameCharacters&&(t=t.replace(r,"_"));var l=[c,"<",t,n||""];return o&&o.length>0?(l.push(">"),l.push(o),a&&l.push(c),l.push("</"),l.push(t),l.push(">")):l.push("/>"),l.join("")};return function t(i,r,c){var l=n(i);switch((Array.isArray?Array.isArray(i):i instanceof Array)?l="array":i instanceof Date&&(l="date"),l){case"array":var u=[];return i.map(function(e){u.push(t(e,0,c+1))}),e.prettyPrint&&u.push("\n"),u.join("");case"date":return i.toJSON?i.toJSON():i+"";case"object":var d=[];for(var p in i)if(i.hasOwnProperty(p))if(i[p]instanceof Array)for(var g=0;g<i[p].length;g++)i[p].hasOwnProperty(g)&&d.push(o(p,t(i[p][g],0,c+1),null,c+1,s(i[p][g]).length));else d.push(o(p,t(i[p],0,c+1),null,c+1));return e.prettyPrint&&d.length>0&&d.push("\n"),d.join("");case"function":return i();default:return e.escape?(""+i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(a,""):""+i}}(t,0,0)},l=function(t){var e=['<?xml version="1.0" encoding="UTF-8"'];return t&&e.push(' standalone="yes"'),e.push("?>"),e.join("")};t.exports=function(t,e){if(e||(e={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),"string"==typeof t)try{t=JSON.parse(t.toString())}catch(t){return!1}var o="",i="";return e&&("object"==n(e)?(e.xmlHeader&&(o=l(!!e.xmlHeader.standalone)),void 0!==e.docType&&(i="<!DOCTYPE "+e.docType+">")):o=l()),[o,(e=e||{}).prettyPrint&&i?"\n":"",i,c(t,e)].join("").replace(/\n{2,}/g,"\n").replace(/\s+$/g,"")}},function(t){var e=function(t){var e=(t=t||{}).Base64,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(t){for(var e={},o=0,n=t.length;o<n;o++)e[t.charAt(o)]=o;return e}(o),i=String.fromCharCode,r=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?i(192|e>>>6)+i(128|63&e):i(224|e>>>12&15)+i(128|e>>>6&63)+i(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return i(240|e>>>18&7)+i(128|e>>>12&63)+i(128|e>>>6&63)+i(128|63&e)},a=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(t){return t.replace(a,r)},c=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)].join("")},l=t.btoa?function(e){return t.btoa(e)}:function(t){return t.replace(/[\s\S]{1,3}/g,c)},u=function(t){return l(s(t))},d=function(t,e){return e?u(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):u(String(t))},p=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),g=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return i(55296+(e>>>10))+i(56320+(1023&e));case 3:return i((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return i((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},h=function(t){return t.replace(p,g)},f=function(t){var e=t.length,o=e%4,r=(e>0?n[t.charAt(0)]<<18:0)|(e>1?n[t.charAt(1)]<<12:0)|(e>2?n[t.charAt(2)]<<6:0)|(e>3?n[t.charAt(3)]:0),a=[i(r>>>16),i(r>>>8&255),i(255&r)];return a.length-=[0,0,2,1][o],a.join("")},y=t.atob?function(e){return t.atob(e)}:function(t){return t.replace(/[\s\S]{1,4}/g,f)},b=function(t){return h(y(t))},m=function(t){return b(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};return{VERSION:"2.1.9",atob:y,btoa:l,fromBase64:m,toBase64:d,utob:s,encode:d,encodeURI:function(t){return d(t,!0)},btou:h,decode:m,noConflict:function(){var o=t.Base64;return t.Base64=e,o}}}();t.exports=e},function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t){function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,o){var n,i,r;r=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)},e=function(){return(e=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(t){r(t)}}function s(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})}function n(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var i="__BEACON_",r="__BEACON_deviceId",a="last_report_time",s="sending_event_ids",c="beacon_config",l="beacon_config_request_time",u=function(){function t(){var t=this;this.emit=function(e,o){if(t){var n,i=t.__EventsList[e];if(null==i?void 0:i.length){i=i.slice();for(var r=0;r<i.length;r++){n=i[r];try{var a=n.callback.apply(t,[o]);if(1===n.type&&t.remove(e,n.callback),!1===a)break}catch(t){throw t}}}return t}},this.__EventsList={}}return t.prototype.indexOf=function(t,e){for(var o=0;o<t.length;o++)if(t[o].callback===e)return o;return-1},t.prototype.on=function(t,e,o){if(void 0===o&&(o=0),this){var n=this.__EventsList[t];if(n||(n=this.__EventsList[t]=[]),-1===this.indexOf(n,e)){var i={name:t,type:o||0,callback:e};return n.push(i),this}return this}},t.prototype.one=function(t,e){this.on(t,e,1)},t.prototype.remove=function(t,e){if(this){var o=this.__EventsList[t];if(!o)return null;if(!e){try{delete this.__EventsList[t]}catch(t){}return null}if(o.length){var n=this.indexOf(o,e);o.splice(n,1)}return this}},t}();function d(t,e){for(var o={},n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],a=t[r];if("string"==typeof a)o[p(r)]=p(a);else{if(e)throw new Error("value mast be string  !!!!");o[p(String(r))]=p(String(a))}}return o}function p(t){if("string"!=typeof t)return t;try{return t.replace(new RegExp("\\|","g"),"%7C").replace(new RegExp("\\&","g"),"%26").replace(new RegExp("\\=","g"),"%3D").replace(new RegExp("\\+","g"),"%2B")}catch(t){return""}}function g(t){return String(t.A99)+String(t.A100)}var h=function(){},f=function(){function t(t){var o=this;this.lifeCycle=new u,this.uploadJobQueue=[],this.additionalParams={},this.delayTime=0,this._normalLogPipeline=function(t){if(!t||!t.reduce||!t.length)throw new TypeError("createPipeline \u65b9\u6cd5\u9700\u8981\u4f20\u5165\u81f3\u5c11\u6709\u4e00\u4e2a pipe \u7684\u6570\u7ec4");return 1===t.length?function(e,o){t[0](e,o||h)}:t.reduce(function(t,e){return function(o,n){return void 0===n&&(n=h),t(o,function(t){return null==e?void 0:e(t,n)})}})}([function(t){o.send({url:o.strategy.getUploadUrl(),data:t,method:"post",contentType:"application/json;charset=UTF-8"},function(){var e=o.config.onReportSuccess;"function"==typeof e&&e(JSON.stringify(t.events))},function(){var e=o.config.onReportFail;"function"==typeof e&&e(JSON.stringify(t.events))})}]),function(t,e){if(!t)throw e instanceof Error?e:new Error(e)}(Boolean(t.appkey),"appkey must be initial"),this.config=e({},t)}return t.prototype.onUserAction=function(t,e){this.preReport(t,e,!1)},t.prototype.onDirectUserAction=function(t,e){this.preReport(t,e,!0)},t.prototype.preReport=function(t,e,o){t?this.strategy.isEventUpOnOff()&&(this.strategy.isBlackEvent(t)||this.strategy.isSampleEvent(t)||this.onReport(t,e,o)):this.errorReport.reportError("602"," no eventCode")},t.prototype.addAdditionalParams=function(t){for(var e=0,o=Object.keys(t);e<o.length;e++){var n=o[e];this.additionalParams[n]=t[n]}},t.prototype.setChannelId=function(t){this.commonInfo.channelID=String(t)},t.prototype.setOpenId=function(t){this.commonInfo.openid=String(t)},t.prototype.setUnionid=function(t){this.commonInfo.unid=String(t)},t.prototype.getDeviceId=function(){return this.commonInfo.deviceId},t.prototype.getCommonInfo=function(){return this.commonInfo},t.prototype.removeSendingId=function(t){try{var e=JSON.parse(this.storage.getItem(s)),o=e.indexOf(t);-1!=o&&(e.splice(o,1),this.storage.setItem(s,JSON.stringify(e)))}catch(t){}},t}(),y=function(){function t(t,e,o,n){this.requestParams={},this.network=n,this.requestParams.attaid="00400014144",this.requestParams.token="6478159937",this.requestParams.product_id=t.appkey,this.requestParams.platform=o,this.requestParams.uin=e.deviceId,this.requestParams.model="",this.requestParams.os=o,this.requestParams.app_version=t.appVersion,this.requestParams.sdk_version=e.sdkVersion,this.requestParams.error_stack="",this.uploadUrl=t.isOversea?"https://htrace.wetvinfo.com/kv":"https://h.trace.qq.com/kv"}return t.prototype.reportError=function(t,e){this.requestParams._dc=Math.random(),this.requestParams.error_msg=e,this.requestParams.error_code=t,this.network.get(this.uploadUrl,{params:this.requestParams}).catch(function(){})},t}(),b=function(){function t(t,e,o,n,i){this.strategy={isEventUpOnOff:!0,httpsUploadUrl:"https://otheve.beacon.qq.com/analytics/v2_upload",requestInterval:30,blacklist:[],samplelist:[]},this.realSample={},this.appkey="",this.needQueryConfig=!0,this.appkey=e.appkey,this.storage=n,this.needQueryConfig=t;try{var r=JSON.parse(this.storage.getItem(c));r&&this.processData(r)}catch(t){}e.isOversea&&(this.strategy.httpsUploadUrl="https://svibeacon.onezapp.com/analytics/v2_upload"),!e.isOversea&&this.needRequestConfig()&&this.requestConfig(e.appVersion,o,i)}return t.prototype.requestConfig=function(t,e,o){var n=this;this.storage.setItem(l,Date.now().toString()),o.post("https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig",{platformId:"undefined"==typeof wx?"3":"4",mainAppKey:this.appkey,appVersion:t,sdkVersion:e.sdkVersion,osVersion:e.userAgent,model:"",packageName:"",params:{A3:e.deviceId}}).then(function(t){if(0==t.data.ret)try{var e=JSON.parse(t.data.beaconConfig);e&&(n.processData(e),n.storage.setItem(c,t.data.beaconConfig))}catch(t){}else n.processData(null),n.storage.setItem(c,"")}).catch(function(){})},t.prototype.processData=function(t){var e,o,n,i,r;this.strategy.isEventUpOnOff=null!==(e=null==t?void 0:t.isEventUpOnOff)&&void 0!==e?e:this.strategy.isEventUpOnOff,this.strategy.httpsUploadUrl=null!==(o=null==t?void 0:t.httpsUploadUrl)&&void 0!==o?o:this.strategy.httpsUploadUrl,this.strategy.requestInterval=null!==(n=null==t?void 0:t.requestInterval)&&void 0!==n?n:this.strategy.requestInterval,this.strategy.blacklist=null!==(i=null==t?void 0:t.blacklist)&&void 0!==i?i:this.strategy.blacklist,this.strategy.samplelist=null!==(r=null==t?void 0:t.samplelist)&&void 0!==r?r:this.strategy.samplelist;for(var a=0,s=this.strategy.samplelist;a<s.length;a++){var c=s[a].split(",");2==c.length&&(this.realSample[c[0]]=c[1])}},t.prototype.needRequestConfig=function(){if(!this.needQueryConfig)return!1;var t=Number(this.storage.getItem(l));return Date.now()-t>6e4*this.strategy.requestInterval},t.prototype.getUploadUrl=function(){return this.strategy.httpsUploadUrl+"?appkey="+this.appkey},t.prototype.isBlackEvent=function(t){return-1!=this.strategy.blacklist.indexOf(t)},t.prototype.isEventUpOnOff=function(){return this.strategy.isEventUpOnOff},t.prototype.isSampleEvent=function(t){return!!Object.prototype.hasOwnProperty.call(this.realSample,t)&&this.realSample[t]<Math.floor(Math.random()*Math.floor(1e4))},t}(),m="session_storage_key",v=function(){function t(t,e,o){this.getSessionStackDepth=0,this.beacon=o,this.storage=t,this.duration=e,this.appkey=o.config.appkey}return t.prototype.getSession=function(){this.getSessionStackDepth+=1;var t=this.storage.getItem(m);if(!t)return this.createSession();var e="",o=0;try{var n=JSON.parse(t)||{sessionId:void 0,sessionStart:void 0};if(!n.sessionId||!n.sessionStart)return this.createSession();var i=Number(this.storage.getItem(a));if(Date.now()-i>this.duration)return this.createSession();e=n.sessionId,o=n.sessionStart,this.getSessionStackDepth=0}catch(t){}return{sessionId:e,sessionStart:o}},t.prototype.createSession=function(){var t=Date.now(),e={sessionId:this.appkey+"_"+t.toString(),sessionStart:t};this.storage.setItem(m,JSON.stringify(e)),this.storage.setItem(a,t.toString());var o="is_new_user",n=this.storage.getItem(o);return this.getSessionStackDepth<=1&&this.beacon.onDirectUserAction("rqd_applaunched",{A21:n?"N":"Y"}),this.storage.setItem(o,JSON.stringify(!1)),e},t}();function P(){var t=navigator.userAgent,e=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1,o=t.indexOf("Edge")>-1&&!e,n=t.indexOf("Trident")>-1&&t.indexOf("rv:11.0")>-1;if(e){new RegExp("MSIE (\\d+\\.\\d+);").test(t);var i=parseFloat(RegExp.$1);return 7==i?7:8==i?8:9==i?9:10==i?10:6}return o?-2:n?11:-1}var S,I,x=function(){return(x=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},_=function(){function t(t,e){void 0===e&&(e={}),this.reportOptions={},this.config=t,this.reportOptions=e}return t.canUseDB=function(){return!!(null===window||void 0===window?void 0:window.indexedDB)},t.prototype.openDB=function(){var e=this;return new Promise(function(o,n){if(!t.canUseDB())return n({message:"\u5f53\u524d\u4e0d\u652f\u6301 indexeddb"});var i=e.config,r=i.name,a=i.version,s=i.stores,c=indexedDB.open(r,a);c.onsuccess=function(){e.db=c.result,o(),x({result:1,func:"open",params:JSON.stringify(e.config)},e.reportOptions)},c.onerror=function(t){var o,i;n(t),x({result:0,func:"open",params:JSON.stringify(e.config),error_msg:null===(i=null===(o=t.target)||void 0===o?void 0:o.error)||void 0===i?void 0:i.message},e.reportOptions)},c.onupgradeneeded=function(){e.db=c.result;try{null==s||s.forEach(function(t){e.createStore(t)})}catch(t){x({result:0,func:"open",params:JSON.stringify(e.config),error_msg:t.message},e.reportOptions),n(t)}}})},t.prototype.useStore=function(t){return this.storeName=t,this},t.prototype.deleteDB=function(){var t=this;return this.closeDB(),new Promise(function(e,o){var n=indexedDB.deleteDatabase(t.config.name);n.onsuccess=function(){return e()},n.onerror=o})},t.prototype.closeDB=function(){var t;null===(t=this.db)||void 0===t||t.close(),this.db=null},t.prototype.getStoreCount=function(){var t=this;return new Promise(function(e,o){var n=t.getStore("readonly").count();n.onsuccess=function(){return e(n.result)},n.onerror=o})},t.prototype.clearStore=function(){var t=this;return new Promise(function(e,o){var n=t.getStore("readwrite").clear();n.onsuccess=function(){return e()},n.onerror=o})},t.prototype.add=function(t,e){var o=this;return new Promise(function(n,i){var r=o.getStore("readwrite").add(t,e);r.onsuccess=function(){n(r.result)},r.onerror=i})},t.prototype.put=function(t,e){var o=this;return new Promise(function(n,i){var r=o.getStore("readwrite").put(t,e);r.onsuccess=function(){n(r.result)},r.onerror=i})},t.prototype.getStoreAllData=function(){var t=this;return new Promise(function(e,o){var n=t.getStore("readonly").openCursor(),i=[];n.onsuccess=function(){var t;if(null===(t=n.result)||void 0===t?void 0:t.value){var o=n.result.value;i.push(o),n.result.continue()}else e(i)},n.onerror=o})},t.prototype.getDataRangeByIndex=function(t,e,o,n,i){var r=this;return new Promise(function(a,s){var c=r.getStore().index(t),l=IDBKeyRange.bound(e,o,n,i),u=[],d=c.openCursor(l);d.onsuccess=function(){var t;(null===(t=null==d?void 0:d.result)||void 0===t?void 0:t.value)?(u.push(null==d?void 0:d.result.value),null==d||d.result.continue()):a(u)},d.onerror=s})},t.prototype.removeDataByIndex=function(t,e,o,n,i){var r=this;return new Promise(function(a,s){var c=r.getStore("readwrite").index(t),l=IDBKeyRange.bound(e,o,n,i),u=c.openCursor(l),d=0;u.onsuccess=function(t){var e=t.target.result;e?(d+=1,e.delete(),e.continue()):a(d)},u.onerror=s})},t.prototype.createStore=function(t){var e=t.name,o=t.indexes,n=void 0===o?[]:o,i=t.options;if(this.db){this.db.objectStoreNames.contains(e)&&this.db.deleteObjectStore(e);var r=this.db.createObjectStore(e,i);n.forEach(function(t){r.createIndex(t.indexName,t.keyPath,t.options)})}},t.prototype.getStore=function(t){var e;return void 0===t&&(t="readonly"),null===(e=this.db)||void 0===e?void 0:e.transaction(this.storeName,t).objectStore(this.storeName)},t}(),C="event_table_v3",w="eventId",A=function(){function t(t){this.isReady=!1,this.taskQueue=Promise.resolve(),this.db=new _({name:"Beacon_"+t+"_V3",version:1,stores:[{name:C,options:{keyPath:w},indexes:[{indexName:w,keyPath:w,options:{unique:!0}}]}]}),this.open()}return t.prototype.getCount=function(){var t=this;return this.readyExec(function(){return t.db.getStoreCount()})},t.prototype.setItem=function(t,e){var o=this;return this.readyExec(function(){return o.db.add({eventId:t,value:e})})},t.prototype.getItem=function(t){return o(this,void 0,void 0,function(){var e=this;return n(this,function(){return[2,this.readyExec(function(){return e.db.getDataRangeByIndex(w,t,t)})]})})},t.prototype.removeItem=function(t){var e=this;return this.readyExec(function(){return e.db.removeDataByIndex(w,t,t)})},t.prototype.updateItem=function(t,e){var o=this;return this.readyExec(function(){return o.db.put({eventId:t,value:e})})},t.prototype.iterate=function(t){var e=this;return this.readyExec(function(){return e.db.getStoreAllData().then(function(e){e.forEach(function(e){t(e.value)})})})},t.prototype.open=function(){return o(this,void 0,void 0,function(){var t=this;return n(this,function(e){switch(e.label){case 0:return this.taskQueue=this.taskQueue.then(function(){return t.db.openDB()}),[4,this.taskQueue];case 1:return e.sent(),this.isReady=!0,this.db.useStore(C),[2]}})})},t.prototype.readyExec=function(t){return this.isReady?t():(this.taskQueue=this.taskQueue.then(function(){return t()}),this.taskQueue)},t}(),k=function(){function t(t){this.keyObject={},this.storage=t}return t.prototype.getCount=function(){return this.storage.getStoreCount()},t.prototype.removeItem=function(t){this.storage.removeItem(t),delete this.keyObject[t]},t.prototype.setItem=function(t,e){var o=JSON.stringify(e);this.storage.setItem(t,o),this.keyObject[t]=e},t.prototype.iterate=function(t){for(var e=Object.keys(this.keyObject),o=0;o<e.length;o++){var n=this.storage.getItem(e[o]);t(JSON.parse(n))}},t}(),N=function(){function t(t,e){var o=this;this.dbEventCount=0,P()>0||!window.indexedDB||/X5Lite/.test(navigator.userAgent)?(this.store=new k(e),this.dbEventCount=this.store.getCount()):(this.store=new A(t),this.getCount().then(function(t){o.dbEventCount=t}).catch(function(){}))}return t.prototype.getCount=function(){return o(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.store.getCount()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,Promise.reject()];case 3:return[2]}})})},t.prototype.insertEvent=function(t,e){return o(this,void 0,void 0,function(){var o,i;return n(this,function(n){switch(n.label){case 0:if(this.dbEventCount>=1e4)return[2,Promise.reject()];o=g(t.mapValue),n.label=1;case 1:return n.trys.push([1,3,,4]),this.dbEventCount++,[4,this.store.setItem(o,t)];case 2:return[2,n.sent()];case 3:return i=n.sent(),e&&e(i,t),this.dbEventCount--,[2,Promise.reject()];case 4:return[2]}})})},t.prototype.getEvents=function(){return o(this,void 0,void 0,function(){var t;return n(this,function(e){switch(e.label){case 0:t=[],e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.store.iterate(function(e){t.push(e)})];case 2:case 3:return e.sent(),[2,Promise.all(t)];case 4:return[2]}})})},t.prototype.removeEvent=function(t){return o(this,void 0,void 0,function(){var e;return n(this,function(o){switch(o.label){case 0:e=g(t.mapValue),o.label=1;case 1:return o.trys.push([1,3,,4]),this.dbEventCount--,[4,this.store.removeItem(e)];case 2:return[2,o.sent()];case 3:return o.sent(),this.dbEventCount++,[2,Promise.reject()];case 4:return[2]}})})},t}(),T=function(){return(T=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function O(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function R(t,e){var o=[null,void 0,"",NaN].includes(t);if(e.isSkipEmpty&&o)return null;var n=!e.isSkipEmpty&&o?"":t;try{return e.encode?encodeURIComponent(n):n}catch(t){return null}}function E(t,e){return new Promise(function(o,n){if(e&&document.querySelectorAll("script[data-tag="+e+"]").length)return o();var i=document.createElement("script"),r=T({type:"text/javascript",charset:"utf-8"},t);Object.keys(r).forEach(function(t){return function(t,e,o){if(t)return void 0===o?t.getAttribute(e):t.setAttribute(e,o)}(i,t,r[t])}),e&&(i.dataset.tag=e),i.onload=function(){return o()},i.onreadystatechange=function(){var t=i.readyState;["complete","loaded"].includes(t)&&(i.onreadystatechange=null,o())},i.onerror=n,document.body.appendChild(i)})}(I=S||(S={}))[I.equal=0]="equal",I[I.low=-1]="low",I[I.high=1]="high";var B=function(){return(B=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function j(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(t){r(t)}}function s(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})}function D(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var F=function(){function t(){this.interceptors=[]}return t.prototype.use=function(t,e){return this.interceptors.push({resolved:t,rejected:e}),this.interceptors.length-1},t.prototype.traverse=function(t,e){void 0===e&&(e=!1);var o=Promise.resolve(t);return(e?Array.prototype.reduceRight:Array.prototype.reduce).call(this.interceptors,function(t,e){if(e){var n=e.resolved,i=e.rejected;o=o.then(n,i)}return t},""),o},t.prototype.eject=function(t){this.interceptors[t]&&(this.interceptors[t]=null)},t}(),M={defaults:{timeout:0,method:"GET",mode:"cors",redirect:"follow",credentials:"same-origin"},headers:{common:{Accept:"application/json, text/plain, */*"},POST:{"Content-Type":"application/x-www-form-urlencoded"},PUT:{"Content-Type":"application/x-www-form-urlencoded"},PATCH:{"Content-Type":"application/x-www-form-urlencoded"}},baseURL:"",polyfillUrl:"https://vm.gtimg.cn/comps/script/fetch.min.js",interceptors:{request:new F,response:new F}},U=/^([a-z][a-z\d+\-.]*:)?\/\//i,H=Object.prototype.toString;function L(t){return j(this,void 0,void 0,function(){var e;return D(this,function(o){switch(o.label){case 0:if(window.fetch)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,E({src:t})];case 2:return o.sent(),[3,4];case 3:throw e=o.sent(),new Error("\u52a0\u8f7d polyfill "+t+" \u5931\u8d25: "+e.message);case 4:return[2]}})})}function z(t){return j(this,void 0,void 0,function(){var e,o,n,i,r,a,s,c,l,u,d,p,g,h,f,y,b;return D(this,function(m){switch(m.label){case 0:return e=M.baseURL,o=M.defaults,n=M.interceptors,[4,L(M.polyfillUrl)];case 1:return m.sent(),(i=B(B({},o),t)).headers||(i.headers=function(t){void 0===t&&(t="GET");var e=M.headers[t]||{};return B(B({},M.headers.common),e)}(i.method)),function(t){["Accept","Content-Type"].forEach(function(e){return o=e,void((n=t.headers)&&Object.keys(n).forEach(function(t){t!==o&&t.toUpperCase()===o.toUpperCase()&&(n[o]=n[t],delete n[t])}));var o,n}),function(t){if("[object Object]"!==H.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}(t.body)&&(t.body=JSON.stringify(t.body),t.headers&&(t.headers["Content-Type"]="application/json;charset=utf-8"))}(i),[4,n.request.traverse(i,!0)];case 2:if((r=m.sent())instanceof Error)throw r;return r.url=function(t,e){return!t||U.test(e)?e:t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}(e,r.url),a=r.url,s=r.timeout,c=r.params,l=r.method,u=["GET","DELETE","OPTIONS","HEAD"].includes(void 0===l?"GET":l)&&!!c,d=u?function(t,e){void 0===e&&(e={encode:!0,isSkipEmpty:!1});var o=t.url,n=t.query,i=void 0===n?{}:n,r=t.hash,a=o.split("#"),s=a[0],c=a[1],l=void 0===c?"":c,u=s.split("?")[0],d=[],p=R(r||l,e),g=T(T({},function(t){var e=t.split("#"),o=e[0],n=e[1],i=void 0===n?"":n,r=o.split("?"),a=r[0],s=r[1],c=void 0===s?"":s,l=O(i),u=Object.create(null);return c.split("&").forEach(function(t){var e=t.split("="),o=e[0],n=e[1],i=void 0===n?"":n,r=O(o),a=O(i);null===r||null===a||""===r&&""===a||u[r]||(u[r]=a)}),{url:a,query:u,hash:l}}(o).query),i);return Object.keys(g).forEach(function(t){var o=R(t,e),n=R(g[t],e);null!==o&&null!==n&&d.push(o+"="+n)}),u+(d.length?"?"+d.join("&"):"")+(p?"#"+p:"")}({url:a,query:c}):a,p=[],s&&!r.signal&&(f=new Promise(function(t){g=setTimeout(function(){t(new Error("timeout"))},s)}),p.push(f),h=new AbortController,r.signal=h.signal),p.push(fetch(d,r).catch(function(t){return t})),[4,Promise.race(p)];case 3:return y=m.sent(),g&&clearTimeout(g),[4,n.response.traverse(y)];case 4:if((b=m.sent())instanceof Error)throw null==h||h.abort(),b;return[2,b]}})})}var q=function(){function t(t){M.interceptors.request.use(function(o){var n=o.url,i=o.method,r=o.body,a=r;if(t.onReportBeforeSend){var s=t.onReportBeforeSend({url:n,method:i,data:r?JSON.parse(r):null});a=(null==s?void 0:s.data)?JSON.stringify(s.data):null}return"GET"!=i&&a?e(e({},o),{body:a}):o})}return t.prototype.get=function(t,i){return o(this,void 0,void 0,function(){var o,r;return n(this,function(n){switch(n.label){case 0:return[4,z(e({url:t},i))];case 1:return[4,(o=n.sent()).json()];case 2:return r=n.sent(),[2,Promise.resolve({data:r,status:o.status,statusText:o.statusText,headers:o.headers})]}})})},t.prototype.post=function(t,i,r){return o(this,void 0,void 0,function(){var o,a;return n(this,function(n){switch(n.label){case 0:return[4,z(e({url:t,body:i,method:"POST"},r))];case 1:return[4,(o=n.sent()).json()];case 2:return a=n.sent(),[2,Promise.resolve({data:a,status:o.status,statusText:o.statusText,headers:o.headers})]}})})},t}(),W=function(){function t(t){this.appkey=t}return t.prototype.getItem=function(t){try{return window.localStorage.getItem(this.getStoreKey(t))}catch(t){return""}},t.prototype.removeItem=function(t){try{window.localStorage.removeItem(this.getStoreKey(t))}catch(t){}},t.prototype.setItem=function(t,e){try{window.localStorage.setItem(this.getStoreKey(t),e)}catch(t){}},t.prototype.setSessionItem=function(t,e){try{window.sessionStorage.setItem(this.getStoreKey(t),e)}catch(t){}},t.prototype.getSessionItem=function(t){try{return window.sessionStorage.getItem(this.getStoreKey(t))}catch(t){return""}},t.prototype.getStoreKey=function(t){return i+this.appkey+"_"+t},t.prototype.createDeviceId=function(){try{var t=window.localStorage.getItem(r);return t||(t=function(){for(var t="",e=0;e<32;e++)t+="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789".charAt(Math.floor(51*Math.random()));return t}(),window.localStorage.setItem(r,t)),t}catch(t){return""}},t.prototype.clear=function(){try{for(var t=window.localStorage.length,e=0;e<t;e++){var o=window.localStorage.key(e);(null==o?void 0:o.substr(0,9))==i&&window.localStorage.removeItem(o)}}catch(t){}},t.prototype.getStoreCount=function(){var t=0;try{t=window.localStorage.length}catch(t){}return t},t}(),K="logid_start",G="4.5.14-web";return function(o){function n(t){var e=o.call(this,t)||this;e.qimei36="",e.uselessCycleTaskNum=0,e.underWeakNet=!1,e.pauseSearching=!1,e.send=function(t,o,n){e.storage.setItem(a,Date.now().toString()),e.network.post(e.uploadUrl||e.strategy.getUploadUrl(),t.data).then(function(n){var i;100==(null===(i=null==n?void 0:n.data)||void 0===i?void 0:i.result)?e.delayTime=1e3*n.data.delayTime:e.delayTime=0,o&&o(t.data),t.data.events.forEach(function(t){e.store.removeEvent(t).then(function(){e.removeSendingId(g(t.mapValue))})}),e.doCustomCycleTask()}).catch(function(o){var i=t.data.events;e.errorReport.reportError(o.code?o.code.toString():"600",o.message),n&&n(t.data);var r=JSON.parse(e.storage.getItem(s));i.forEach(function(t){r&&-1!=r.indexOf(g(t))&&e.store.insertEvent(t,function(t){t&&e.errorReport.reportError("604","insertEvent fail!")}),e.removeSendingId(g(t))}),e.monitorUploadFailed()})};var n,i,r=P();return e.isUnderIE8=r>0&&r<8,e.isUnderIE8||(e.isUnderIE=r>0,t.needInitQimei&&function(t,e){var o;(void 0===o&&(o=Date.now()+"-"+Math.random()),new Promise(function(t,e){if(document.getElementById(o))t(void 0);else{var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.onload=function(){return function(){i.onload=null,t(void 0)}},i.onerror=function(t){i.onerror=null,n.removeChild(i),e(t)},i.src="https://tun-cos-1258344701.file.myqcloud.com/fp.js",i.id=o,n.appendChild(i)}})).then(function(){(new Fingerprint).getQimei36(t,e)}).catch(function(){})}(t.appkey,function(t){e.qimei36=t.q36}),e.network=new q(t),e.storage=new W(t.appkey),e.initCommonInfo(t),e.store=new N(t.appkey,e.storage),e.errorReport=new y(e.config,e.commonInfo,"web",e.network),e.strategy=new b(null==t.needQueryConfig||t.needQueryConfig,e.config,e.commonInfo,e.storage,e.network),e.logidStartTime=e.storage.getItem(K),e.logidStartTime||(e.logidStartTime=Date.now().toString(),e.storage.setItem(K,e.logidStartTime)),n=e.logidStartTime,i=Date.now()-Number.parseFloat(n),Math.floor(i/864e5)>=365&&e.storage.clear(),e.initSession(t),e.onDirectUserAction("rqd_js_init",{}),setTimeout(function(){return e.lifeCycle.emit("init")},0),e.initDelayTime=t.delay?t.delay:1e3,e.cycleTask(e.initDelayTime)),e}return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}(n,o),n.prototype.initSession=function(t){var e=18e5;t.sessionDuration&&t.sessionDuration>3e4&&(e=t.sessionDuration),this.beaconSession=new v(this.storage,e,this)},n.prototype.initCommonInfo=function(t){var e=Number(this.storage.getItem(a));try{var o=JSON.parse(this.storage.getItem(s));(Date.now()-e>3e4||!o)&&this.storage.setItem(s,JSON.stringify([]))}catch(t){}t.uploadUrl&&(this.uploadUrl=t.uploadUrl+"?appkey="+t.appkey);var n=[window.screen.width,window.screen.height];window.devicePixelRatio&&n.push(window.devicePixelRatio),this.commonInfo={deviceId:this.storage.createDeviceId(),language:navigator&&navigator.language||"zh_CN",query:window.location.search,userAgent:navigator.userAgent,pixel:n.join("*"),channelID:t.channelID?String(t.channelID):"",openid:t.openid?String(t.openid):"",unid:t.unionid?String(t.unionid):"",sdkVersion:G},this.config.appVersion=t.versionCode?String(t.versionCode):"",this.config.strictMode=t.strictMode},n.prototype.cycleTask=function(t){var e=this;this.intervalID=window.setInterval(function(){e.pauseSearching||e.store.getEvents().then(function(t){0==t.length&&(e.pauseSearching=!0);var o=[],n=JSON.parse(e.storage.getItem(s));n||(n=[]),t&&t.forEach(function(t){var e=g(t.mapValue);-1==n.indexOf(e)&&(o.push(t),n.push(e))}),0!=o.length&&(e.storage.setItem(s,JSON.stringify(n)),e._normalLogPipeline(e.assembleData(o)))}).catch(function(){})},t)},n.prototype.onReport=function(t,e,o){var n=this;if(this.isUnderIE8)this.errorReport.reportError("601","UnderIE8");else{this.pauseSearching=!1;var i=this.generateData(t,e,o);if(o&&0==this.delayTime&&!this.underWeakNet)this._normalLogPipeline(this.assembleData(i));else{var r=i.shift();r&&this.store.insertEvent(r,function(t){t&&n.errorReport.reportError("604","insertEvent fail!")}).catch(function(){n._normalLogPipeline(n.assembleData(i))})}}},n.prototype.onSendBeacon=function(t,e){if(this.isUnderIE)this.errorReport.reportError("605","UnderIE");else{this.pauseSearching=!1;var o=this.assembleData(this.generateData(t,e,!0));"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.uploadUrl||this.strategy.getUploadUrl(),JSON.stringify(o))}},n.prototype.generateData=function(t,o,n){var i=[],r="4.5.14-web_"+(n?"direct_log_id":"normal_log_id"),a=Number(this.storage.getItem(r));return a=a||1,o=e(e({},o),{A99:n?"Y":"N",A100:a.toString(),A72:G,A88:this.logidStartTime}),a++,this.storage.setItem(r,a.toString()),i.push({eventCode:t,eventTime:Date.now().toString(),mapValue:d(o,this.config.strictMode)}),i},n.prototype.assembleData=function(t){var o=this.beaconSession.getSession();return{appVersion:this.config.appVersion?p(this.config.appVersion):"",sdkId:"js",sdkVersion:G,mainAppKey:this.config.appkey,platformId:3,common:d(e(e({},this.additionalParams),{A2:this.commonInfo.deviceId,A8:this.commonInfo.openid,A12:this.commonInfo.language,A17:this.commonInfo.pixel,A23:this.commonInfo.channelID,A50:this.commonInfo.unid,A76:o.sessionId,A101:this.commonInfo.userAgent,A102:window.location.href,A104:document.referrer,A119:this.commonInfo.query,A153:this.qimei36}),!1),events:t}},n.prototype.monitorUploadFailed=function(){this.uselessCycleTaskNum++,this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(6e4),this.underWeakNet=!0)},n.prototype.doCustomCycleTask=function(){this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(this.initDelayTime)),this.uselessCycleTaskNum=0,this.underWeakNet=!1},n}(f)},"object"==o(0)(e)&&void 0!==t?t.exports=r():void 0===(i="function"==typeof(n=r)?n.call(e,o,e,t):n)||(t.exports=i)},function(t,e,o){var n=o(9),i=o(1),r={};t.exports.transferToTaskMethod=function(t,e){r[e]=t[e],t[e]=function(t,o){t.SkipTask?r[e].call(this,t,o):this._addTask(e,t,o)}},t.exports.init=function(t){var e,o,a=[],s={},c=0,l=0,u=function(t){var e={id:t.id,Bucket:t.Bucket,Region:t.Region,Key:t.Key,FilePath:t.FilePath,state:t.state,loaded:t.loaded,size:t.size,speed:t.speed,percent:t.percent,hashPercent:t.hashPercent,error:t.error};return t.FilePath&&(e.FilePath=t.FilePath),t._custom&&(e._custom=t._custom),e},d=(o=function(){e=0,t.emit("task-list-update",{list:i.map(a,u)}),t.emit("list-update",{list:i.map(a,u)})},function(){e||(e=setTimeout(o))}),p=function(){if(!(a.length<=t.options.UploadQueueSize)){for(var e=0;e<l&&e<a.length&&a.length>t.options.UploadQueueSize;){var o="waiting"===a[e].state||"checking"===a[e].state||"uploading"===a[e].state;a[e]&&o?e++:(s[a[e].id]&&delete s[a[e].id],a.splice(e,1),l--)}d()}},g=function e(){if(!(c>=t.options.FileParallelLimit)){for(;a[l]&&"waiting"!==a[l].state;)l++;if(!(l>=a.length)){var o=a[l];l++,c++,o.state="checking",o.params.onTaskStart&&o.params.onTaskStart(u(o)),!o.params.UploadData&&(o.params.UploadData={});var n=i.formatParams(o.api,o.params);r[o.api].call(t,n,function(n,i){t._isRunningTask(o.id)&&("checking"!==o.state&&"uploading"!==o.state||(o.state=n?"error":"success",n&&(o.error=n),c--,d(),e(),o.callback&&o.callback(n,i),"success"===o.state&&(o.params&&(delete o.params.UploadData,delete o.params.Body,delete o.params),delete o.callback)),p())}),d(),setTimeout(e)}}},h=function(e,o){var i=s[e];if(i){var r=i&&"waiting"===i.state,a=i&&("checking"===i.state||"uploading"===i.state);if("canceled"===o&&"canceled"!==i.state||"paused"===o&&r||"paused"===o&&a){if("paused"===o&&i.params.Body&&"function"==typeof i.params.Body.pipe)return;i.state=o,t.emit("inner-kill-task",{TaskId:e,toState:o});try{var l=i&&i.params&&i.params.UploadData.UploadId}catch(t){}"canceled"===o&&l&&n.removeUsing(l),d(),a&&(c--,g()),"canceled"===o&&(i.params&&(delete i.params.UploadData,delete i.params.Body,delete i.params),delete i.callback)}p()}};t._addTasks=function(e){i.each(e,function(e){t._addTask(e.api,e.params,e.callback,!0)}),d()},t._addTask=function(e,o,n,r){o=i.formatParams(e,o);var c=i.uuid();o.TaskId=c,o.onTaskReady&&o.onTaskReady(c),o.TaskReady&&o.TaskReady(c);var l={params:o,callback:n,api:e,index:a.length,id:c,Bucket:o.Bucket,Region:o.Region,Key:o.Key,FilePath:o.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:o._custom},u=o.onHashProgress;o.onHashProgress=function(e){t._isRunningTask(l.id)&&(l.hashPercent=e.percent,u&&u(e),d())};var h=o.onProgress;return o.onProgress=function(e){t._isRunningTask(l.id)&&("checking"===l.state&&(l.state="uploading"),l.loaded=e.loaded,l.speed=e.speed,l.percent=e.percent,h&&h(e),d())},i.getFileSize(e,o,function(t,e){if(t)return n(i.error(t));s[c]=l,a.push(l),l.size=e,!r&&d(),g(),p()}),c},t._isRunningTask=function(t){var e=s[t];return!(!e||"checking"!==e.state&&"uploading"!==e.state)},t.getTaskList=function(){return i.map(a,u)},t.cancelTask=function(t){h(t,"canceled")},t.pauseTask=function(t){h(t,"paused")},t.restartTask=function(t){var e=s[t];!e||"paused"!==e.state&&"error"!==e.state||(e.state="waiting",d(),l=Math.min(l,e.index),g())},t.isUploadRunning=function(){return c||l<a.length}}},function(t,e,o){var n=o(0),i=o(28),r=o(1);function a(t,e,o){var n=r.clone(e.InventoryConfiguration);if(n.OptionalFields){var i=n.OptionalFields||[];n.OptionalFields={Field:i}}if(n.Destination&&n.Destination.COSBucketDestination&&n.Destination.COSBucketDestination.Encryption){var a=n.Destination.COSBucketDestination.Encryption;Object.keys(a).indexOf("SSECOS")>-1&&(a["SSE-COS"]=a.SSECOS,delete a.SSECOS)}var s=r.json2xml({InventoryConfiguration:n}),c=e.Headers;c["Content-Type"]="application/xml",c["Content-MD5"]=r.b64(r.md5(s));var l="PUT"===t?"name/cos:PutBucketInventory":"name/cos:PostBucketInventory";g.call(this,{Action:l,method:t,Bucket:e.Bucket,Region:e.Region,body:s,action:"inventory",qs:{id:e.Id},headers:c},function(t,e){return t&&204===t.statusCode?o(null,{statusCode:t.statusCode}):t?o(t):void o(null,{statusCode:e.statusCode,headers:e.headers})})}function s(t){var e={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},o={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},n=(t&&t.AccessControlList||{}).Grant;n&&(n=r.isArray(n)?n:[n]);var i={READ:0,WRITE:0,FULL_CONTROL:0};return n&&n.length&&r.each(n,function(n){"qcs::cam::anyone:anyone"===n.Grantee.ID||"http://cam.qcloud.com/groups/global/AllUsers"===n.Grantee.URI?i[n.Permission]=1:n.Grantee.ID!==t.Owner.ID&&e[o[n.Permission]].push('id="'+n.Grantee.ID+'"')}),i.FULL_CONTROL||i.WRITE&&i.READ?e.ACL="public-read-write":i.READ?e.ACL="public-read":e.ACL="private",r.each(o,function(t){e[t]=c(e[t].join(","))}),e}function c(t){var e,o,n=t.split(","),i={};for(e=0;e<n.length;)i[o=n[e].trim()]?n.splice(e,1):(i[o]=!0,n[e]=o,e++);return n.join(",")}function l(t){var e=t.region||"",o=t.bucket||"",i=o.substr(0,o.lastIndexOf("-")),a=o.substr(o.lastIndexOf("-")+1),s=t.domain,c=t.object;"function"==typeof s&&(s=s({Bucket:o,Region:e})),["http","https"].includes(t.protocol)&&(t.protocol=t.protocol+":");var l=t.protocol||(r.isBrowser&&"object"===("undefined"==typeof location?"undefined":n(location))&&"http:"===location.protocol?"http:":"https:");s||(s=["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(e)>-1?"{Region}.myqcloud.com":"cos.{Region}.myqcloud.com",t.ForcePathStyle||(s="{Bucket}."+s)),s=(s=s.replace(/\{\{AppId\}\}/gi,a).replace(/\{\{Bucket\}\}/gi,i).replace(/\{\{Region\}\}/gi,e).replace(/\{\{.*?\}\}/gi,"")).replace(/\{AppId\}/gi,a).replace(/\{BucketName\}/gi,i).replace(/\{Bucket\}/gi,o).replace(/\{Region\}/gi,e).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(s)||(s=l+"//"+s),"/"===s.slice(-1)&&(s=s.slice(0,-1));var u=s;return t.ForcePathStyle&&(u+="/"+o),u+="/",c&&(u+=r.camSafeUrlEncode(c).replace(/%2F/g,"/")),t.isLocation&&(u=u.replace(/^https?:\/\//,"")),u}var u=function(t){if(!t.Bucket||!t.Region)return"";var e=void 0===t.UseAccelerate?this.options.UseAccelerate:t.UseAccelerate,o=(t.Url||l({ForcePathStyle:this.options.ForcePathStyle,protocol:this.options.Protocol,domain:this.options.Domain,bucket:t.Bucket,region:e?"accelerate":t.Region})).replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1");return new RegExp("^([a-z\\d-]+-\\d+\\.)?(cos|cosv6|ci|pic)\\.([a-z\\d-]+)\\.myqcloud\\.com$").test(o)?o:""};function d(t,e){var o=r.clone(t.Headers),n="";r.each(o,function(t,e){(""===t||["content-type","cache-control","expires"].indexOf(e.toLowerCase())>-1)&&delete o[e],"host"===e.toLowerCase()&&(n=t)});var i=!1!==t.ForceSignHost;!n&&t.SignHost&&i&&(o.Host=t.SignHost);var a=!1,s=function(t,o){a||(a=!0,o&&o.XCosSecurityToken&&!o.SecurityToken&&((o=r.clone(o)).SecurityToken=o.XCosSecurityToken,delete o.XCosSecurityToken),e&&e(t,o))},c=this,l=t.Bucket||"",u=t.Region||"",d=t.Key||"";c.options.ForcePathStyle&&l&&(d=l+"/"+d);var p="/"+d,g={},h=t.Scope;if(!h){var f=t.Action||"",y=t.ResourceKey||t.Key||"";h=t.Scope||[{action:f,bucket:l,region:u,prefix:y}]}var b=r.md5(JSON.stringify(h));c._StsCache=c._StsCache||[],function(){var t,e;for(t=c._StsCache.length-1;t>=0;t--){e=c._StsCache[t];var o=Math.round(r.getSkewTime(c.options.SystemClockOffset)/1e3)+30;if(e.StartTime&&o<e.StartTime||o>=e.ExpiredTime)c._StsCache.splice(t,1);else if(!e.ScopeLimit||e.ScopeLimit&&e.ScopeKey===b){g=e;break}}}();var m,v=function(){var e="";g.StartTime&&t.Expires?e=g.StartTime+";"+(g.StartTime+1*t.Expires):g.StartTime&&g.ExpiredTime&&(e=g.StartTime+";"+g.ExpiredTime);var n={Authorization:r.getAuth({SecretId:g.TmpSecretId,SecretKey:g.TmpSecretKey,Method:t.Method,Pathname:p,Query:t.Query,Headers:o,Expires:t.Expires,UseRawKey:c.options.UseRawKey,SystemClockOffset:c.options.SystemClockOffset,KeyTime:e,ForceSignHost:i}),SecurityToken:g.SecurityToken||g.XCosSecurityToken||"",Token:g.Token||"",ClientIP:g.ClientIP||"",ClientUA:g.ClientUA||""};s(null,n)},P=function(t){if(t.Authorization){var e=!1,o=t.Authorization;if(o)if(o.indexOf(" ")>-1)e=!1;else if(o.indexOf("q-sign-algorithm=")>-1&&o.indexOf("q-ak=")>-1&&o.indexOf("q-sign-time=")>-1&&o.indexOf("q-key-time=")>-1&&o.indexOf("q-url-param-list=")>-1)e=!0;else try{(o=atob(o)).indexOf("a=")>-1&&o.indexOf("k=")>-1&&o.indexOf("t=")>-1&&o.indexOf("r=")>-1&&o.indexOf("b=")>-1&&(e=!0)}catch(t){}if(!e)return r.error(new Error("getAuthorization callback params format error"))}else{if(!t.TmpSecretId)return r.error(new Error('getAuthorization callback params missing "TmpSecretId"'));if(!t.TmpSecretKey)return r.error(new Error('getAuthorization callback params missing "TmpSecretKey"'));if(!t.SecurityToken&&!t.XCosSecurityToken)return r.error(new Error('getAuthorization callback params missing "SecurityToken"'));if(!t.ExpiredTime)return r.error(new Error('getAuthorization callback params missing "ExpiredTime"'));if(t.ExpiredTime&&10!==t.ExpiredTime.toString().length)return r.error(new Error('getAuthorization callback params "ExpiredTime" should be 10 digits'));if(t.StartTime&&10!==t.StartTime.toString().length)return r.error(new Error('getAuthorization callback params "StartTime" should be 10 StartTime'))}return!1};if(g.ExpiredTime&&g.ExpiredTime-r.getSkewTime(c.options.SystemClockOffset)/1e3>60)v();else if(c.options.getAuthorization)c.options.getAuthorization.call(c,{Bucket:l,Region:u,Method:t.Method,Key:d,Pathname:p,Query:t.Query,Headers:o,Scope:h,SystemClockOffset:c.options.SystemClockOffset,ForceSignHost:i},function(t){"string"==typeof t&&(t={Authorization:t});var e=P(t);if(e)return s(e);t.Authorization?s(null,t):((g=t||{}).Scope=h,g.ScopeKey=b,c._StsCache.push(g),v())});else{if(!c.options.getSTS)return m={Authorization:r.getAuth({SecretId:t.SecretId||c.options.SecretId,SecretKey:t.SecretKey||c.options.SecretKey,Method:t.Method,Pathname:p,Query:t.Query,Headers:o,Expires:t.Expires,UseRawKey:c.options.UseRawKey,SystemClockOffset:c.options.SystemClockOffset,ForceSignHost:i}),SecurityToken:c.options.SecurityToken||c.options.XCosSecurityToken},s(null,m),m;c.options.getSTS.call(c,{Bucket:l,Region:u},function(t){(g=t||{}).Scope=h,g.ScopeKey=b,g.TmpSecretId||(g.TmpSecretId=g.SecretId),g.TmpSecretKey||(g.TmpSecretKey=g.SecretKey);var e=P(g);if(e)return s(e);c._StsCache.push(g),v()})}return""}function p(t){var e=!1,o=!1,n=t.headers&&(t.headers.date||t.headers.Date)||t.error&&t.error.ServerTime;try{var i=t.error.Code,a=t.error.Message;("RequestTimeTooSkewed"===i||"AccessDenied"===i&&"Request has expired"===a)&&(o=!0)}catch(t){}if(t)if(o&&n){var s=Date.parse(n);this.options.CorrectClockSkew&&Math.abs(r.getSkewTime(this.options.SystemClockOffset)-s)>=3e4&&(this.options.SystemClockOffset=s-Date.now(),e=!0)}else 5===Math.floor(t.statusCode/100)&&(e=!0);return e}function g(t,e){var o=this;!t.headers&&(t.headers={}),!t.qs&&(t.qs={}),t.VersionId&&(t.qs.versionId=t.VersionId),t.qs=r.clearKey(t.qs),t.headers&&(t.headers=r.clearKey(t.headers)),t.qs&&(t.qs=r.clearKey(t.qs));var n=r.clone(t.qs);t.action&&(n[t.action]="");var i=t.url||t.Url,a=t.SignHost||u.call(this,{Bucket:t.Bucket,Region:t.Region,Url:i}),s=t.tracker;!function i(r){var c=o.options.SystemClockOffset;s&&s.setParams({signStartTime:(new Date).getTime(),retryTimes:r-1}),d.call(o,{Bucket:t.Bucket||"",Region:t.Region||"",Method:t.method,Key:t.Key,Query:n,Headers:t.headers,SignHost:a,Action:t.Action,ResourceKey:t.ResourceKey,Scope:t.Scope,ForceSignHost:o.options.ForceSignHost},function(n,a){n?e(n):(s&&s.setParams({signEndTime:(new Date).getTime(),httpStartTime:(new Date).getTime()}),t.AuthData=a,h.call(o,t,function(n,a){s&&s.setParams({httpEndTime:(new Date).getTime()}),n&&r<2&&(c!==o.options.SystemClockOffset||p.call(o,n))?(t.headers&&(delete t.headers.Authorization,delete t.headers.token,delete t.headers.clientIP,delete t.headers.clientUA,t.headers["x-cos-security-token"]&&delete t.headers["x-cos-security-token"],t.headers["x-ci-security-token"]&&delete t.headers["x-ci-security-token"]),i(r+1)):e(n,a)}))})}(1)}function h(t,e){var o=this,n=t.TaskId;if(!n||o._isRunningTask(n)){var a=t.Bucket,s=t.Region,c=t.Key,u=t.method||"GET",d=t.Url||t.url,p=t.body,g=t.rawBody;o.options.UseAccelerate&&(s="accelerate"),d=d||l({ForcePathStyle:o.options.ForcePathStyle,protocol:o.options.Protocol,domain:o.options.Domain,bucket:a,region:s,object:c}),t.action&&(d=d+"?"+(r.isIOS_QQ?"".concat(t.action,"="):t.action)),t.qsStr&&(d=d.indexOf("?")>-1?d+"&"+t.qsStr:d+"?"+t.qsStr);var h={method:u,url:d,headers:t.headers,qs:t.qs,body:p},f="x-cos-security-token";if(r.isCIHost(d)&&(f="x-ci-security-token"),h.headers.Authorization=t.AuthData.Authorization,t.AuthData.Token&&(h.headers.token=t.AuthData.Token),t.AuthData.ClientIP&&(h.headers.clientIP=t.AuthData.ClientIP),t.AuthData.ClientUA&&(h.headers.clientUA=t.AuthData.ClientUA),t.AuthData.SecurityToken&&(h.headers[f]=t.AuthData.SecurityToken),h.headers&&(h.headers=r.clearKey(h.headers)),h=r.clearKey(h),t.onProgress&&"function"==typeof t.onProgress){var y=p&&(p.size||p.length)||0;h.onProgress=function(e){if(!n||o._isRunningTask(n)){var i=e?e.loaded:0;t.onProgress({loaded:i,total:y})}}}t.onDownloadProgress&&(h.onDownloadProgress=t.onDownloadProgress),t.DataType&&(h.dataType=t.DataType),this.options.Timeout&&(h.timeout=this.options.Timeout),o.options.ForcePathStyle&&(h.pathStyle=o.options.ForcePathStyle),o.emit("before-send",h);var b=h.url.includes("accelerate."),m=h.qs?Object.keys(h.qs).map(function(t){return"".concat(t,"=").concat(h.qs[t])}).join("&"):"",v=m?h.url+"?"+m:h.url;t.tracker&&t.tracker.setParams({reqUrl:v,accelerate:b?"Y":"N"}),t.tracker&&t.tracker.parent&&t.tracker.parent.setParams({reqUrl:v,accelerate:b?"Y":"N"});var P=(o.options.Request||i)(h,function(t){if(!t||"abort"!==t.error){var i={options:h,error:t&&t.error,statusCode:t&&t.statusCode||0,statusMessage:t&&t.statusMessage||"",headers:t&&t.headers||{},body:t&&t.body};o.emit("after-receive",i);var a,s=i.error,c=i.body,l={statusCode:i.statusCode,statusMessage:i.statusMessage,headers:i.headers},u=function(t,i){if(n&&o.off("inner-kill-task",S),!a){a=!0;var s={};l&&l.statusCode&&(s.statusCode=l.statusCode),l&&l.headers&&(s.headers=l.headers),t?(t=r.extend(t||{},s),e(t,null)):(i=r.extend(i||{},s),e(null,i)),P=null}};if(s)return u(r.error(s));var d,p=l.statusCode,f=2===Math.floor(p/100);if(g&&f)return u(null,{body:c});try{d=c&&c.indexOf("<")>-1&&c.indexOf(">")>-1&&r.xml2json(c)||{}}catch(t){d={}}var y=d&&d.Error;f?u(null,d):y?u(r.error(new Error(y.Message),{code:y.Code,error:y})):p?u(r.error(new Error(l.statusMessage),{code:""+p})):p&&u(r.error(new Error("statusCode error")))}}),S=function t(e){e.TaskId===n&&(P&&P.abort&&P.abort(),o.off("inner-kill-task",t))};n&&o.on("inner-kill-task",S)}}var f={getService:function(t,e){"function"==typeof t&&(e=t,t={});var o=this.options.Protocol||(r.isBrowser&&"object"===("undefined"==typeof location?"undefined":n(location))&&"http:"===location.protocol?"http:":"https:"),i=this.options.ServiceDomain,a=t.AppId||this.options.appId,s=t.Region;i?(i=i.replace(/\{\{AppId\}\}/gi,a||"").replace(/\{\{Region\}\}/gi,s||"").replace(/\{\{.*?\}\}/gi,""),/^[a-zA-Z]+:\/\//.test(i)||(i=o+"//"+i),"/"===i.slice(-1)&&(i=i.slice(0,-1))):i=s?o+"//cos."+s+".myqcloud.com":o+"//service.cos.myqcloud.com";var c="",l=s?"cos."+s+".myqcloud.com":"service.cos.myqcloud.com";l===i.replace(/^https?:\/\/([^/]+)(\/.*)?$/,"$1")&&(c=l),g.call(this,{Action:"name/cos:GetService",url:i,method:"GET",headers:t.Headers,SignHost:c},function(t,o){if(t)return e(t);var n=o&&o.ListAllMyBucketsResult&&o.ListAllMyBucketsResult.Buckets&&o.ListAllMyBucketsResult.Buckets.Bucket||[];n=r.isArray(n)?n:[n];var i=o&&o.ListAllMyBucketsResult&&o.ListAllMyBucketsResult.Owner||{};e(null,{Buckets:n,Owner:i,statusCode:o.statusCode,headers:o.headers})})},putBucket:function(t,e){var o=this,n="";if(t.BucketAZConfig){var i={BucketAZConfig:t.BucketAZConfig};n=r.json2xml({CreateBucketConfiguration:i})}g.call(this,{Action:"name/cos:PutBucket",method:"PUT",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,body:n},function(n,i){if(n)return e(n);var r=l({protocol:o.options.Protocol,domain:o.options.Domain,bucket:t.Bucket,region:t.Region,isLocation:!0});e(null,{Location:r,statusCode:i.statusCode,headers:i.headers})})},headBucket:function(t,e){g.call(this,{Action:"name/cos:HeadBucket",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,method:"HEAD"},e)},getBucket:function(t,e){var o={};o.prefix=t.Prefix||"",o.delimiter=t.Delimiter,o.marker=t.Marker,o["max-keys"]=t.MaxKeys,o["encoding-type"]=t.EncodingType,g.call(this,{Action:"name/cos:GetBucket",ResourceKey:o.prefix,method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,qs:o},function(t,o){if(t)return e(t);var n=o.ListBucketResult||{},i=n.Contents||[],a=n.CommonPrefixes||[];i=r.isArray(i)?i:[i],a=r.isArray(a)?a:[a];var s=r.clone(n);r.extend(s,{Contents:i,CommonPrefixes:a,statusCode:o.statusCode,headers:o.headers}),e(null,s)})},deleteBucket:function(t,e){g.call(this,{Action:"name/cos:DeleteBucket",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,method:"DELETE"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},putBucketAcl:function(t,e){var o=t.Headers,n="";if(t.AccessControlPolicy){var i=r.clone(t.AccessControlPolicy||{}),a=i.Grants||i.Grant;a=r.isArray(a)?a:[a],delete i.Grant,delete i.Grants,i.AccessControlList={Grant:a},n=r.json2xml({AccessControlPolicy:i}),o["Content-Type"]="application/xml",o["Content-MD5"]=r.b64(r.md5(n))}r.each(o,function(t,e){0===e.indexOf("x-cos-grant-")&&(o[e]=c(o[e]))}),g.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:t.Bucket,Region:t.Region,headers:o,action:"acl",body:n},function(t,o){if(t)return e(t);e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketAcl:function(t,e){g.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"acl"},function(t,o){if(t)return e(t);var n=o.AccessControlPolicy||{},i=n.Owner||{},a=n.AccessControlList.Grant||[];a=r.isArray(a)?a:[a];var c=s(n);o.headers&&o.headers["x-cos-acl"]&&(c.ACL=o.headers["x-cos-acl"]),c=r.extend(c,{Owner:i,Grants:a,statusCode:o.statusCode,headers:o.headers}),e(null,c)})},putBucketCors:function(t,e){var o=(t.CORSConfiguration||{}).CORSRules||t.CORSRules||[];o=r.clone(r.isArray(o)?o:[o]),r.each(o,function(t){r.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(e){var o=e+"s",n=t[o]||t[e]||[];delete t[o],t[e]=r.isArray(n)?n:[n]})});var n={CORSRule:o};t.ResponseVary&&(n.ResponseVary=t.ResponseVary);var i=r.json2xml({CORSConfiguration:n}),a=t.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=r.b64(r.md5(i)),g.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:i,action:"cors",headers:a},function(t,o){if(t)return e(t);e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketCors:function(t,e){g.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"cors"},function(t,o){if(t)if(404===t.statusCode&&t.error&&"NoSuchCORSConfiguration"===t.error.Code){var n={CORSRules:[],statusCode:t.statusCode};t.headers&&(n.headers=t.headers),e(null,n)}else e(t);else{var i=o.CORSConfiguration||{},a=i.CORSRules||i.CORSRule||[];a=r.clone(r.isArray(a)?a:[a]);var s=i.ResponseVary;r.each(a,function(t){r.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(e){var o=e+"s",n=t[o]||t[e]||[];delete t[e],t[o]=r.isArray(n)?n:[n]})}),e(null,{CORSRules:a,ResponseVary:s,statusCode:o.statusCode,headers:o.headers})}})},deleteBucketCors:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"cors"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode||t.statusCode,headers:o.headers})})},getBucketLocation:function(t,e){g.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"location"},e)},getBucketPolicy:function(t,e){g.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"policy",rawBody:!0},function(t,o){if(t)return t.statusCode&&403===t.statusCode?e(r.error(t,{ErrorStatus:"Access Denied"})):t.statusCode&&405===t.statusCode?e(r.error(t,{ErrorStatus:"Method Not Allowed"})):t.statusCode&&404===t.statusCode?e(r.error(t,{ErrorStatus:"Policy Not Found"})):e(t);var n={};try{n=JSON.parse(o.body)}catch(t){}e(null,{Policy:n,statusCode:o.statusCode,headers:o.headers})})},putBucketPolicy:function(t,e){var o=t.Policy;try{"string"==typeof o&&(o=JSON.parse(o))}catch(t){}if(!o||"string"==typeof o)return e(r.error(new Error("Policy format error")));var n=JSON.stringify(o);o.version||(o.version="2.0");var i=t.Headers;i["Content-Type"]="application/json",i["Content-MD5"]=r.b64(r.md5(n)),g.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:t.Bucket,Region:t.Region,action:"policy",body:n,headers:i},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},deleteBucketPolicy:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"policy"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode||t.statusCode,headers:o.headers})})},putBucketTagging:function(t,e){var o=t.Tagging||{},n=o.TagSet||o.Tags||t.Tags||[];n=r.clone(r.isArray(n)?n:[n]);var i=r.json2xml({Tagging:{TagSet:{Tag:n}}}),a=t.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=r.b64(r.md5(i)),g.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:i,action:"tagging",headers:a},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketTagging:function(t,e){g.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"tagging"},function(t,o){if(t)if(404!==t.statusCode||!t.error||"Not Found"!==t.error&&"NoSuchTagSet"!==t.error.Code)e(t);else{var n={Tags:[],statusCode:t.statusCode};t.headers&&(n.headers=t.headers),e(null,n)}else{var i=[];try{i=o.Tagging.TagSet.Tag||[]}catch(t){}i=r.clone(r.isArray(i)?i:[i]),e(null,{Tags:i,statusCode:o.statusCode,headers:o.headers})}})},deleteBucketTagging:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"tagging"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},putBucketLifecycle:function(t,e){var o=(t.LifecycleConfiguration||{}).Rules||t.Rules||[];o=r.clone(o);var n=r.json2xml({LifecycleConfiguration:{Rule:o}}),i=t.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=r.b64(r.md5(n)),g.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:n,action:"lifecycle",headers:i},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketLifecycle:function(t,e){g.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"lifecycle"},function(t,o){if(t)if(404===t.statusCode&&t.error&&"NoSuchLifecycleConfiguration"===t.error.Code){var n={Rules:[],statusCode:t.statusCode};t.headers&&(n.headers=t.headers),e(null,n)}else e(t);else{var i=[];try{i=o.LifecycleConfiguration.Rule||[]}catch(t){}i=r.clone(r.isArray(i)?i:[i]),e(null,{Rules:i,statusCode:o.statusCode,headers:o.headers})}})},deleteBucketLifecycle:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"lifecycle"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},putBucketVersioning:function(t,e){if(t.VersioningConfiguration){var o=t.VersioningConfiguration||{},n=r.json2xml({VersioningConfiguration:o}),i=t.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=r.b64(r.md5(n)),g.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:n,action:"versioning",headers:i},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})}else e(r.error(new Error("missing param VersioningConfiguration")))},getBucketVersioning:function(t,e){g.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"versioning"},function(t,o){t||!o.VersioningConfiguration&&(o.VersioningConfiguration={}),e(t,o)})},putBucketReplication:function(t,e){var o=r.clone(t.ReplicationConfiguration),n=r.json2xml({ReplicationConfiguration:o});n=(n=n.replace(/<(\/?)Rules>/gi,"<$1Rule>")).replace(/<(\/?)Tags>/gi,"<$1Tag>");var i=t.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=r.b64(r.md5(n)),g.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:n,action:"replication",headers:i},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketReplication:function(t,e){g.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"replication"},function(t,o){if(t)if(404!==t.statusCode||!t.error||"Not Found"!==t.error&&"ReplicationConfigurationnotFoundError"!==t.error.Code)e(t);else{var n={ReplicationConfiguration:{Rules:[]},statusCode:t.statusCode};t.headers&&(n.headers=t.headers),e(null,n)}else!o.ReplicationConfiguration&&(o.ReplicationConfiguration={}),o.ReplicationConfiguration.Rule&&(o.ReplicationConfiguration.Rules=r.makeArray(o.ReplicationConfiguration.Rule),delete o.ReplicationConfiguration.Rule),e(t,o)})},deleteBucketReplication:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"replication"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},putBucketWebsite:function(t,e){if(t.WebsiteConfiguration){var o=r.clone(t.WebsiteConfiguration||{}),n=o.RoutingRules||o.RoutingRule||[];n=r.isArray(n)?n:[n],delete o.RoutingRule,delete o.RoutingRules,n.length&&(o.RoutingRules={RoutingRule:n});var i=r.json2xml({WebsiteConfiguration:o}),a=t.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=r.b64(r.md5(i)),g.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:i,action:"website",headers:a},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})}else e(r.error(new Error("missing param WebsiteConfiguration")))},getBucketWebsite:function(t,e){g.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,action:"website"},function(t,o){if(t)if(404===t.statusCode&&"NoSuchWebsiteConfiguration"===t.error.Code){var n={WebsiteConfiguration:{},statusCode:t.statusCode};t.headers&&(n.headers=t.headers),e(null,n)}else e(t);else{var i=o.WebsiteConfiguration||{};if(i.RoutingRules){var a=r.clone(i.RoutingRules.RoutingRule||[]);a=r.makeArray(a),i.RoutingRules=a}e(null,{WebsiteConfiguration:i,statusCode:o.statusCode,headers:o.headers})}})},deleteBucketWebsite:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"website"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},putBucketReferer:function(t,e){if(t.RefererConfiguration){var o=r.clone(t.RefererConfiguration||{}),n=o.DomainList||{},i=n.Domains||n.Domain||[];(i=r.isArray(i)?i:[i]).length&&(o.DomainList={Domain:i});var a=r.json2xml({RefererConfiguration:o}),s=t.Headers;s["Content-Type"]="application/xml",s["Content-MD5"]=r.b64(r.md5(a)),g.call(this,{Action:"name/cos:PutBucketReferer",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:a,action:"referer",headers:s},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})}else e(r.error(new Error("missing param RefererConfiguration")))},getBucketReferer:function(t,e){g.call(this,{Action:"name/cos:GetBucketReferer",method:"GET",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,action:"referer"},function(t,o){if(t)if(404===t.statusCode&&"NoSuchRefererConfiguration"===t.error.Code){var n={WebsiteConfiguration:{},statusCode:t.statusCode};t.headers&&(n.headers=t.headers),e(null,n)}else e(t);else{var i=o.RefererConfiguration||{};if(i.DomainList){var a=r.makeArray(i.DomainList.Domain||[]);i.DomainList={Domains:a}}e(null,{RefererConfiguration:i,statusCode:o.statusCode,headers:o.headers})}})},putBucketDomain:function(t,e){var o=(t.DomainConfiguration||{}).DomainRule||t.DomainRule||[];o=r.clone(o);var n=r.json2xml({DomainConfiguration:{DomainRule:o}}),i=t.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=r.b64(r.md5(n)),g.call(this,{Action:"name/cos:PutBucketDomain",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:n,action:"domain",headers:i},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketDomain:function(t,e){g.call(this,{Action:"name/cos:GetBucketDomain",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"domain"},function(t,o){if(t)return e(t);var n=[];try{n=o.DomainConfiguration.DomainRule||[]}catch(t){}n=r.clone(r.isArray(n)?n:[n]),e(null,{DomainRule:n,statusCode:o.statusCode,headers:o.headers})})},deleteBucketDomain:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketDomain",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"domain"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},putBucketOrigin:function(t,e){var o=(t.OriginConfiguration||{}).OriginRule||t.OriginRule||[];o=r.clone(o);var n=r.json2xml({OriginConfiguration:{OriginRule:o}}),i=t.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=r.b64(r.md5(n)),g.call(this,{Action:"name/cos:PutBucketOrigin",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:n,action:"origin",headers:i},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketOrigin:function(t,e){g.call(this,{Action:"name/cos:GetBucketOrigin",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"origin"},function(t,o){if(t)return e(t);var n=[];try{n=o.OriginConfiguration.OriginRule||[]}catch(t){}n=r.clone(r.isArray(n)?n:[n]),e(null,{OriginRule:n,statusCode:o.statusCode,headers:o.headers})})},deleteBucketOrigin:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketOrigin",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"origin"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},putBucketLogging:function(t,e){var o=r.json2xml({BucketLoggingStatus:t.BucketLoggingStatus||""}),n=t.Headers;n["Content-Type"]="application/xml",n["Content-MD5"]=r.b64(r.md5(o)),g.call(this,{Action:"name/cos:PutBucketLogging",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:o,action:"logging",headers:n},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketLogging:function(t,e){g.call(this,{Action:"name/cos:GetBucketLogging",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"logging"},function(t,o){if(t)return e(t);e(null,{BucketLoggingStatus:o.BucketLoggingStatus,statusCode:o.statusCode,headers:o.headers})})},putBucketInventory:function(t,e){return a.call(this,"PUT",t,e)},postBucketInventory:function(t,e){return a.call(this,"POST",t,e)},getBucketInventory:function(t,e){g.call(this,{Action:"name/cos:GetBucketInventory",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"inventory",qs:{id:t.Id}},function(t,o){if(t)return e(t);var n=o.InventoryConfiguration;if(n&&n.OptionalFields&&n.OptionalFields.Field){var i=n.OptionalFields.Field;r.isArray(i)||(i=[i]),n.OptionalFields=i}if(n.Destination&&n.Destination.COSBucketDestination&&n.Destination.COSBucketDestination.Encryption){var a=n.Destination.COSBucketDestination.Encryption;Object.keys(a).indexOf("SSE-COS")>-1&&(a.SSECOS=a["SSE-COS"],delete a["SSE-COS"])}e(null,{InventoryConfiguration:n,statusCode:o.statusCode,headers:o.headers})})},listBucketInventory:function(t,e){g.call(this,{Action:"name/cos:ListBucketInventory",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"inventory",qs:{"continuation-token":t.ContinuationToken}},function(t,o){if(t)return e(t);var n=o.ListInventoryConfigurationResult,i=n.InventoryConfiguration||[];i=r.isArray(i)?i:[i],delete n.InventoryConfiguration,r.each(i,function(t){if(t&&t.OptionalFields&&t.OptionalFields.Field){var e=t.OptionalFields.Field;r.isArray(e)||(e=[e]),t.OptionalFields=e}if(t.Destination&&t.Destination.COSBucketDestination&&t.Destination.COSBucketDestination.Encryption){var o=t.Destination.COSBucketDestination.Encryption;Object.keys(o).indexOf("SSE-COS")>-1&&(o.SSECOS=o["SSE-COS"],delete o["SSE-COS"])}}),n.InventoryConfigurations=i,r.extend(n,{statusCode:o.statusCode,headers:o.headers}),e(null,n)})},deleteBucketInventory:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketInventory",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"inventory",qs:{id:t.Id}},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},putBucketAccelerate:function(t,e){if(t.AccelerateConfiguration){var o={AccelerateConfiguration:t.AccelerateConfiguration||{}},n=r.json2xml(o),i={"Content-Type":"application/xml"};i["Content-MD5"]=r.b64(r.md5(n)),g.call(this,{Action:"name/cos:PutBucketAccelerate",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:n,action:"accelerate",headers:i},function(t,o){if(t)return e(t);e(null,{statusCode:o.statusCode,headers:o.headers})})}else e(r.error(new Error("missing param AccelerateConfiguration")))},getBucketAccelerate:function(t,e){g.call(this,{Action:"name/cos:GetBucketAccelerate",method:"GET",Bucket:t.Bucket,Region:t.Region,action:"accelerate"},function(t,o){t||!o.AccelerateConfiguration&&(o.AccelerateConfiguration={}),e(t,o)})},putBucketEncryption:function(t,e){var o=t.ServerSideEncryptionConfiguration||{},n=o.Rule||o.Rules||[],i=r.json2xml({ServerSideEncryptionConfiguration:{Rule:n}}),a=t.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=r.b64(r.md5(i)),g.call(this,{Action:"name/cos:PutBucketEncryption",method:"PUT",Bucket:t.Bucket,Region:t.Region,body:i,action:"encryption",headers:a},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getBucketEncryption:function(t,e){g.call(this,{Action:"name/cos:GetBucketEncryption",method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"encryption"},function(t,o){if(t)if(404===t.statusCode&&"NoSuchEncryptionConfiguration"===t.code){var n={EncryptionConfiguration:{Rules:[]},statusCode:t.statusCode};t.headers&&(n.headers=t.headers),e(null,n)}else e(t);else{var i=r.makeArray(o.EncryptionConfiguration&&o.EncryptionConfiguration.Rule||[]);o.EncryptionConfiguration={Rules:i},e(t,o)}})},deleteBucketEncryption:function(t,e){g.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"encryption"},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getObject:function(t,e){var o=t.Query||{},n=t.QueryString||"",i=r.throttleOnProgress.call(this,0,t.onProgress),a=t.tracker;a&&a.setParams({signStartTime:(new Date).getTime()}),o["response-content-type"]=t.ResponseContentType,o["response-content-language"]=t.ResponseContentLanguage,o["response-expires"]=t.ResponseExpires,o["response-cache-control"]=t.ResponseCacheControl,o["response-content-disposition"]=t.ResponseContentDisposition,o["response-content-encoding"]=t.ResponseContentEncoding,g.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:t.Bucket,Region:t.Region,Key:t.Key,VersionId:t.VersionId,DataType:t.DataType,headers:t.Headers,qs:o,qsStr:n,rawBody:!0,onDownloadProgress:i,tracker:a},function(o,n){if(i(null,!0),o){var a=o.statusCode;return t.Headers["If-Modified-Since"]&&a&&304===a?e(null,{NotModified:!0}):e(o)}e(null,{Body:n.body,ETag:r.attr(n.headers,"etag",""),statusCode:n.statusCode,headers:n.headers})})},headObject:function(t,e){g.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:t.Bucket,Region:t.Region,Key:t.Key,VersionId:t.VersionId,headers:t.Headers},function(o,n){if(o){var i=o.statusCode;return t.Headers["If-Modified-Since"]&&i&&304===i?e(null,{NotModified:!0,statusCode:i}):e(o)}n.ETag=r.attr(n.headers,"etag",""),e(null,n)})},listObjectVersions:function(t,e){var o={};o.prefix=t.Prefix||"",o.delimiter=t.Delimiter,o["key-marker"]=t.KeyMarker,o["version-id-marker"]=t.VersionIdMarker,o["max-keys"]=t.MaxKeys,o["encoding-type"]=t.EncodingType,g.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:o.prefix,method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,qs:o,action:"versions"},function(t,o){if(t)return e(t);var n=o.ListVersionsResult||{},i=n.DeleteMarker||[];i=r.isArray(i)?i:[i];var a=n.Version||[];a=r.isArray(a)?a:[a];var s=r.clone(n);delete s.DeleteMarker,delete s.Version,r.extend(s,{DeleteMarkers:i,Versions:a,statusCode:o.statusCode,headers:o.headers}),e(null,s)})},putObject:function(t,e){var o=this,n=t.ContentLength,i=r.throttleOnProgress.call(o,n,t.onProgress),a=t.Headers;a["Cache-Control"]||a["cache-control"]||(a["Cache-Control"]=""),a["Content-Type"]||a["content-type"]||(a["Content-Type"]=t.Body&&t.Body.type||"");var s=t.UploadAddMetaMd5||o.options.UploadAddMetaMd5||o.options.UploadCheckContentMd5,c=t.tracker;s&&c&&c.setParams({md5StartTime:(new Date).getTime()}),r.getBodyMd5(s,t.Body,function(s){s&&(c&&c.setParams({md5EndTime:(new Date).getTime()}),o.options.UploadCheckContentMd5&&(a["Content-MD5"]=r.b64(s)),(t.UploadAddMetaMd5||o.options.UploadAddMetaMd5)&&(a["x-cos-meta-md5"]=s)),void 0!==t.ContentLength&&(a["Content-Length"]=t.ContentLength),i(null,!0),g.call(o,{Action:"name/cos:PutObject",TaskId:t.TaskId,method:"PUT",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,qs:t.Query,body:t.Body,onProgress:i,tracker:c},function(a,s){if(a)return i(null,!0),e(a);i({loaded:n,total:n},!0);var c=l({ForcePathStyle:o.options.ForcePathStyle,protocol:o.options.Protocol,domain:o.options.Domain,bucket:t.Bucket,region:o.options.UseAccelerate?"accelerate":t.Region,object:t.Key});c=c.substr(c.indexOf("://")+3),s.Location=c,s.ETag=r.attr(s.headers,"etag",""),e(null,s)})},t.onHashProgress)},deleteObject:function(t,e){g.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,VersionId:t.VersionId,action:t.Recursive?"recursive":""},function(t,o){if(t){var n=t.statusCode;return n&&404===n?e(null,{BucketNotFound:!0,statusCode:n}):e(t)}e(null,{statusCode:o.statusCode,headers:o.headers})})},getObjectAcl:function(t,e){var o={};t.VersionId&&(o.versionId=t.VersionId),g.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,qs:o,action:"acl"},function(t,o){if(t)return e(t);var n=o.AccessControlPolicy||{},i=n.Owner||{},a=n.AccessControlList&&n.AccessControlList.Grant||[];a=r.isArray(a)?a:[a];var c=s(n);delete c.GrantWrite,o.headers&&o.headers["x-cos-acl"]&&(c.ACL=o.headers["x-cos-acl"]),c=r.extend(c,{Owner:i,Grants:a,statusCode:o.statusCode,headers:o.headers}),e(null,c)})},putObjectAcl:function(t,e){var o=t.Headers,n="";if(t.AccessControlPolicy){var i=r.clone(t.AccessControlPolicy||{}),a=i.Grants||i.Grant;a=r.isArray(a)?a:[a],delete i.Grant,delete i.Grants,i.AccessControlList={Grant:a},n=r.json2xml({AccessControlPolicy:i}),o["Content-Type"]="application/xml",o["Content-MD5"]=r.b64(r.md5(n))}r.each(o,function(t,e){0===e.indexOf("x-cos-grant-")&&(o[e]=c(o[e]))}),g.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:t.Bucket,Region:t.Region,Key:t.Key,action:"acl",headers:o,body:n},function(t,o){if(t)return e(t);e(null,{statusCode:o.statusCode,headers:o.headers})})},optionsObject:function(t,e){var o=t.Headers;o.Origin=t.Origin,o["Access-Control-Request-Method"]=t.AccessControlRequestMethod,o["Access-Control-Request-Headers"]=t.AccessControlRequestHeaders,g.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:o},function(t,o){if(t)return t.statusCode&&403===t.statusCode?e(null,{OptionsForbidden:!0,statusCode:t.statusCode}):e(t);var n=o.headers||{};e(null,{AccessControlAllowOrigin:n["access-control-allow-origin"],AccessControlAllowMethods:n["access-control-allow-methods"],AccessControlAllowHeaders:n["access-control-allow-headers"],AccessControlExposeHeaders:n["access-control-expose-headers"],AccessControlMaxAge:n["access-control-max-age"],statusCode:o.statusCode,headers:o.headers})})},putObjectCopy:function(t,e){var o=this,n=t.Headers;n["Cache-Control"]||n["cache-control"]||(n["Cache-Control"]="");var i=t.CopySource||"",a=r.getSourceParams.call(this,i);if(a){var s=a.Bucket,c=a.Region,u=decodeURIComponent(a.Key);g.call(this,{Scope:[{action:"name/cos:GetObject",bucket:s,region:c,prefix:u},{action:"name/cos:PutObject",bucket:t.Bucket,region:t.Region,prefix:t.Key}],method:"PUT",Bucket:t.Bucket,Region:t.Region,Key:t.Key,VersionId:t.VersionId,headers:t.Headers},function(n,i){if(n)return e(n);var a=r.clone(i.CopyObjectResult||{}),s=l({ForcePathStyle:o.options.ForcePathStyle,protocol:o.options.Protocol,domain:o.options.Domain,bucket:t.Bucket,region:t.Region,object:t.Key,isLocation:!0});r.extend(a,{Location:s,statusCode:i.statusCode,headers:i.headers}),e(null,a)})}else e(r.error(new Error("CopySource format error")))},deleteMultipleObject:function(t,e){var o=t.Objects||[],n=t.Quiet;o=r.isArray(o)?o:[o];var i=r.json2xml({Delete:{Object:o,Quiet:n||!1}}),a=t.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=r.b64(r.md5(i));var s=r.map(o,function(e){return{action:"name/cos:DeleteObject",bucket:t.Bucket,region:t.Region,prefix:e.Key}});g.call(this,{Scope:s,method:"POST",Bucket:t.Bucket,Region:t.Region,body:i,action:"delete",headers:a},function(t,o){if(t)return e(t);var n=o.DeleteResult||{},i=n.Deleted||[],a=n.Error||[];i=r.isArray(i)?i:[i],a=r.isArray(a)?a:[a];var s=r.clone(n);r.extend(s,{Error:a,Deleted:i,statusCode:o.statusCode,headers:o.headers}),e(null,s)})},restoreObject:function(t,e){var o=t.Headers;if(t.RestoreRequest){var n=t.RestoreRequest||{},i=r.json2xml({RestoreRequest:n});o["Content-Type"]="application/xml",o["Content-MD5"]=r.b64(r.md5(i)),g.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:t.Bucket,Region:t.Region,Key:t.Key,VersionId:t.VersionId,body:i,action:"restore",headers:o},e)}else e(r.error(new Error("missing param RestoreRequest")))},putObjectTagging:function(t,e){var o=t.Tagging||{},n=o.TagSet||o.Tags||t.Tags||[];n=r.clone(r.isArray(n)?n:[n]);var i=r.json2xml({Tagging:{TagSet:{Tag:n}}}),a=t.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=r.b64(r.md5(i)),g.call(this,{Action:"name/cos:PutObjectTagging",method:"PUT",Bucket:t.Bucket,Key:t.Key,Region:t.Region,body:i,action:"tagging",headers:a,VersionId:t.VersionId},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},getObjectTagging:function(t,e){g.call(this,{Action:"name/cos:GetObjectTagging",method:"GET",Key:t.Key,Bucket:t.Bucket,Region:t.Region,headers:t.Headers,action:"tagging",VersionId:t.VersionId},function(t,o){if(t)if(404!==t.statusCode||!t.error||"Not Found"!==t.error&&"NoSuchTagSet"!==t.error.Code)e(t);else{var n={Tags:[],statusCode:t.statusCode};t.headers&&(n.headers=t.headers),e(null,n)}else{var i=[];try{i=o.Tagging.TagSet.Tag||[]}catch(t){}i=r.clone(r.isArray(i)?i:[i]),e(null,{Tags:i,statusCode:o.statusCode,headers:o.headers})}})},deleteObjectTagging:function(t,e){g.call(this,{Action:"name/cos:DeleteObjectTagging",method:"DELETE",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,action:"tagging",VersionId:t.VersionId},function(t,o){return t&&204===t.statusCode?e(null,{statusCode:t.statusCode}):t?e(t):void e(null,{statusCode:o.statusCode,headers:o.headers})})},selectObjectContent:function(t,e){if(!t.SelectType)return e(r.error(new Error("missing param SelectType")));var o=t.SelectRequest||{},n=r.json2xml({SelectRequest:o}),i=t.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=r.b64(r.md5(n)),g.call(this,{Action:"name/cos:GetObject",method:"POST",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,action:"select",qs:{"select-type":t.SelectType},VersionId:t.VersionId,body:n,DataType:"arraybuffer",rawBody:!0},function(t,o){if(t&&204===t.statusCode)return e(null,{statusCode:t.statusCode});if(t)return e(t);var n=r.parseSelectPayload(o.body);e(null,{statusCode:o.statusCode,headers:o.headers,Body:n.body,Payload:n.payload})})},appendObject:function(t,e){var o=t.Headers;o["Cache-Control"]||o["cache-control"]||(o["Cache-Control"]=""),o["Content-Type"]||o["content-type"]||(o["Content-Type"]=t.Body&&t.Body.type||""),g.call(this,{Action:"name/cos:AppendObject",method:"POST",Bucket:t.Bucket,Region:t.Region,action:"append",Key:t.Key,body:t.Body,qs:{position:t.Position},headers:t.Headers},function(t,o){if(t)return e(t);e(null,o)})},uploadPartCopy:function(t,e){var o=t.CopySource||"",n=r.getSourceParams.call(this,o);if(n){var i=n.Bucket,a=n.Region,s=decodeURIComponent(n.Key);g.call(this,{Scope:[{action:"name/cos:GetObject",bucket:i,region:a,prefix:s},{action:"name/cos:PutObject",bucket:t.Bucket,region:t.Region,prefix:t.Key}],method:"PUT",Bucket:t.Bucket,Region:t.Region,Key:t.Key,VersionId:t.VersionId,qs:{partNumber:t.PartNumber,uploadId:t.UploadId},headers:t.Headers},function(t,o){if(t)return e(t);var n=r.clone(o.CopyPartResult||{});r.extend(n,{statusCode:o.statusCode,headers:o.headers}),e(null,n)})}else e(r.error(new Error("CopySource format error")))},multipartInit:function(t,e){var o=this,n=t.Headers,i=t.tracker;n["Cache-Control"]||n["cache-control"]||(n["Cache-Control"]=""),n["Content-Type"]||n["content-type"]||(n["Content-Type"]=t.Body&&t.Body.type||"");var a=t.Body&&(t.UploadAddMetaMd5||o.options.UploadAddMetaMd5);a&&i&&i.setParams({md5StartTime:(new Date).getTime()}),r.getBodyMd5(a,t.Body,function(n){n&&(t.Headers["x-cos-meta-md5"]=n),a&&i&&i.setParams({md5EndTime:(new Date).getTime()}),g.call(o,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:t.Bucket,Region:t.Region,Key:t.Key,action:"uploads",headers:t.Headers,qs:t.Query,tracker:i},function(t,o){return t?(i&&i.parent&&i.parent.setParams({errorNode:"multipartInit"}),e(t)):(o=r.clone(o||{}))&&o.InitiateMultipartUploadResult?e(null,r.extend(o.InitiateMultipartUploadResult,{statusCode:o.statusCode,headers:o.headers})):void e(null,o)})},t.onHashProgress)},multipartUpload:function(t,e){var o=this;r.getFileSize("multipartUpload",t,function(){var n=t.tracker,i=o.options.UploadCheckContentMd5;i&&n&&n.setParams({md5StartTime:(new Date).getTime()}),r.getBodyMd5(i,t.Body,function(a){a&&(t.Headers["Content-MD5"]=r.b64(a)),i&&n&&n.setParams({md5EndTime:(new Date).getTime()}),n&&n.setParams({partNumber:t.PartNumber}),g.call(o,{Action:"name/cos:UploadPart",TaskId:t.TaskId,method:"PUT",Bucket:t.Bucket,Region:t.Region,Key:t.Key,qs:{partNumber:t.PartNumber,uploadId:t.UploadId},headers:t.Headers,onProgress:t.onProgress,body:t.Body||null,tracker:n},function(t,o){if(t)return n&&n.parent&&n.parent.setParams({errorNode:"multipartUpload"}),e(t);e(null,{ETag:r.attr(o.headers,"etag",""),statusCode:o.statusCode,headers:o.headers})})})})},multipartComplete:function(t,e){for(var o=this,n=t.UploadId,i=t.Parts,a=t.tracker,s=0,c=i.length;s<c;s++)i[s].ETag&&0===i[s].ETag.indexOf('"')||(i[s].ETag='"'+i[s].ETag+'"');var u=r.json2xml({CompleteMultipartUpload:{Part:i}});u=u.replace(/\n\s*/g,"");var d=t.Headers;d["Content-Type"]="application/xml",d["Content-MD5"]=r.b64(r.md5(u)),g.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:t.Bucket,Region:t.Region,Key:t.Key,qs:{uploadId:n},body:u,headers:d,tracker:a},function(n,i){if(n)return a&&a.parent&&a.parent.setParams({errorNode:"multipartComplete"}),e(n);var s=l({ForcePathStyle:o.options.ForcePathStyle,protocol:o.options.Protocol,domain:o.options.Domain,bucket:t.Bucket,region:t.Region,object:t.Key,isLocation:!0}),c=i.CompleteMultipartUploadResult||{};c.ProcessResults&&c&&c.ProcessResults&&(c.UploadResult={OriginalInfo:{Key:c.Key,Location:s,ETag:c.ETag,ImageInfo:c.ImageInfo},ProcessResults:c.ProcessResults},delete c.ImageInfo,delete c.ProcessResults);var u=r.extend(c,{Location:s,statusCode:i.statusCode,headers:i.headers});e(null,u)})},multipartList:function(t,e){var o={};o.delimiter=t.Delimiter,o["encoding-type"]=t.EncodingType,o.prefix=t.Prefix||"",o["max-uploads"]=t.MaxUploads,o["key-marker"]=t.KeyMarker,o["upload-id-marker"]=t.UploadIdMarker,o=r.clearKey(o);var n=t.tracker;n&&n.setParams({signStartTime:(new Date).getTime()}),g.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:o.prefix,method:"GET",Bucket:t.Bucket,Region:t.Region,headers:t.Headers,qs:o,action:"uploads",tracker:n},function(t,o){if(t)return n&&n.parent&&n.parent.setParams({errorNode:"multipartList"}),e(t);if(o&&o.ListMultipartUploadsResult){var i=o.ListMultipartUploadsResult.Upload||[];i=r.isArray(i)?i:[i],o.ListMultipartUploadsResult.Upload=i}var a=r.clone(o.ListMultipartUploadsResult||{});r.extend(a,{statusCode:o.statusCode,headers:o.headers}),e(null,a)})},multipartListPart:function(t,e){var o={},n=t.tracker;o.uploadId=t.UploadId,o["encoding-type"]=t.EncodingType,o["max-parts"]=t.MaxParts,o["part-number-marker"]=t.PartNumberMarker,g.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,qs:o},function(t,o){if(t)return n&&n.parent&&n.parent.setParams({errorNode:"multipartListPart"}),e(t);var i=o.ListPartsResult||{},a=i.Part||[];a=r.isArray(a)?a:[a],i.Part=a;var s=r.clone(i);r.extend(s,{statusCode:o.statusCode,headers:o.headers}),e(null,s)})},multipartAbort:function(t,e){var o={};o.uploadId=t.UploadId,g.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:t.Bucket,Region:t.Region,Key:t.Key,headers:t.Headers,qs:o},function(t,o){if(t)return e(t);e(null,{statusCode:o.statusCode,headers:o.headers})})},request:function(t,e){g.call(this,{method:t.Method,Bucket:t.Bucket,Region:t.Region,Key:t.Key,action:t.Action,headers:t.Headers,qs:t.Query,body:t.Body,Url:t.Url,rawBody:t.RawBody,DataType:t.DataType},function(t,o){if(t)return e(t);o&&o.body&&(o.Body=o.body,delete o.body),e(t,o)})},getObjectUrl:function(t,e){var o=this,n=void 0===t.UseAccelerate?o.options.UseAccelerate:t.UseAccelerate,i=l({ForcePathStyle:o.options.ForcePathStyle,protocol:t.Protocol||o.options.Protocol,domain:t.Domain||o.options.Domain,bucket:t.Bucket,region:n?"accelerate":t.Region,object:t.Key}),a="";t.Query&&(a+=r.obj2str(t.Query)),t.QueryString&&(a+=(a?"&":"")+t.QueryString);var s=i;if(void 0!==t.Sign&&!t.Sign)return a&&(s+="?"+a),e(null,{Url:s}),s;var c=u.call(this,{Bucket:t.Bucket,Region:t.Region,UseAccelerate:t.UseAccelerate,Url:i}),p=d.call(this,{Action:"PUT"===(t.Method||"").toUpperCase()?"name/cos:PutObject":"name/cos:GetObject",Bucket:t.Bucket||"",Region:t.Region||"",Method:t.Method||"get",Key:t.Key,Expires:t.Expires,Headers:t.Headers,Query:t.Query,SignHost:c,ForceSignHost:!1!==t.ForceSignHost&&o.options.ForceSignHost},function(t,o){if(e)if(t)e(t);else{var n=i;n+="?"+(o.Authorization.indexOf("q-signature")>-1?function(t){var e=t.match(/q-url-param-list.*?(?=&)/g)[0],o="q-url-param-list="+encodeURIComponent(e.replace(/q-url-param-list=/,"")).toLowerCase(),n=new RegExp(e,"g");return t.replace(n,o)}(o.Authorization):"sign="+encodeURIComponent(o.Authorization)),o.SecurityToken&&(n+="&x-cos-security-token="+o.SecurityToken),o.ClientIP&&(n+="&clientIP="+o.ClientIP),o.ClientUA&&(n+="&clientUA="+o.ClientUA),o.Token&&(n+="&token="+o.Token),a&&(n+="&"+a),setTimeout(function(){e(null,{Url:n})})}});return p?(s+="?"+p.Authorization+(p.SecurityToken?"&x-cos-security-token="+p.SecurityToken:""),a&&(s+="&"+a)):a&&(s+="?"+a),s},getAuth:function(t){return r.getAuth({SecretId:t.SecretId||this.options.SecretId||"",SecretKey:t.SecretKey||this.options.SecretKey||"",Bucket:t.Bucket,Region:t.Region,Method:t.Method,Key:t.Key,Query:t.Query,Headers:t.Headers,Expires:t.Expires,UseRawKey:this.options.UseRawKey,SystemClockOffset:this.options.SystemClockOffset})}};t.exports.init=function(t,e){e.transferToTaskMethod(f,"putObject"),r.each(f,function(e,o){t.prototype[o]=r.apiWrapper(o,e),function(t,e,o){r.each(["Cors","Acl"],function(n){if(t.slice(-n.length)===n){var i=t.slice(0,-n.length)+n.toUpperCase(),a=r.apiWrapper(t,e);o[i]=function(){a.apply(this,arguments)}}})}(o,e,t.prototype)})}},function(t,e,o){var n=o(0),i=function(t){switch(n(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},r=function(t,e,o){var n={};return e.getAllResponseHeaders().trim().split("\n").forEach(function(t){if(t){var e=t.indexOf(":"),o=t.substr(0,e).trim().toLowerCase(),i=t.substr(e+1).trim();n[o]=i}}),{error:t,statusCode:e.status,statusMessage:e.statusText,headers:n,body:o}},a=function(t,e){return e||"text"!==e?t.response:t.responseText};t.exports=function(t,e){var o,s,c,l=(t.method||"GET").toUpperCase(),u=t.url;if(t.qs){var d=(o=t.qs,s=s||"&",c=c||"=",null===o&&(o=void 0),"object"===n(o)?Object.keys(o).map(function(t){var e=encodeURIComponent(i(t))+c;return Array.isArray(o[t])?o[t].map(function(t){return e+encodeURIComponent(i(t))}).join(s):e+encodeURIComponent(i(o[t]))}).filter(Boolean).join(s):"");d&&(u+=(-1===u.indexOf("?")?"?":"&")+d)}var p=new XMLHttpRequest;if(p.open(l,u,!0),p.responseType=t.dataType||"text",t.xhrFields)for(var g in t.xhrFields)p[g]=t.xhrFields[g];var h=t.headers;if(h)for(var f in h)h.hasOwnProperty(f)&&"content-length"!==f.toLowerCase()&&"user-agent"!==f.toLowerCase()&&"origin"!==f.toLowerCase()&&"host"!==f.toLowerCase()&&p.setRequestHeader(f,h[f]);return t.onProgress&&p.upload&&(p.upload.onprogress=t.onProgress),t.onDownloadProgress&&(p.onprogress=t.onDownloadProgress),t.timeout&&(p.timeout=t.timeout),p.ontimeout=function(){var t=new Error("timeout");e(r(t,p))},p.onload=function(){e(r(null,p,a(p,t.dataType)))},p.onerror=function(){var o=a(p,t.dataType);if(o)e(r(null,p,o));else{var n=p.statusText;n||0!==p.status||(n=new Error("CORS blocked or network error")),e(r(n,p,o))}},p.send(t.body||""),p}},function(t,e,o){var n=o(0),i=o(9),r=o(30),a=o(8).EventProxy,s=o(1),c=o(6);function l(t,e){var o=t.TaskId,n=t.Bucket,c=t.Region,l=t.Key,p=t.StorageClass,g=this,h={},f=t.FileSize,y=t.SliceSize,b=Math.ceil(f/y),m=0,v=s.throttleOnProgress.call(g,f,t.onHashProgress),P=function(e,o){var n=e.length;return 0===n?o(null,!0):n>b?o(null,!1):n>1&&Math.max(e[0].Size,e[1].Size)!==y?o(null,!1):void function i(r){if(r<n){var a=e[r];!function(e,o){var n=y*(e-1),i=Math.min(n+y,f),r=i-n;h[e]?o(0,{PartNumber:e,ETag:h[e],Size:r}):s.fileSlice(t.Body,n,i,!1,function(t){s.getFileMd5(t,function(t,n){if(t)return o(s.error(t));var i='"'+n+'"';h[e]=i,v({loaded:m+=r,total:f}),o(0,{PartNumber:e,ETag:i,Size:r})})})}(a.PartNumber,function(t,e){e&&e.ETag===a.ETag&&e.Size===a.Size?i(r+1):o(null,!1)})}else o(null,!0)}(0)},S=new a;S.on("error",function(t){if(g._isRunningTask(o))return e(t)}),S.on("upload_id_available",function(t){var o={},n=[];s.each(t.PartList,function(t){o[t.PartNumber]=t});for(var i=1;i<=b;i++){var r=o[i];r?(r.PartNumber=i,r.Uploaded=!0):r={PartNumber:i,ETag:null,Uploaded:!1},n.push(r)}t.PartList=n,e(null,t)}),S.on("no_available_upload_id",function(){if(g._isRunningTask(o)){var i=s.extend({Bucket:n,Region:c,Key:l,Query:s.clone(t.Query),StorageClass:p,Body:t.Body,calledBySdk:"sliceUploadFile",tracker:t.tracker},t),r=s.clone(t.Headers);delete r["x-cos-mime-limit"],i.Headers=r,g.multipartInit(i,function(t,n){if(g._isRunningTask(o)){if(t)return S.emit("error",t);var i=n.UploadId;if(!i)return e(s.error(new Error("no such upload id")));S.emit("upload_id_available",{UploadId:i,PartList:[]})}})}}),S.on("has_and_check_upload_id",function(e){e=e.reverse(),r.eachLimit(e,1,function(e,r){g._isRunningTask(o)&&(i.using[e]?r():d.call(g,{Bucket:n,Region:c,Key:l,UploadId:e,tracker:t.tracker},function(t,n){if(g._isRunningTask(o)){if(t)return i.removeUsing(e),S.emit("error",t);var a=n.PartList;a.forEach(function(t){t.PartNumber*=1,t.Size*=1,t.ETag=t.ETag||""}),P(a,function(t,n){if(g._isRunningTask(o))return t?S.emit("error",t):void(n?r({UploadId:e,PartList:a}):r())})}}))},function(t){g._isRunningTask(o)&&(v(null,!0),t&&t.UploadId?S.emit("upload_id_available",t):S.emit("no_available_upload_id"))})}),S.on("seek_local_avail_upload_id",function(e){var r=i.getFileId(t.Body,t.ChunkSize,n,l),a=i.getUploadIdList.call(g,r);r&&a?function r(u){if(u>=a.length)S.emit("has_and_check_upload_id",e);else{var p=a[u];if(!s.isInArray(e,p))return i.removeUploadId.call(g,p),void r(u+1);i.using[p]?r(u+1):d.call(g,{Bucket:n,Region:c,Key:l,UploadId:p,tracker:t.tracker},function(t,e){g._isRunningTask(o)&&(t?(i.removeUploadId.call(g,p),r(u+1)):S.emit("upload_id_available",{UploadId:p,PartList:e.PartList}))})}}(0):S.emit("has_and_check_upload_id",e)}),S.on("get_remote_upload_id_list",function(){u.call(g,{Bucket:n,Region:c,Key:l,tracker:t.tracker},function(e,r){if(g._isRunningTask(o)){if(e)return S.emit("error",e);var a=s.filter(r.UploadList,function(t){return t.Key===l&&(!p||t.StorageClass.toUpperCase()===p.toUpperCase())}).reverse().map(function(t){return t.UploadId||t.UploadID});if(a.length)S.emit("seek_local_avail_upload_id",a);else{var c,u=i.getFileId(t.Body,t.ChunkSize,n,l);u&&(c=i.getUploadIdList.call(g,u))&&s.each(c,function(t){i.removeUploadId.call(g,t)}),S.emit("no_available_upload_id")}}})}),S.emit("get_remote_upload_id_list")}function u(t,e){var o=this,n=[],i={Bucket:t.Bucket,Region:t.Region,Prefix:t.Key,calledBySdk:t.calledBySdk||"sliceUploadFile",tracker:t.tracker};!function t(){o.multipartList(i,function(o,r){if(o)return e(o);n.push.apply(n,r.Upload||[]),"true"===r.IsTruncated?(i.KeyMarker=r.NextKeyMarker,i.UploadIdMarker=r.NextUploadIdMarker,t()):e(null,{UploadList:n})})}()}function d(t,e){var o=this,n=[],i={Bucket:t.Bucket,Region:t.Region,Key:t.Key,UploadId:t.UploadId,calledBySdk:"sliceUploadFile",tracker:t.tracker};!function t(){o.multipartListPart(i,function(o,r){if(o)return e(o);n.push.apply(n,r.Part||[]),"true"===r.IsTruncated?(i.PartNumberMarker=r.NextPartNumberMarker,t()):e(null,{PartList:n})})}()}function p(t,e){var o=this,n=t.TaskId,i=t.Bucket,a=t.Region,c=t.Key,l=t.UploadData,u=t.FileSize,d=t.SliceSize,p=Math.min(t.AsyncLimit||o.options.ChunkParallelLimit||1,256),h=t.Body,f=Math.ceil(u/d),y=0,b=t.ServerSideEncryption,m=t.Headers,v=s.filter(l.PartList,function(t){return t.Uploaded&&(y+=t.PartNumber>=f&&u%d||d),!t.Uploaded}),P=t.onProgress;r.eachLimit(v,p,function(e,r){if(o._isRunningTask(n)){var s=e.PartNumber,p=Math.min(u,e.PartNumber*d)-(e.PartNumber-1)*d,f=0;g.call(o,{TaskId:n,Bucket:i,Region:a,Key:c,SliceSize:d,FileSize:u,PartNumber:s,ServerSideEncryption:b,Body:h,UploadData:l,Headers:m,onProgress:function(t){y+=t.loaded-f,f=t.loaded,P({loaded:y,total:u})},tracker:t.tracker},function(t,i){o._isRunningTask(n)&&(t||i.ETag||(t='get ETag error, please add "ETag" to CORS ExposeHeader setting.( \u83b7\u53d6ETag\u5931\u8d25\uff0c\u8bf7\u5728CORS ExposeHeader\u8bbe\u7f6e\u4e2d\u6dfb\u52a0ETag\uff0c\u8bf7\u53c2\u8003\u6587\u6863\uff1ahttps://cloud.tencent.com/document/product/436/13318 )'),t?y-=f:(y+=p-f,e.ETag=i.ETag),P({loaded:y,total:u}),r(t||null,i))})}},function(t){if(o._isRunningTask(n))return t?e(t):void e(null,{UploadId:l.UploadId,SliceList:l.PartList})})}function g(t,e){var o=this,n=t.TaskId,i=t.Bucket,a=t.Region,c=t.Key,l=t.FileSize,u=t.Body,d=1*t.PartNumber,p=t.SliceSize,g=t.ServerSideEncryption,h=t.UploadData,f=t.Headers||{},y=o.options.ChunkRetryTimes+1,b=p*(d-1),m=p,v=b+p;v>l&&(m=(v=l)-b);var P=["x-cos-traffic-limit","x-cos-mime-limit"],S={};s.each(f,function(t,e){P.indexOf(e)>-1&&(S[e]=t)});var I=h.PartList[d-1];r.retry(y,function(e){o._isRunningTask(n)&&s.fileSlice(u,b,v,!0,function(r){o.multipartUpload({TaskId:n,Bucket:i,Region:a,Key:c,ContentLength:m,PartNumber:d,UploadId:h.UploadId,ServerSideEncryption:g,Body:r,Headers:S,onProgress:t.onProgress,calledBySdk:"sliceUploadFile",tracker:t.tracker},function(t,i){if(o._isRunningTask(n))return t?e(t):(I.Uploaded=!0,e(null,i))})})},function(t,i){if(o._isRunningTask(n))return e(t,i)})}function h(t,e){var o=t.Bucket,n=t.Region,i=t.Key,a=t.UploadId,s=t.SliceList,c=this,l=this.options.ChunkRetryTimes+1,u=t.Headers,d=s.map(function(t){return{PartNumber:t.PartNumber,ETag:t.ETag}});r.retry(l,function(e){c.multipartComplete({Bucket:o,Region:n,Key:i,UploadId:a,Parts:d,Headers:u,calledBySdk:"sliceUploadFile",tracker:t.tracker},e)},function(t,o){e(t,o)})}function f(t,e){var o=t.Bucket,n=t.Region,i=t.Key,a=t.AbortArray,s=t.AsyncLimit||1,c=this,l=0,u=new Array(a.length);r.eachLimit(a,s,function(e,r){var a=l;if(i&&i!==e.Key)return u[a]={error:{KeyNotMatch:!0}},void r(null);var s=e.UploadId||e.UploadID;c.multipartAbort({Bucket:o,Region:n,Key:e.Key,Headers:t.Headers,UploadId:s},function(t){var i={Bucket:o,Region:n,Key:e.Key,UploadId:s};u[a]={error:t,task:i},r(null)}),l++},function(t){if(t)return e(t);for(var o=[],n=[],i=0,r=u.length;i<r;i++){var a=u[i];a.task&&(a.error?n.push(a.task):o.push(a.task))}return e(null,{successList:o,errorList:n})})}function y(t,e){var o=t.TaskId,n=t.Bucket,i=t.Region,a=t.Key,s=t.CopySource,c=t.UploadId,l=1*t.PartNumber,u=t.CopySourceRange,d=this.options.ChunkRetryTimes+1,p=this;r.retry(d,function(t){p.uploadPartCopy({TaskId:o,Bucket:n,Region:i,Key:a,CopySource:s,UploadId:c,PartNumber:l,CopySourceRange:u},function(e,o){t(e||null,o)})},function(t,o){return e(t,o)})}var b={sliceUploadFile:function(t,e){var o,n,r=this,c=new a,u=t.TaskId,d=t.Bucket,g=t.Region,f=t.Key,y=t.Body,b=t.ChunkSize||t.SliceSize||r.options.ChunkSize,m=t.AsyncLimit,v=t.StorageClass,P=t.ServerSideEncryption,S=t.onHashProgress,I=t.tracker;I&&I.setParams({chunkSize:b}),c.on("error",function(o){if(r._isRunningTask(u))return o.UploadId=t.UploadData.UploadId||"",e(o)}),c.on("upload_complete",function(o){var n=s.extend({UploadId:t.UploadData.UploadId||""},o);e(null,n)}),c.on("upload_slice_complete",function(e){var a={};s.each(t.Headers,function(t,e){var o=e.toLowerCase();0!==o.indexOf("x-cos-meta-")&&"pic-operations"!==o||(a[e]=t)}),h.call(r,{Bucket:d,Region:g,Key:f,UploadId:e.UploadId,SliceList:e.SliceList,Headers:a,tracker:I},function(t,a){if(r._isRunningTask(u)){if(i.removeUsing(e.UploadId),t)return n(null,!0),c.emit("error",t);i.removeUploadId.call(r,e.UploadId),n({loaded:o,total:o},!0),c.emit("upload_complete",a)}})}),c.on("get_upload_data_finish",function(e){var a=i.getFileId(y,t.ChunkSize,d,f);a&&i.saveUploadId.call(r,a,e.UploadId,r.options.UploadIdCacheLimit),i.setUsing(e.UploadId),n(null,!0),p.call(r,{TaskId:u,Bucket:d,Region:g,Key:f,Body:y,FileSize:o,SliceSize:b,AsyncLimit:m,ServerSideEncryption:P,UploadData:e,Headers:t.Headers,onProgress:n,tracker:I},function(t,e){if(r._isRunningTask(u))return t?(n(null,!0),c.emit("error",t)):void c.emit("upload_slice_complete",e)})}),c.on("get_file_size_finish",function(){if(n=s.throttleOnProgress.call(r,o,t.onProgress),t.UploadData.UploadId)c.emit("get_upload_data_finish",t.UploadData);else{var e=s.extend({TaskId:u,Bucket:d,Region:g,Key:f,Headers:t.Headers,StorageClass:v,Body:y,FileSize:o,SliceSize:b,onHashProgress:S,tracker:I},t);l.call(r,e,function(e,o){if(r._isRunningTask(u)){if(e)return c.emit("error",e);t.UploadData.UploadId=o.UploadId,t.UploadData.PartList=o.PartList,c.emit("get_upload_data_finish",t.UploadData)}})}}),o=t.ContentLength,delete t.ContentLength,!t.Headers&&(t.Headers={}),s.each(t.Headers,function(e,o){"content-length"===o.toLowerCase()&&delete t.Headers[o]}),function(){for(var e=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],n=1048576,i=0;i<e.length&&!(o/(n=1048576*e[i])<=r.options.MaxPartNumber);i++);t.ChunkSize=t.SliceSize=b=Math.max(b,n)}(),0===o?(t.Body="",t.ContentLength=0,t.SkipTask=!0,r.putObject(t,e)):c.emit("get_file_size_finish")},abortUploadTask:function(t,e){var o=t.Bucket,n=t.Region,i=t.Key,r=t.UploadId,c=t.Level||"task",l=t.AsyncLimit,d=this,p=new a;if(p.on("error",function(t){return e(t)}),p.on("get_abort_array",function(r){f.call(d,{Bucket:o,Region:n,Key:i,Headers:t.Headers,AsyncLimit:l,AbortArray:r},e)}),"bucket"===c)u.call(d,{Bucket:o,Region:n,calledBySdk:"abortUploadTask"},function(t,o){if(t)return e(t);p.emit("get_abort_array",o.UploadList||[])});else if("file"===c){if(!i)return e(s.error(new Error("abort_upload_task_no_key")));u.call(d,{Bucket:o,Region:n,Key:i,calledBySdk:"abortUploadTask"},function(t,o){if(t)return e(t);p.emit("get_abort_array",o.UploadList||[])})}else{if("task"!==c)return e(s.error(new Error("abort_unknown_level")));if(!r)return e(s.error(new Error("abort_upload_task_no_id")));if(!i)return e(s.error(new Error("abort_upload_task_no_key")));p.emit("get_abort_array",[{Key:i,UploadId:r}])}},uploadFile:function(t,e){var o=this,i=void 0===t.SliceSize?o.options.SliceSize:t.SliceSize,r=[],a=t.Body,l=a.size||a.length||0,u={TaskId:""};if(o.options.EnableTracker){var d=o.options.UseAccelerate||"string"==typeof o.options.Domain&&o.options.Domain.includes("accelerate.");t.tracker=new c({bucket:t.Bucket,region:t.Region,apiName:"uploadFile",fileKey:t.Key,fileSize:l,accelerate:d,deepTracker:o.options.DeepTracker,customId:o.options.CustomId,delay:o.options.TrackerDelay})}s.each(t,function(t,e){"object"!==n(t)&&"function"!=typeof t&&(u[e]=t)});var p=t.onTaskReady;t.onTaskReady=function(t){u.TaskId=t,p&&p(t)};var g=l>i?"sliceUploadFile":"putObject",h=t.onFileFinish;r.push({api:g,params:t,callback:function(o,n){t.tracker&&t.tracker.formatResult(o,n),h&&h(o,n,u),e&&e(o,n)}}),o._addTasks(r)},uploadFiles:function(t,e){var o=this,i=void 0===t.SliceSize?o.options.SliceSize:t.SliceSize,r=0,a=0,l=s.throttleOnProgress.call(o,a,t.onProgress),u=t.files.length,d=t.onFileFinish,p=Array(u),g=function(t,o,n){l(null,!0),d&&d(t,o,n),p[n.Index]={options:n,error:t,data:o},--u<=0&&e&&e(null,{files:p})},h=[];s.each(t.files,function(t,e){!function(){var u=t.Body,d=u.size||u.length||0,p={Index:e,TaskId:""};if(!o.options.UseRawKey&&t.Key&&"/"===t.Key.substr(0,1)&&(t.Key=t.Key.substr(1)),r+=d,o.options.EnableTracker){var f=o.options.UseAccelerate||"string"==typeof o.options.Domain&&o.options.Domain.includes("accelerate.");t.tracker=new c({bucket:t.Bucket,region:t.Region,apiName:"uploadFiles",fileKey:t.Key,fileSize:d,accelerate:f,deepTracker:o.options.DeepTracker,customId:o.options.CustomId,delay:o.options.TrackerDelay})}s.each(t,function(t,e){"object"!==n(t)&&"function"!=typeof t&&(p[e]=t)});var y=t.onTaskReady;t.onTaskReady=function(t){p.TaskId=t,y&&y(t)};var b=0,m=t.onProgress;t.onProgress=function(t){a=a-b+t.loaded,b=t.loaded,m&&m(t),l({loaded:a,total:r})};var v=d>i?"sliceUploadFile":"putObject",P=t.onFileFinish;h.push({api:v,params:t,callback:function(e,o){t.tracker&&t.tracker.formatResult(e,o),P&&P(e,o),g&&g(e,o,p)}})}()}),o._addTasks(h)},sliceCopyFile:function(t,e){var o=new a,n=this,c=t.Bucket,l=t.Region,u=t.Key,p=t.CopySource,g=s.getSourceParams.call(this,p);if(g){var h=g.Bucket,f=g.Region,b=decodeURIComponent(g.Key),m=void 0===t.CopySliceSize?n.options.CopySliceSize:t.CopySliceSize;m=Math.max(0,m);var v,P,S=t.CopyChunkSize||this.options.CopyChunkSize,I=this.options.CopyChunkParallelLimit,x=this.options.ChunkRetryTimes+1,_=0,C=0,w={},A={},k={};o.on("copy_slice_complete",function(o){var a={};s.each(t.Headers,function(t,e){0===e.toLowerCase().indexOf("x-cos-meta-")&&(a[e]=t)});var d=s.map(o.PartList,function(t){return{PartNumber:t.PartNumber,ETag:t.ETag}});r.retry(x,function(t){n.multipartComplete({Bucket:c,Region:l,Key:u,UploadId:o.UploadId,Parts:d,calledBySdk:"sliceCopyFile"},t)},function(t,n){if(i.removeUsing(o.UploadId),t)return P(null,!0),e(t);i.removeUploadId(o.UploadId),P({loaded:v,total:v},!0),e(null,n)})}),o.on("get_copy_data_finish",function(t){var a=i.getCopyFileId(p,w,S,c,u);a&&i.saveUploadId(a,t.UploadId,n.options.UploadIdCacheLimit),i.setUsing(t.UploadId);var d=s.filter(t.PartList,function(t){return t.Uploaded&&(C+=t.PartNumber>=_&&v%S||S),!t.Uploaded});r.eachLimit(d,I,function(e,o){var i=e.PartNumber,a=e.CopySourceRange,s=e.end-e.start;r.retry(x,function(e){y.call(n,{Bucket:c,Region:l,Key:u,CopySource:p,UploadId:t.UploadId,PartNumber:i,CopySourceRange:a},e)},function(t,n){if(t)return o(t);P({loaded:C+=s,total:v}),e.ETag=n.ETag,o(t||null,n)})},function(n){if(n)return i.removeUsing(t.UploadId),P(null,!0),e(n);o.emit("copy_slice_complete",t)})}),o.on("get_chunk_size_finish",function(){var r=function(){n.multipartInit({Bucket:c,Region:l,Key:u,Headers:k},function(n,i){if(n)return e(n);t.UploadId=i.UploadId,o.emit("get_copy_data_finish",{UploadId:t.UploadId,PartList:t.PartList})})},a=i.getCopyFileId(p,w,S,c,u),g=i.getUploadIdList(a);if(!a||!g)return r();!function e(a){if(a>=g.length)return r();var p=g[a];if(i.using[p])return e(a+1);d.call(n,{Bucket:c,Region:l,Key:u,UploadId:p},function(n,r){if(n)i.removeUploadId(p),e(a+1);else{if(i.using[p])return e(a+1);var c={},l=0;s.each(r.PartList,function(t){var e=parseInt(t.Size),o=l+e-1;c[t.PartNumber+"|"+l+"|"+o]=t.ETag,l+=e}),s.each(t.PartList,function(t){var e=c[t.PartNumber+"|"+t.start+"|"+t.end];e&&(t.ETag=e,t.Uploaded=!0)}),o.emit("get_copy_data_finish",{UploadId:p,PartList:t.PartList})}})}(0)}),o.on("get_file_size_finish",function(){if(function(){for(var e=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],o=1048576,i=0;i<e.length&&!(v/(o=1048576*e[i])<=n.options.MaxPartNumber);i++);t.ChunkSize=S=Math.max(S,o),_=Math.ceil(v/S);for(var r=[],a=1;a<=_;a++){var s=(a-1)*S,c=a*S<v?a*S-1:v-1,l={PartNumber:a,start:s,end:c,CopySourceRange:"bytes="+s+"-"+c};r.push(l)}t.PartList=r}(),(k="Replaced"===t.Headers["x-cos-metadata-directive"]?t.Headers:A)["x-cos-storage-class"]=t.Headers["x-cos-storage-class"]||A["x-cos-storage-class"],k=s.clearKey(k),"ARCHIVE"===A["x-cos-storage-class"]||"DEEP_ARCHIVE"===A["x-cos-storage-class"]){var i=A["x-cos-restore"];if(!i||'ongoing-request="true"'===i)return void e(s.error(new Error("Unrestored archive object is not allowed to be copied")))}delete k["x-cos-copy-source"],delete k["x-cos-metadata-directive"],delete k["x-cos-copy-source-If-Modified-Since"],delete k["x-cos-copy-source-If-Unmodified-Since"],delete k["x-cos-copy-source-If-Match"],delete k["x-cos-copy-source-If-None-Match"],o.emit("get_chunk_size_finish")}),n.headObject({Bucket:h,Region:f,Key:b},function(i,r){if(i)i.statusCode&&404===i.statusCode?e(s.error(i,{ErrorStatus:b+" Not Exist"})):e(i);else if(void 0!==(v=t.FileSize=r.headers["content-length"])&&v)if(P=s.throttleOnProgress.call(n,v,t.onProgress),v<=m)t.Headers["x-cos-metadata-directive"]||(t.Headers["x-cos-metadata-directive"]="Copy"),n.putObjectCopy(t,function(t,o){if(t)return P(null,!0),e(t);P({loaded:v,total:v},!0),e(t,o)});else{var a=r.headers;w=a,A={"Cache-Control":a["cache-control"],"Content-Disposition":a["content-disposition"],"Content-Encoding":a["content-encoding"],"Content-Type":a["content-type"],Expires:a.expires,"x-cos-storage-class":a["x-cos-storage-class"]},s.each(a,function(t,e){0===e.indexOf("x-cos-meta-")&&e.length>11&&(A[e]=t)}),o.emit("get_file_size_finish")}else e(s.error(new Error('get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.\uff08 \u83b7\u53d6Content-Length\u5931\u8d25\uff0c\u8bf7\u5728CORS ExposeHeader\u8bbe\u7f6e\u4e2d\u6dfb\u52a0Content-Length\uff0c\u8bf7\u53c2\u8003\u6587\u6863\uff1ahttps://cloud.tencent.com/document/product/436/13318 \uff09')))})}else e(s.error(new Error("CopySource format error")))}};t.exports.init=function(t,e){e.transferToTaskMethod(b,"sliceUploadFile"),s.each(b,function(e,o){t.prototype[o]=s.apiWrapper(o,e)})}},function(t){t.exports={eachLimit:function(t,e,o,n){if(n=n||function(){},!t.length||e<=0)return n();var i=0,r=0,a=0;!function s(){if(i>=t.length)return n();for(;a<e&&r<t.length;)a+=1,o(t[(r+=1)-1],function(e){e?(n(e),n=function(){}):(a-=1,(i+=1)>=t.length?n():s())})}()},retry:function(t,e,o){t<1?o():function n(i){e(function(e,r){e&&i<t?n(i+1):o(e,r)})}(1)}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.COS=t():(void 0).COS=t(),cc._RF.pop()},{}],demoEnd:[function(t,e,o){"use strict";cc._RF.push(e,"cac6bijqj1O8Lma6RQMzM0A","demoEnd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=t("../control_mgr"),u=t("../SimulationInfo"),d=t("../bundleInfo"),p=t("../sound_mgr"),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this.init()},e.prototype.init=function(){p.default.playEAudio("comp"),this.makeupBundle=d.bundle.makeupBundle,this.costumeBundle=d.bundle.costumeBundle,this.body=cc.instantiate(this.bodyPrefab),this.body.parent=this.platform,this.loadBody()},e.prototype.loadBody=function(){var t,e=this.body.getChildByName("face"),o=function(o){if(!l.bodyInfo[o])return"continue";if("lipstick"==o){var i=cc.find("mouth/lips/lipLine",e),r=cc.find("mouth/lips",e);t="lipstick/mouth/"+l.bodyInfo[o]+"/",n.makeupBundle.load(t+"lipLine",cc.SpriteFrame,function(t,e){i.getComponent(cc.Sprite).spriteFrame=e}),n.makeupBundle.load(t+"lips",cc.SpriteFrame,function(t,e){r.getComponent(cc.Sprite).spriteFrame=e}),cc.find("mouth/default",e).active=!1}else if("brush"==o){var a=cc.find("blusher",e);t="blusher/face/"+l.bodyInfo[o],a.setPosition(0,[-75.5,-68,-50.5,-67,-56.5,-69][l.bodyInfo[o]]),n.makeupBundle.load(t,cc.SpriteFrame,function(t,e){a.getComponent(cc.Sprite).spriteFrame=e})}else if("eye"==o){t="eye/"+l.bodyInfo[o]+"/";var s=cc.find("on/eye/sclera",e),c=cc.find("on/eye/eyefold",e),d=cc.find("on/eye/pupil",e),p=cc.find("on/eye/eyelash",e),g=cc.find("face/new",e),h=cc.find("close/new",e);n.makeupBundle.load(t+"sclera",cc.SpriteFrame,function(t,e){s.getComponent(cc.Sprite).spriteFrame=e}),n.makeupBundle.load(t+"eyefold",cc.SpriteFrame,function(t,e){c.getComponent(cc.Sprite).spriteFrame=e}),n.makeupBundle.load(t+"pupil",cc.SpriteFrame,function(t,e){d.getComponent(cc.Sprite).spriteFrame=e}),n.makeupBundle.load(t+"eyelash",cc.SpriteFrame,function(t,e){p.getComponent(cc.Sprite).spriteFrame=e}),n.makeupBundle.load(t+"face",cc.SpriteFrame,function(t,e){g.getComponent(cc.Sprite).spriteFrame=e}),n.makeupBundle.load(t+"close",cc.SpriteFrame,function(t,e){h.getComponent(cc.Sprite).spriteFrame=e}),cc.find("on/default",e).active=!1,cc.find("face/default",e).active=!1,cc.find("close/default",e).active=!1}else if("eyebrow"==o){t="eyebrow/"+l.bodyInfo[o];var f=cc.find("eyebrow/brow",e);n.makeupBundle.load(t,cc.SpriteFrame,function(t,e){f.getComponent(cc.Sprite).spriteFrame=e}),cc.find("eyebrow/default",e).active=!1}else{var y=n.body.getChildByName(o),b=y.getChildByName("default");b&&(cc.log("\u6709\u9ed8\u8ba4"),b.active=!1);var m=u.CInfo[l.bodyInfo[o]],v=new cc.Node;v.addComponent(cc.Sprite),n.costumeBundle.load("item/"+String(l.bodyInfo[o]),cc.SpriteFrame,function(t,e){v.getComponent(cc.Sprite).spriteFrame=e}),v.setPosition(m.bodyPos[0],m.bodyPos[1]),y.addChild(v)}},n=this;for(var i in l.bodyInfo)o(i)},e.prototype.again=function(){this.body.destroy(),this.body=null,p.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001again\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("again",!0)),this.node.active=!1},r([c(cc.Prefab)],e.prototype,"bodyPrefab",void 0),r([c(cc.Node)],e.prototype,"platform",void 0),r([s],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../SimulationInfo":"SimulationInfo","../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../sound_mgr":"sound_mgr"}],hallBuild:[function(t,e,o){"use strict";cc._RF.push(e,"be8f5hcLmNPWZ6/zTUCA4t8","hallBuild");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=t("./build_mgr"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.setting=null,e.remaking=null,e}return i(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.remakingNode=l.default.createPage(this.remaking,this.pageNode),this.pageNode.on("openSetting",this.openSetting,this)},e.prototype.openSetting=function(t){cc.log("\u6210\u529f\u63a5\u6536openSetting\u4e8b\u4ef6"),cc.log("\u53d1\u9001\u8282\u70b9"+t.target.name),this.settingNode||(this.settingNode=l.default.createPage(this.setting,this.pageNode)),this.settingNode.active=!0},r([c(cc.Prefab)],e.prototype,"setting",void 0),r([c(cc.Prefab)],e.prototype,"remaking",void 0),r([c(cc.Node)],e.prototype,"pageNode",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./build_mgr":"build_mgr"}],house:[function(t,e,o){"use strict";cc._RF.push(e,"f991eC497BOlLw+Huzq2OMz","house");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=t("../control_mgr"),u=t("../partCom/bubbles"),d=t("../sound_mgr"),p=t("../stageCom/stage1"),g=t("../stageCom/stage10"),h=t("../stageCom/stage11"),f=t("../stageCom/stage12"),y=t("../stageCom/stage13"),b=t("../stageCom/stage14"),m=t("../stageCom/stage15"),v=t("../stageCom/stage16"),P=t("../stageCom/stage17"),S=t("../stageCom/stage18"),I=t("../stageCom/stage19"),x=t("../stageCom/stage2"),_=t("../stageCom/stage20"),C=t("../stageCom/stage21"),w=t("../stageCom/stage22"),A=t("../stageCom/stage23"),k=t("../stageCom/stage24"),N=t("../stageCom/stage25"),T=t("../stageCom/stage26"),O=t("../stageCom/stage27"),R=t("../stageCom/stage28"),E=t("../stageCom/stage29"),B=t("../stageCom/stage3"),j=t("../stageCom/stage30"),D=t("../stageCom/stage31"),F=t("../stageCom/stage32"),M=t("../stageCom/stage33 "),U=t("../stageCom/stage34"),H=t("../stageCom/stage35"),L=t("../stageCom/stage36"),z=t("../stageCom/stage37"),q=t("../stageCom/stage38"),W=t("../stageCom/stage39"),K=t("../stageCom/stage4"),G=t("../stageCom/stage40"),V=t("../stageCom/stage41"),X=t("../stageCom/stage5"),J=t("../stageCom/stage6"),Q=t("../stageCom/stage7"),Y=t("../stageCom/stage8"),Z=t("../stageCom/stage9"),$=t("../temporaryStrategy"),tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bodyPrefab=[],e.handinitalPos=cc.v3(0,-935),e}return i(e,t),e.prototype.onEnable=function(){0==l.stageInfo.isInsertBody&&this.init()},e.prototype.init=function(){for(var t=0,e=this.palgantong.children;t<e.length;t++)e[t].destroy();this.palgantong.setScale(1);var o=l.info.enterStageNum,n=[p.default,x.default,B.default,K.default,X.default,J.default,Q.default,Y.default,Z.default,g.default,h.default,f.default,y.default,b.default,m.default,v.default,P.default,S.default,I.default,_.default,C.default,w.default,A.default,k.default,N.default,T.default,O.default,R.default,E.default,j.default,D.default,F.default,M.default,U.default,H.default,L.default,z.default,q.default,W.default,G.default,V.default];this.node.addComponent(n[o]).init(this.palgantong,this.bodyPrefab,this.hand,this.bubbles),this.node.getChildByName("next").active=!1,this.node.getChildByName("next").zIndex=99},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=$.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.leaveBgAni=function(){},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(u.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(u.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.nextPage=function(){for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();l.stageInfo.imagePos=this.palgantong.position,l.stageInfo.finelImageNode=cc.instantiate(this.palgantong),d.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},r([c(cc.Prefab)],e.prototype,"bodyPrefab",void 0),r([c(cc.Node)],e.prototype,"palgantong",void 0),r([c(cc.Node)],e.prototype,"hand",void 0),r([c(cc.Prefab)],e.prototype,"bubbles",void 0),r([s],e)}(cc.Component);o.default=tt,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../stageCom/stage1":"stage1","../stageCom/stage10":"stage10","../stageCom/stage11":"stage11","../stageCom/stage12":"stage12","../stageCom/stage13":"stage13","../stageCom/stage14":"stage14","../stageCom/stage15":"stage15","../stageCom/stage16":"stage16","../stageCom/stage17":"stage17","../stageCom/stage18":"stage18","../stageCom/stage19":"stage19","../stageCom/stage2":"stage2","../stageCom/stage20":"stage20","../stageCom/stage21":"stage21","../stageCom/stage22":"stage22","../stageCom/stage23":"stage23","../stageCom/stage24":"stage24","../stageCom/stage25":"stage25","../stageCom/stage26":"stage26","../stageCom/stage27":"stage27","../stageCom/stage28":"stage28","../stageCom/stage29":"stage29","../stageCom/stage3":"stage3","../stageCom/stage30":"stage30","../stageCom/stage31":"stage31","../stageCom/stage32":"stage32","../stageCom/stage33 ":"stage33 ","../stageCom/stage34":"stage34","../stageCom/stage35":"stage35","../stageCom/stage36":"stage36","../stageCom/stage37":"stage37","../stageCom/stage38":"stage38","../stageCom/stage39":"stage39","../stageCom/stage4":"stage4","../stageCom/stage40":"stage40","../stageCom/stage41":"stage41","../stageCom/stage5":"stage5","../stageCom/stage6":"stage6","../stageCom/stage7":"stage7","../stageCom/stage8":"stage8","../stageCom/stage9":"stage9","../temporaryStrategy":"temporaryStrategy"}],item_ctrl:[function(t,e,o){"use strict";cc._RF.push(e,"bd167/SN3JIzoYrqHU7vvP8","item_ctrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialPos=cc.v3(0,0),e.parentSize={height:0,width:0},e}return i(e,t),e.prototype.start=function(){this.init()},e.prototype.init=function(){this.parentSize.height=this.node.parent.height,this.parentSize.width=this.node.parent.width,this.initialPos=this.node.position,this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this)},e.prototype.touchStart=function(){this.stayPos=this.node.position},e.prototype.touchMove=function(t){var e=t.getStartLocation().sub(t.getLocation()),o=this.stayPos.sub(e);this.node.setPosition(o)},r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],loading:[function(t,e,o){"use strict";cc._RF.push(e,"7fa52lyxolKfpjYLg3qALBT","loading");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=t("../bundleInfo"),u=t("../../cos-js-sdk-v5.min"),d=t("../temporaryStrategy"),p=t("../control_mgr"),g=t("../SimulationInfo"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.loadCompleteNum=0,e.needCompleteNum=38,e.pass="",e}return i(e,t),e.prototype.start=function(){this.waitTip(),this.init()},e.prototype.waitTip=function(){var t=this,e=0,o=2;cc.sys.isBrowser&&(o=0),cc.tween(this.label.node).delay(.2).call(function(){t.label.string.length>15?t.label.string="Loading":t.label.string+=".",e+=.2,t.loadCompleteNum==t.needCompleteNum&&e>=o&&(cc.director.loadScene("main"),t.loadCompleteNum=null)}).union().repeatForever().start()},e.prototype.init=function(){var t=this;p.controlMgr.loadInfo(),cc.assetManager.loadBundle("menu_ui",function(){t.loadCompleteNum++}),cc.assetManager.loadBundle("costume",function(e,o){l.bundle.costumeBundle=o,t.loadCompleteNum++}),cc.assetManager.loadBundle("makeup",function(e,o){l.bundle.makeupBundle=o,t.loadCompleteNum++});for(var e=function(e){var o=e,n=o+"/0";cc.assetManager.loadRemote("https://project-pcd-1300278118.cos.ap-chengdu.myqcloud.com/"+n+".png",{reload:!0,cacheAsset:!0,cacheEnabled:!0},function(e,n){p.stageInfo.imageSFrame[o]={},p.stageInfo.imageSFrame[o][0]=new cc.SpriteFrame(n),t.loadCompleteNum++})},o=0;o<35;o++)e(o);console.log(p.stageInfo),cc.assetManager.loadBundle("internal",function(t,e){cc.log(e),l.bundle.builtinArr=[],e.load("materials/builtin-2d-gray-sprite",cc.Material,function(t,e){l.bundle.builtinArr[1]=e}),e.load("materials/builtin-2d-sprite",cc.Material,function(t,e){l.bundle.builtinArr[0]=e}),e.load("image/default_sprite_splash",cc.SpriteFrame,function(t,e){l.bundle.defaultSpriteSplash=e})}),cc.resources.load("json/stageInfo",function(t,e){for(var o in cc.log(e.json),e.json){var n=e.json[o];n.character=JSON.parse(n.character);for(var i=0;i<2;i++)n["wardrobe"+i]&&(n["wardrobe"+i]=JSON.parse(n["wardrobe"+i]));g.BInfo[n.stageIndex]=n}cc.log(g.BInfo)}),cc.resources.load("json/clothesInfo",function(t,e){for(var o in cc.log(e),e.json){var n=e.json[o];for(var i in g.CInfo[n.id]||(g.CInfo[n.id]={}),n){if(""==n[i]&&0==n[i].length)switch(i){case"bodyPos":n[i]=[0,0];break;case"pagePos":n[i]=[[0,0]];break;default:n[i]=null}if("page"==i){for(var r=JSON.parse(n[i]),a=0;a<r.length;a++)n.pagePos[a];n[i]=JSON.parse(n[i])}if("pagePos"==i||"bodyPos"==i)if(g.CInfo[n.id][i]){if("pagePos"==i){var s=n.page;for(var c in s)g.CInfo[n.id][i][c]||(g.CInfo[n.id][i][c]=[0,0])}}else g.CInfo[n.id][i]=n[i];else g.CInfo[n.id][i]=n[i]}}})},e.prototype.initCos=function(){var t="https://project-pcd-1300278118.cos.ap-chengdu.myqcloud.com/"+d.default.shiftCipher(this.pass,6)+".json";cc.assetManager.loadRemote(t,function(t,e){var o=e.json;cos=new u({SecretId:o.SecretId,SecretKey:o.SecretKey})}.bind(this))},e.prototype.putObject=function(t){cos&&cos.putObject({Bucket:"project-pcd-1300278118",Region:"ap-chengdu",Key:"itemInfo.json",Body:t,onProgress:function(){}},function(t){t?console.log("\u4e0a\u4f20\u5931\u8d25",t):console.log("\u4e0a\u4f20\u6210\u529f")})},r([c(cc.Label)],e.prototype,"label",void 0),r([c(String)],e.prototype,"pass",void 0),r([s],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../cos-js-sdk-v5.min":"cos-js-sdk-v5.min","../SimulationInfo":"SimulationInfo","../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../temporaryStrategy":"temporaryStrategy"}],onlineInfo:[function(t,e,o){"use strict";cc._RF.push(e,"04a5crVFetFu6BciYC6qpJn","onlineInfo"),Object.defineProperty(o,"__esModule",{value:!0}),o.onlineInfo=void 0,o.onlineInfo={CInfo:{}},cc._RF.pop()},{}],ornament:[function(t,e,o){"use strict";cc._RF.push(e,"63684luUuRFsbWjQR8Shxn+","ornament");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=t("../bundleInfo"),u=t("../control_mgr"),d=t("../SimulationInfo"),p=t("../sound_mgr"),g=t("../temporaryStrategy"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lipstickPos=[[-102.053,0],[-4.77,0],[92.645,0],[-91.6,0],[5.667,0],[103.082,0]],e.stickPath="lipstick/stick/",e.blusherPos=[[-79,132],[56,132],[-79,0],[56,0],[-79,-132],[56,-132]],e.blusherPath="blusher/",e.eyePos=[[0,125.5],[0,0],[0,-125.5]],e.showOtherPage=[0,0,1,1],e.eyePath="eye/",e.eyebrowPath="eyebrow/",e.lipstickLenght=6,e.blusherLenght=6,e.eyeLenght=6,e.eyeblowLength=6,e.face_blushColorY=[-75.5,-68,-50.5,-67,-56.5,-69],e.guideTime=1,e.guideMoveX=350,e.isPlayingAni=!1,e.showPageIndex=0,e.prepareLeftChild=[],e.prepareRightChild=[],e.brushDefault=[],e.lipstickDefault=[],e.eyebrowDefault=[],e.eyeDefault=[],e.checkNum=2,e.handMoveTime=.5,e.handInitialPosition=cc.v3(-11,-935),e.backWaitTime=1,e.isPickUp=!1,e}return i(e,t),e.prototype.onEnable=function(){this.remover("all"),this.facialInit(),this.initUI(),this.init()},e.prototype.start=function(){},e.prototype.init=function(){this.makeupBundle||(this.makeupBundle=l.bundle.makeupBundle),this.costumeBundle||(this.costumeBundle=l.bundle.costumeBundle),this.loadBody(),this.facialInit()},e.prototype.initUI=function(){this.showPageIndex=0;for(var t=0,e=this.left.children;t<e.length;t++)"other"!=(i=e[t]).name&&i.destroy();for(var o=0,n=this.right.children;o<n.length;o++){var i;"other"!=(i=n[o]).name&&i.destroy()}this.isPickUp=!1,this.isPlayingAni=!1,this.hand.setPosition(this.handInitialPosition),this.takeItem&&this.takeItem.destroy(),this.external.active=!0,this.left.active=!1,this.right.active=!1,this.boxBg.getComponent(cc.Sprite).fillRange=-.4,this.boxBg.setPosition(-163,0),this.external.setPosition(2.95,0),this.external.setScale(1),this.acne.opacity=255,this.guideNode.parent.active=!1,this.noTouch.active=!0,this.removeItem.targetOff(this)},e.prototype.loadBody=function(){var t=function(t){if("clothes"==t||"set"==t||"coat"==t||"hair"==t||"headwear"==t){var o=e.body.getChildByName(t),n=o.getChildByName("default"),i=o.getChildByName("new"),r=e.body.getChildByName("other");if(!u.bodyInfo[t])return n&&(n.active=!0),i&&(i.getComponent(cc.Sprite).spriteFrame=null),"continue";n&&(cc.log("\u6709\u9ed8\u8ba4"),n.active=!1);var a=d.CInfo[u.bodyInfo[t]];i||((i=new cc.Node).name="new",i.addComponent(cc.Sprite),o.addChild(i)),e.costumeBundle.load("item/"+String(u.bodyInfo[t]),cc.SpriteFrame,function(t,e){cc.log(e),i.getComponent(cc.Sprite).spriteFrame=e});var s=cc.v3(a.bodyPos[0],a.bodyPos[1]);if(1==a.layersNum){var c=new cc.Node,l=g.default.convertToNew(o,s,r);e.costumeBundle.load("item/"+String(u.bodyInfo[t]+"-1"),cc.SpriteFrame,function(t,e){c.addComponent(cc.Sprite).spriteFrame=e}),c.setPosition(l),r.addChild(c)}i.setPosition(a.bodyPos[0],a.bodyPos[1])}},e=this;for(var o in u.bodyInfo)t(o)},e.prototype.handPickUpAni=function(t,e){var o=this;this.isPlayingAni=!0,this.isItemMove=!0,setTimeout(function(){o.isItemMove=!1},1e3*this.backWaitTime+500),cc.tween(this.hand).to(this.handMoveTime,{position:t}).call(function(){o.isPlayingAni=!1,p.default.playEAudio("hold"),e()}).start()},e.prototype.handLayDownAni=function(t,e){var o=this;this.isPlayingAni=!0,cc.tween(this.hand).to(this.handMoveTime,{position:t}).call(e).to(this.handMoveTime,{position:this.handInitialPosition}).call(function(){o.isPlayingAni=!1,p.default.playEAudio("hold")}).start()},e.prototype.facialInit=function(){var t=this;this.facialGuide.active=!0,this.facialItem.on(cc.Node.EventType.TOUCH_START,function(){if(!t.isPlayingAni){p.default.playEAudio("hold"),t.noTouch.active&&(t.facialGuide.active=!1);var o=g.default.convertToNew(t.facialItem.parent,t.facialItem.position,t.node);t.isHold=!0,t.handPickUpAni(o,function(){t.isHold?(t.facialItem.parent=t.hand,t.facialItem.setPosition(cc.v3(0,0)),t.facialItem.angle=-30):e()})}},this),this.facialItem.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(!t.isPlayingAni&&t.isHold){var o=t.hand.parent.convertToNodeSpaceAR(cc.v3(e.getLocation().x,e.getLocation().y,0));t.hand.setPosition(o);var n=g.default.convertToNew(t.body,cc.v3(0,0),t.hand).mag(),i=g.default.convertToNew(t.body,cc.v3(0,0),t.node);n<100&&(t.isPlayingAni=!0,t.isHold=!1,cc.tween(t.hand).to(.2,{position:cc.v3(i.x-50,150)}).call(function(){cc.tween(t.acne).to(1.5,{opacity:0}).start()}).by(.5,{position:cc.v3(200,0)}).by(.5,{position:cc.v3(-200,0)}).by(.5,{position:cc.v3(200,0)}).by(.5,{position:cc.v3(-200,0)}).to(.1,{position:t.facialPanel.position}).call(function(){t.facialItem.parent=t.facialPanel,t.facialItem.setPosition(0,0),t.facialItem.angle=0,t.isPlayingAni=!1,0==t.noTouch.active?t.remover("all"):(t.guideAni(),t.noTouch.active=!1,t.facialGuide.active=!1,t.openBox())}).to(.2,{position:t.handInitialPosition}).start())}},this);var e=function(){t.isHold=!1,t.isPlayingAni||(t.noTouch.active&&(t.facialGuide.active=!0),cc.tween(t.hand).to(.1,{position:t.facialPanel.position}).call(function(){t.facialItem.parent=t.facialPanel,t.facialItem.setPosition(0,0),t.facialItem.angle=0,t.isPlayingAni=!1}).to(.2,{position:t.handInitialPosition}).start())};this.facialItem.on(cc.Node.EventType.TOUCH_END,e,this),this.facialItem.on(cc.Node.EventType.TOUCH_CANCEL,e,this)},e.prototype.removeAni=function(){var t=this;this.removeItem.on(cc.Node.EventType.TOUCH_START,function(){if(!t.isPlayingAni){p.default.playEAudio("hold"),t.noTouch.active&&(t.facialGuide.active=!1);var o=g.default.convertToNew(t.removeItem.parent,t.removeItem.position,t.node);t.isHold=!0,t.handPickUpAni(o,function(){t.isHold?(t.removeItem.parent=t.hand,t.removeItem.setPosition(cc.v3(0,0))):e()})}},this),this.removeItem.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(!t.noTouch.active&&!t.isPlayingAni&&t.isHold){t.removeItem.opacity=255;var o=t.hand.parent.convertToNodeSpaceAR(cc.v3(e.getLocation().x,e.getLocation().y,0));t.hand.setPosition(o);var n=g.default.convertToNew(t.body,cc.v3(0,0),t.hand).mag(),i=g.default.convertToNew(t.body,cc.v3(0,0),t.node);n<100&&(t.isPlayingAni=!0,t.isHold=!1,cc.tween(t.hand).to(.5,{position:cc.v3(i.x+50,150)}).call(function(){}).by(.5,{position:cc.v3(-200,0)}).by(.5,{position:cc.v3(200,0)}).by(.5,{position:cc.v3(-200,0)}).by(.5,{position:cc.v3(200,0)}).to(.1,{position:t.removePanel.position}).call(function(){t.isPlayingAni=!1,t.removeItem.parent=t.removePanel,t.removeItem.setPosition(0,0),t.remover(["lipstick","brush","eye","eyebrow"][t.showPageIndex]),t.removeItem.opacity=0}).to(.2,{position:t.handInitialPosition}).start())}},this);var e=function(){t.isHold=!1,cc.log(t.isPlayingAni),t.isPlayingAni||(t.isPlayingAni=!0,cc.tween(t.hand).to(.1,{position:t.removePanel.position}).call(function(){t.isPlayingAni=!1,t.removeItem.parent=t.removePanel,t.removeItem.setPosition(0,0),t.remover(["lipstick","brush","eye","eyebrow"][t.showPageIndex]),t.removeItem.opacity=0}).to(.2,{position:t.handInitialPosition}).start())};this.removeItem.on(cc.Node.EventType.TOUCH_END,e,this),this.removeItem.on(cc.Node.EventType.TOUCH_CANCEL,e,this)},e.prototype.openBox=function(){var t=this;this.loadPage(),this.isPlayingAni=!0,cc.tween(this.boxBg).to(.5,{position:cc.v3(0,0)}).call(function(){t.right.active=!0;for(var e=0,o=Array.from(t.prepareRightChild);e<o.length;e++)o[e].parent=t.right;t.prepareRightChild=[],p.default.playEAudio("turning")}).start(),cc.tween(this.external).to(.5,{position:cc.v3(-this.boxBg.x,0)}).to(.5,{scaleX:0,position:cc.v3(0,0)}).start(),this.turn.scaleX=0,this.turn.x=0,this.turn.active=!0,cc.tween(this.boxBg.getComponent(cc.Sprite)).delay(.5).to(.5,{fillRange:-.5}).to(.5,{fillRange:-1}).start(),cc.tween(this.turn).delay(1).call(function(){for(var e=0,o=Array.from(t.prepareLeftChild);e<o.length;e++)o[e].parent=t.turn;t.prepareLeftChild=[]}).to(.5,{position:this.left.position,scaleX:1}).call(function(){var e=Array.from(t.turn.children);t.turn.active=!1;for(var o=0,n=e;o<n.length;o++){var i=n[o];"other"!=i.name&&(i.parent=t.left)}t.left.active=!0,t.isPlayingAni=!1,t.removeAni(),t.touch.on(cc.Node.EventType.TOUCH_START,t.touchStart,t),t.touch.on(cc.Node.EventType.TOUCH_MOVE,t.touchMove,t)}).start()},e.prototype.pageTurningAni=function(t){var e,o,n=this;this.isPlayingAni=!0,t>0?(e=this.right,o=this.left):(e=this.left,o=this.right),this.turn.x=e.x,this.turn.active=!0;for(var i=[],r=0,a=e.children;r<a.length;r++)"other"!=(b=a[r]).name&&i.push(b);for(var s=0,c=i;s<c.length;s++)(b=c[s]).parent=this.turn;this.showPageIndex+=t,console.log("\u663e\u793a\u7b2c"+this.showPageIndex+"\u9875"),this.showPageIndex<0&&(this.showPageIndex=3),this.showPageIndex>3&&(this.showPageIndex=0),this.loadPage();var l=!!this.showOtherPage[this.showPageIndex];if(t>0){var u=Array.from(this.prepareRightChild);this.prepareRightChild=[];for(var d=0,g=u;d<g.length;d++)(b=g[d]).parent=this.right;this.right.getChildByName("other").active=l,this.turn.getComponent(cc.Sprite).spriteFrame=this.right.getComponent(cc.Sprite).spriteFrame}else{var h=Array.from(this.prepareLeftChild);this.prepareLeftChild=[];for(var f=0,y=h;f<y.length;f++){var b;(b=y[f]).parent=this.left}this.left.getChildByName("other").active=l,this.turn.getComponent(cc.Sprite).spriteFrame=this.left.getComponent(cc.Sprite).spriteFrame}cc.tween(this.turn).to(.5,{scaleX:0,x:0}).call(function(){for(var e=0,o=i;e<o.length;e++)o[e].destroy();if(n.turn.getChildByName("other").active=l,t>0){var r=Array.from(n.prepareLeftChild);n.prepareLeftChild=[];for(var a=0,s=r;a<s.length;a++)s[a].parent=n.turn;n.turn.getComponent(cc.Sprite).spriteFrame=n.left.getComponent(cc.Sprite).spriteFrame}else{var c=Array.from(n.prepareRightChild);n.prepareRightChild=[];for(var u=0,d=c;u<d.length;u++)d[u].parent=n.turn;n.turn.getComponent(cc.Sprite).spriteFrame=n.right.getComponent(cc.Sprite).spriteFrame}}).to(.5,{scaleX:1,x:-1*e.x}).call(function(){for(var t=0,e=Array.from(o.children);t<e.length;t++)"other"!=(a=e[t]).name&&a.destroy();for(var i=0,r=Array.from(n.turn.children);i<r.length;i++){var a;"other"!=(a=r[i]).name&&(a.parent=o)}n.left.getChildByName("other").active=l,n.right.getChildByName("other").active=l,n.turn.active=!1,n.isPlayingAni=!1}).start(),p.default.playEAudio("turning")},e.prototype.pickSetting=function(t,e,o,n){var i=this;if(void 0===n&&(n=null),!this.isPickUp&&!this.isPlayingAni){this.selectIndex=o,this.takeParent=e.parent;var r=g.default.convertToNew(this.takeParent,e.position,this.node);this.isPickUp=!0,this.layDownPos=r,this.takeItem=e,this.takeInitPos=e.position,this.stayPos=null,this.handPickUpAni(r,function(){i.isPlayingAni=!0,e.parent=i.hand,e.setPosition(0,0),e.angle=t,n?n():cc.tween(i.hand).by(.3,{y:200}).call(function(){i.isPlayingAni=!1}).start()}),this.makeUpCall=function(){i.addMakeUp(i.PickKey,i.selectIndex,event)}}},e.prototype.loadPage=function(){var t=this;if(0==this.showPageIndex)for(var e=function(e){var n=cc.instantiate(o.lipstickPrefab);e<o.lipstickLenght/2?o.prepareLeftChild.push(n):o.prepareRightChild.push(n),n.name=String(e),n.setPosition(o.lipstickPos[e][0],o.lipstickPos[e][1]),o.makeupBundle.load(o.stickPath+e,cc.SpriteFrame,function(t,e){cc.find("getItem/color",n).getComponent(cc.Sprite).spriteFrame=e}),n.on(cc.Node.EventType.TOUCH_START,function(){t.isPickUp||(t.bodyPart=t.lips,t.PickKey="lipstick",t.calibration=cc.v3(0,0),t.pickSetting(20,n.getChildByName("getItem"),e))},o),n.on(cc.Node.EventType.TOUCH_MOVE,o.touchMove,o)},o=this,n=0;n<this.lipstickLenght;n++)e(n);if(1==this.showPageIndex){var i=cc.instantiate(this.brushPrefab);this.prepareRightChild.push(i);var r=function(e){var o=new cc.Node;o.name=String(e),o.addComponent(cc.Sprite),o.setPosition(a.blusherPos[e][0],a.blusherPos[e][1]),a.makeupBundle.load(a.blusherPath+e,cc.SpriteFrame,function(t,e){o.getComponent(cc.Sprite).spriteFrame=e}),a.prepareLeftChild.push(o),o.on(cc.Node.EventType.TOUCH_START,function(){if(!t.isPickUp){var n=i.getChildByName("brush");t.PickKey="brush",t.bodyPart=t.body,t.calibration=cc.v3(n.width/2,-n.height/2+50),t.pickSetting(20,n,e,function(){t.isPlayingAni=!0;var i=g.default.convertToNew(o.parent,o.position,t.node);cc.tween(t.hand).to(.3,{position:i.add(t.calibration)}).call(function(){var o=n.getChildByName("color");t.makeupBundle.load(t.blusherPath+"brushColor/"+e,cc.SpriteFrame,function(t,e){cc.tween(o).to(.2,{opacity:0}).call(function(){o.getComponent(cc.Sprite).spriteFrame=e}).to(.2,{opacity:255}).start()})}).by(.2,{x:25}).by(.2,{x:-25}).by(.2,{x:25}).call(function(){t.isPlayingAni=!1}).start()})}},a),o.on(cc.Node.EventType.TOUCH_MOVE,a.touchMove,a)},a=this;for(n=0;n<this.blusherLenght;n++)r(n)}if(2==this.showPageIndex){var s=function(e){var o=cc.instantiate(c.eyePrefab);e<c.lipstickLenght/2?c.prepareLeftChild.push(o):c.prepareRightChild.push(o),o.setPosition(c.eyePos[e%3][0],c.eyePos[e%3][1]),c.makeupBundle.load(c.eyePath+(e+"/")+"on",cc.SpriteFrame,function(t,e){cc.find("on",o).getComponent(cc.Sprite).spriteFrame=e}),o.on(cc.Node.EventType.TOUCH_START,function(){t.isPickUp||(t.bodyPart=t.face,t.PickKey="eye",t.calibration=cc.v3(0,0),t.pickSetting(0,o,e))},c),o.on(cc.Node.EventType.TOUCH_MOVE,c.touchMove,c)},c=this;for(n=0;n<this.eyeLenght;n++)s(n)}if(3==this.showPageIndex){var l=function(e){var o=new cc.Node,n=new cc.Node;n.addComponent(cc.Sprite),e<u.lipstickLenght/2?u.prepareLeftChild.push(o):u.prepareRightChild.push(o),o.width=200,o.height=100,n.parent=o,o.setPosition(u.eyePos[e%3][0],u.eyePos[e%3][1]),n.setScale(.23),u.makeupBundle.load(u.eyebrowPath+e,cc.SpriteFrame,function(t,e){n.getComponent(cc.Sprite).spriteFrame=e}),o.on(cc.Node.EventType.TOUCH_START,function(){t.isPickUp||(t.bodyPart=t.brow,t.PickKey="eyebrow",t.calibration=cc.v3(0,0),t.pickSetting(0,o,e))},u),o.on(cc.Node.EventType.TOUCH_MOVE,u.touchMove,u)},u=this;for(n=0;n<this.eyeblowLength;n++)l(n)}},e.prototype.guideAni=function(){var t=this;this.guideNode.parent.active=!0,this.guideNode.setPosition(217.059,-40.354);var e=this.guideNode.getPosition(),o=0;cc.tween(this.guideNode).by(this.guideTime,{position:cc.v3(-this.guideMoveX,0)}).call(function(){t.guideNode.setPosition(e),2==++o&&(t.guideNode.parent.active=!1,cc.Tween.stopAllByTarget(t.guideNode))}).union().repeatForever().start()},e.prototype.touchStart=function(t){this.stayPos=this.hand.position,this.startLocation=t.getLocation()},e.prototype.touchMove=function(t){var e=this;if(!this.isPlayingAni)if(this.isPickUp){this.stayPos||(this.stayPos=this.hand.position,this.startLocation=t.getLocation());var o=this.startLocation.sub(t.getLocation()),n=this.stayPos.sub(cc.v3(o.x,o.y));this.hand.setPosition(n);var i=g.default.convertToNew(this.bodyPart,cc.v3(0,0),this.node),r=i.sub(this.hand.position).mag(),a=g.default.convertToNew(this.takeParent,this.takeInitPos,this.node),s=a.sub(this.hand.position).mag(),c=function(){e.handLayDownAni(a,function(){e.takeItem.angle=0,e.takeItem.parent=e.takeParent,e.takeItem.setPosition(e.takeInitPos),e.isPickUp=!1,e.takeItem=e.takeParent=null})};if("brush"==this.PickKey)for(var l=function(t){if("other"==t.name)return"continue";if(t.name==u.selectIndex)return"continue";if(g.default.convertToNew(t,cc.v3(0,0),u.node).sub(u.hand.position.sub(u.calibration)).mag()<20){var o=cc.find("brush/color",u.hand);u.selectIndex=Number(t.name),u.isPlayingAni=!0,cc.tween(u.hand).call(function(){e.makeupBundle.load(e.blusherPath+"brushColor/"+t.name,cc.SpriteFrame,function(t,e){cc.tween(o).to(.2,{opacity:0}).call(function(){o.getComponent(cc.Sprite).spriteFrame=e}).to(.2,{opacity:255}).start()})}).by(.2,{x:25}).by(.2,{x:-25}).by(.2,{x:25}).call(function(){e.isPlayingAni=!1}).start()}},u=this,d=0,h=this.left.children;d<h.length;d++)l(h[d]);if(r<170)switch(this.isPlayingAni=!0,this.PickKey){case"lipstick":cc.tween(this.hand).to(.2,{x:0,y:i.y-70}).call(this.makeUpCall).by(.5,{x:50}).by(.5,{x:-50}).by(.5,{x:50}).by(.5,{x:-50}).by(.5,{x:50}).call(function(){c()}).start();break;case"brush":cc.tween(this.hand).to(.2,{x:0,y:i.y-140}).call(this.makeUpCall).by(.5,{x:100}).by(.5,{x:-100}).by(.5,{x:100}).by(.5,{x:-100}).by(.5,{x:100}).call(function(){c()}).start();break;default:this.isPlayingAni=!0,cc.tween(this.hand).to(.2,{x:0,y:i.y}).call(this.makeUpCall).call(function(){e.takeItem.angle=0,e.takeItem.parent=e.takeParent,e.takeItem.setPosition(e.takeInitPos),e.isPickUp=!1,e.takeItem=e.takeParent=null,cc.tween(e.hand).to(e.handMoveTime,{position:e.handInitialPosition}).call(function(){e.isPlayingAni=!1,p.default.playEAudio("hold")}).start()}).start()}s<70&&(this.isPlayingAni=!0,c())}else{var f=t.getStartLocation().x-t.getLocationX();Math.abs(f)>100&&!this.isPlayingAni&&(console.log("\u89e6\u53d1\u7ffb\u9875",f/Math.abs(f)),this.pageTurningAni(f/Math.abs(f)))}},e.prototype.addMakeUp=function(t,e){var o,n=this;switch(cc.log("\u5316\u5986\u90e8\u4f4d\uff1a",t),cc.log("\u5e8f\u53f7\uff1a",e),p.default.playEAudio("getitem"),u.bodyInfo[t]=e,t){case"lipstick":o=t+"/mouth/",this.lips.opacity=100,cc.tween(this.lips).to(1.5,{opacity:255}).start(),this.makeupBundle.load(o+e+"/lipLine",cc.SpriteFrame,function(t,e){n.lipLine.getComponent(cc.Sprite).spriteFrame=e}),this.makeupBundle.load(o+e+"/lips",cc.SpriteFrame,function(t,e){n.lips.getComponent(cc.Sprite).spriteFrame=e});break;case"brush":o=this.blusherPath+"face/",this.makeupBundle.load(o+e,cc.SpriteFrame,function(t,e){cc.tween(n.blusher).to(.5,{opacity:0}).call(function(){n.blusher.getComponent(cc.Sprite).spriteFrame=e}).to(1,{opacity:255}).start()});break;case"eye":o=this.eyePath,this.makeupBundle.load(o+e+"/on",cc.SpriteFrame,function(t,e){n.face.getComponent(cc.Sprite).spriteFrame=e}),this.makeupBundle.load(o+e+"/off",cc.SpriteFrame,function(t,e){n.close.getComponent(cc.Sprite).spriteFrame=e});break;case"eyebrow":o=this.eyebrowPath,this.makeupBundle.load(o+e,cc.SpriteFrame,function(t,e){n.brow.getComponent(cc.Sprite).spriteFrame=e})}cc.log("\u76ee\u6807",this[t+"Default"]);for(var i=0,r=this[t+"Default"];i<r.length;i++){var a=r[i];cc.log(a),a.active=!1}this.checkNext()},e.prototype.checkNext=function(){for(var t=0,e=0,o=["lipstick","brush","eye","eyebrow"];e<o.length;e++){var n=o[e];null!=u.bodyInfo[n]&&t++}cc.log("\u5df2\u7ecf\u5316\u5986\u6b21",t),this.nextButton.interactable=this.checkNum<=t},e.prototype.remover=function(t){p.default.playEAudio("revocation");for(var e={lipstick:["lipLine","lips"],brush:["blusher"],eye:["close","face"],eyebrow:["brow"]},o=0,n=["lipstick","brush","eye","eyebrow"];o<n.length;o++){var i=n[o];if("all"==t||t==i){u.bodyInfo[i]=null;for(var r=0,a=e[i];r<a.length;r++){var s=a[r];this.clearSprite(this[s])}for(var c=0,l=this[i+"Default"];c<l.length;c++)(s=l[c]).active=!0}}this.checkNext(),cc.log("\u5378\u5986",u.bodyInfo)},e.prototype.clearSprite=function(t){t.getComponent(cc.Sprite).spriteFrame=null},e.prototype.nextPage=function(){p.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},r([c(cc.Node)],e.prototype,"left",void 0),r([c(cc.Node)],e.prototype,"right",void 0),r([c(cc.Node)],e.prototype,"body",void 0),r([c(cc.Node)],e.prototype,"facialItem",void 0),r([c(cc.Node)],e.prototype,"facialPanel",void 0),r([c(cc.Node)],e.prototype,"removeItem",void 0),r([c(cc.Node)],e.prototype,"removePanel",void 0),r([c(cc.Node)],e.prototype,"acne",void 0),r([c(cc.Node)],e.prototype,"boxBg",void 0),r([c(cc.Node)],e.prototype,"external",void 0),r([c(cc.Node)],e.prototype,"turn",void 0),r([c(cc.Node)],e.prototype,"guideNode",void 0),r([c(cc.Node)],e.prototype,"touch",void 0),r([c(cc.Node)],e.prototype,"hand",void 0),r([c(cc.Prefab)],e.prototype,"eyePrefab",void 0),r([c(cc.Prefab)],e.prototype,"lipstickPrefab",void 0),r([c(cc.Prefab)],e.prototype,"brushPrefab",void 0),r([c(cc.Node)],e.prototype,"blusher",void 0),r([c(cc.Node)],e.prototype,"brushDefault",void 0),r([c(cc.Node)],e.prototype,"lips",void 0),r([c(cc.Node)],e.prototype,"lipLine",void 0),r([c(cc.Node)],e.prototype,"lipstickDefault",void 0),r([c(cc.Node)],e.prototype,"brow",void 0),r([c(cc.Node)],e.prototype,"eyebrowDefault",void 0),r([c(cc.Node)],e.prototype,"face",void 0),r([c(cc.Node)],e.prototype,"close",void 0),r([c(cc.Node)],e.prototype,"eyeDefault",void 0),r([c(cc.Button)],e.prototype,"nextButton",void 0),r([c(cc.Node)],e.prototype,"noTouch",void 0),r([c(cc.Node)],e.prototype,"facialGuide",void 0),r([s],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../SimulationInfo":"SimulationInfo","../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],pet:[function(t,e,o){"use strict";cc._RF.push(e,"c02deBNfsFE+rAcOsLpk/aT","pet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clothes=[],e.clothesSprite=null,e.clothesType=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.initClothes=function(t){if(void 0===t&&(t=0),this.clothesType!=t)switch(this.clothesType=t,this.dis(),t){case 1:this.clothesSprite.spriteFrame=this.clothes[0],(e=new cc.Node).parent=this.node,e.addComponent(cc.Sprite).spriteFrame=this.clothes[1],e.setPosition(0,119);break;case 2:var e;this.clothesSprite.spriteFrame=this.clothes[2],(e=new cc.Node).parent=this.node,e.addComponent(cc.Sprite).spriteFrame=this.clothes[3],e.setPosition(-35,22)}},e.prototype.getClothesSprite=function(){return this.clothes},e.prototype.dis=function(){this.clothesSprite.spriteFrame=null;for(var t=0,e=this.node.children;t<e.length;t++){var o=e[t];o!=this.clothesSprite.node&&o.destroy()}},r([c(cc.SpriteFrame)],e.prototype,"clothes",void 0),r([c(cc.Sprite)],e.prototype,"clothesSprite",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],printscreen_mgr:[function(t,e,o){"use strict";cc._RF.push(e,"97771ZsPJxKGLBj9A3hXeSB","printscreen_mgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.H5SaveImage=function(t,e,o,n){if(void 0===o&&(o=null),void 0===n&&(n=null),cc.sys.platform===cc.sys.WECHAT_GAME){console.log("\u4fdd\u5b58\u5230\u7167\u7247");var i=null;window.wx?i=window.wx:window.tt?i=window.tt:window.qq?i=window.qq:window.ks&&(i=window.ks);var r=i.env.USER_DATA_PATH+"/"+e+".png";i&&(console.log("\u4fdd\u5b58\u5230\u7167\u72472"),t.toTempFilePath({x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,success:function(t){console.log("success is tt !!!",t.tempFilePath);var e=t.tempFilePath;i.getFileSystemManager().saveFile({tempFilePath:e,filePath:r,success:function(t){o&&o(),console.log(t.savedFilePath)},fail:function(t){console.log("\u4fdd\u5b58\u7167\u7247\u5931\u8d25",JSON.stringify(t))}})}}))}},e.H5GetImg=function(t,e){if(console.log(),cc.sys.platform===cc.sys.WECHAT_GAME){var o=null;window.wx?o=window.wx:window.tt?o=window.tt:window.qq?o=window.qq:window.ks&&(o=window.ks);var n=o.env.USER_DATA_PATH+"/"+t+".png";cc.loader.release(n),cc.loader.load(n,function(t,o){if(t)console.log("TODOerrImg");else{var n=new cc.SpriteFrame;n.setTexture(o),console.log("TODO","getFolderImg\u6210\u529f"),e(n)}})}},e.ScreenShort=function(t,e){void 0===e&&(e=null);var o=cc.find("Canvas/Camera2").getComponent(cc.Camera);e&&(o=e),o.node.active=!0;var n=~~cc.winSize.width,i=~~cc.winSize.height;cc.log(t);var r=~~t.width*t.scaleX,a=~~t.height*t.scaleY,s=new cc.RenderTexture,c=cc.game._renderContext;s.initWithSize(n,i,c.STENCIL_INDEX8),o.targetTexture=s,o.render();var l=s.readPixels(),u=document.createElement("canvas"),d=u.getContext("2d");u.width=r,u.height=a;for(var p=d.createImageData(r,a),g=~~((n-r)/2+t.position.x),h=~~((i-a)/2+t.position.y),f=0;f<a;f++)for(var y=0;y<r;y++){var b=4*((a-1-f)*r+y),m=4*((f+h)*n+(y+g));p.data[b]=l[m],p.data[b+1]=l[m+1],p.data[b+2]=l[m+2],p.data[b+3]=l[m+3]>150?255:l[m+3]}d.putImageData(p,0,0);var v=new cc.Texture2D;v.initWithElement(u);var P=[];return P.push(new cc.SpriteFrame(v)),P.push(u),P.push(p),o.node.active=!1,P},r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],remaking:[function(t,e,o){"use strict";cc._RF.push(e,"a8183GTpZlP8bMcH3HIZfb1","remaking");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../SimulationInfo"),s=t("../control_mgr"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstNum=1,e._runQueue=[],e}return i(e,t),e.prototype.logQueue=function(){cc.log(this._runQueue)},e.prototype.getQueue=function(t){if(void 0===t&&(t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}),0!=this._runQueue.length){var e=this._runQueue.shift();return this._runQueue[0].active=!0,t(this._runQueue[0]),e}},e.prototype.pushQueue=function(t){this._runQueue.push(t)},e.prototype.clearQueue=function(){this._runQueue=[]},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.init=function(){this.node.on("nextStep",this.nextPage,this),this.node.on("again",this.again,this),this.node.on("addCoin",this.addCoin,this),this.node.on("enterStage",this.enterStage,this),this.node.on("insertBody",this.insertBody,this),this.settingNode.on(cc.Node.EventType.TOUCH_END,this.openSetting,this);for(var t=0,e=this.node.children;t<e.length;t++){var o=e[t];"background"!=o.name&&("top"!=o.name?o.active=!1:o.zIndex=100)}this.runStage(),this.coinLabel.string=String(s.info.coin)},e.prototype.runStage=function(){this.firstStage()},e.prototype.firstStage=function(){var t,e=this,o=function(o){cc.find(t[o],e.node).active=!0;for(var n=o;n<t.length;n++)e.pushQueue(cc.find(t[n],e.node))};1==s.info.unLockArr[0]?(t=["unpack","wardrobe","house","clear","stage"],s.info.enterStageNum=0,o(this.firstNum)):(t=["stage"],o(0))},e.prototype.again=function(){cc.log("\u6210\u529f\u63a5\u6536again\u4e8b\u4ef6"),this.clearQueue(),this.firstStage()},e.prototype.nextPage=function(t){cc.log("\u6210\u529f\u63a5\u6536nextStep\u4e8b\u4ef6"),cc.log("\u53d1\u9001\u8282\u70b9"+t.target.name),this.getQueue(function(t){t.active=!0}).active=!1,this.logQueue()},e.prototype.addCoin=function(t){cc.log("\u6210\u529f\u63a5\u6536addCoin\u4e8b\u4ef6"),cc.log("\u53d1\u9001\u8282\u70b9"+t.target.name),s.controlMgr.saveInfo(),this.coinLabel.string=String(s.info.coin)},e.prototype.openSetting=function(){cc.log("\u5c1d\u8bd5\u53d1\u9001openSetting\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("openSetting",!0))},e.prototype.insertBody=function(t){var e=this;s.stageInfo.isInsertBody=1,this.clearQueue();var o=["wardrobe","house","clear","stage"],n=t.detail,i=a.BInfo[s.info.enterStageNum].character[n];s.stageInfo.createNum=n,s.stageInfo.createBodyType=i,0==s.info.firstCreate[i]&&o.unshift("unpack"),s.info.firstCreate[i]=1,function(t){void 0===t&&(t=0),cc.find(o[t],e.node).active=!0,cc.log(cc.find(o[t],e.node));for(var n=t;n<o.length;n++)e.pushQueue(cc.find(o[n],e.node))}()},e.prototype.enterStage=function(t){var e=this;cc.log("\u6210\u529f\u63a5\u6536enterStage\u4e8b\u4ef6"),console.log(t),this.clearQueue(),s.info.enterStageNum=t.detail;var o=["wardrobe","ornament","house","clear","stage"];if(4==s.info.enterStageNum)o=["house","clear","stage"],this.firstNum=0;else{var n=a.BInfo[s.info.enterStageNum].character[0];switch(1==s.info.enterStageNum&&(n=1),s.stageInfo.createBodyType=n,s.info.enterStageNum){case 9:o=["house","clear","stage"]}0==s.info.firstCreate[n]&&o.unshift("unpack"),0==s.stageInfo.createBodyType&&"-1"!=a.BInfo[s.info.enterStageNum].makeup||(o=o.filter(function(t){return"ornament"!==t})),s.info.firstCreate[n]=1}(function(t){cc.find(o[t],e.node).active=!0;for(var n=t;n<o.length;n++)e.pushQueue(cc.find(o[n],e.node))})(this.firstNum)},r([u(cc.Node)],e.prototype,"settingNode",void 0),r([u(cc.Label)],e.prototype,"coinLabel",void 0),r([u(Number)],e.prototype,"firstNum",void 0),r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../SimulationInfo":"SimulationInfo","../control_mgr":"control_mgr"}],setting:[function(t,e,o){"use strict";cc._RF.push(e,"86e7244S+VNOrg4B7J9lN9W","setting");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../sound_mgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Material=[],e}return i(e,t),e.prototype.start=function(){this.initButton()},e.prototype.initButton=function(){this.closeButton.on(cc.Node.EventType.TOUCH_END,this.closeSelf.bind(this)),this.eSoundButton.getComponent(cc.Sprite).setMaterial(0,this.Material[Number(!a.default.getEVolume())]),this.bSoundButton.getComponent(cc.Sprite).setMaterial(0,this.Material[Number(!a.default.getBVolume())])},e.prototype.closeSelf=function(){a.default.playEAudio("click"),this.node.active=!1},e.prototype.setENum=function(t){var e=a.default.getEVolume();a.default.setEVolume(Number(!e)),t.target.getComponent(cc.Sprite).setMaterial(0,this.Material[Number(e)])},e.prototype.setBNum=function(t){var e=a.default.getBVolume();a.default.setBVolume(Number(!e)),t.target.getComponent(cc.Sprite).setMaterial(0,this.Material[Number(e)])},r([l(cc.Node)],e.prototype,"closeButton",void 0),r([l(cc.Node)],e.prototype,"bSoundButton",void 0),r([l(cc.Node)],e.prototype,"eSoundButton",void 0),r([l([cc.Material])],e.prototype,"Material",void 0),r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../sound_mgr":"sound_mgr"}],sound_mgr:[function(t,e,o){"use strict";cc._RF.push(e,"91d9ccErsZB2ZK4jAsHQDRR","sound_mgr");var n,i,r,a=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var c=1,l=1,u={},d=cc._decorator,p=d.ccclass,g=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return a(e,t),o=e,e.prototype.start=function(){o.loadSoundInfo(),cc.resources.loadDir("audio",function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];u[r.name]=r}o.playBAudio("bgm")})},e.playBAudio=function(t){i=cc.audioEngine.play(u[t],!0,c)},e.setBVolume=function(t){c=t,null!=i?cc.audioEngine.setVolume(i,t):console.error("\u672a\u64ad\u653e\u80cc\u666f\u97f3\u4e50"),this.saveSoundInfo()},e.getBVolume=function(){return c},e.playEAudio=function(t){r=cc.audioEngine.play(u[t],!1,l)},e.setEVolume=function(t){l=t,cc.audioEngine.setVolume(r,t),this.saveSoundInfo()},e.getEVolume=function(){return cc.log(l),l},e.saveSoundInfo=function(){var t={bSoundVol:c,eSoundVol:l};localStorage.setItem("soundInfo",JSON.stringify(t))},e.loadSoundInfo=function(){var t=localStorage.getItem("soundInfo");null!=t&&""!=t?(JSON.parse(t),c=t.bSoundVol,l=t.eSoundVol):(console.log("\u65e0\u5b58\u6863\u6216\u9519\u8bef",t),this.removeSoundInfo())},e.removeSoundInfo=function(){c=1,l=1,localStorage.removeItem("soundInfo")},o=s([p],e)}(cc.Component));o.default=g,cc._RF.pop()},{}],stage10:[function(t,e,o){"use strict";cc._RF.push(e,"f725bOpg6JIzpVQqajjZBpc","stage10");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/bubbles"),c=t("../partCom/pet"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:970,height:1024},this.bgEndPos=cc.v3(188.553,-52.89),this.bgStartPos=cc.v3(1076.256,15.747),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,a.info.enterStageNum+"/"+String(0),function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[2]),r[0]=this.body,this.body.parent=this.node,this.body.setPosition(0,0),this.body.setScale(.2);var s=this.body.getComponent(c.default).getClothesSprite();this.body.zIndex=2;var l=new cc.Node,u=new cc.Node;l.parent=this.node,u.parent=this.node,l.setPosition(9.3,29.956),l.angle=15,u.setPosition(-59.446,-82.323),u.scale=2,l.scale=2,l.zIndex=4,d(l,"15/2"),d(u,"15/4");var p=new cc.Node,g=new cc.Node,h=new cc.Node,f=new cc.Node;p.parent=this.palgantong,h.parent=this.palgantong,g.parent=p,f.parent=h;var y=cc.v3(-278.966,244),b=cc.v3(-69.146,220);p.setPosition(y),h.setPosition(b),g.parent,g.setPosition(cc.v3(0,89.114)),f.parent,f.setPosition(cc.v3(-23.611,69.146)),p.addComponent(cc.Sprite).spriteFrame=s[0],g.addComponent(cc.Sprite).spriteFrame=s[1],h.addComponent(cc.Sprite).spriteFrame=s[2],f.addComponent(cc.Sprite).spriteFrame=s[3],l.once(cc.Node.EventType.TOUCH_START,function(){cc.tween(l).by(.5,{y:200}).start(),cc.tween(i.body).to(.5,{scale:1}).call(function(){l.opacity=0,u.opacity=0,i.insertAni(function(){cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i),p.on(cc.Node.EventType.TOUCH_START,function(){p.active=!1,h.active=!0,i.body.getComponent(c.default).initClothes(1),cc.find("next",i.node).active=!0},i),h.on(cc.Node.EventType.TOUCH_START,function(){p.active=!0,h.active=!1,i.body.getComponent(c.default).initClothes(2),cc.find("next",i.node).active=!0},i)})}).start()}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],c=this.personArr[r].position;c.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(c.add(o)),a.getComponent(s.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(s.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/bubbles":"bubbles","../partCom/pet":"pet","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage11:[function(t,e,o){"use strict";cc._RF.push(e,"b5ee3o2vxFOdanvKRlaoxd1","stage11");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1455,height:1536},this.bgEndPos=cc.v3(99.321,-105.514),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,a.info.enterStageNum+"/"+String(0),function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0);for(var c=[],l=function(t){cc.assetManager.loadRemote("https://project-pcd-1300278118.cos.ap-chengdu.myqcloud.com/10/"+t+".png",{reload:!0,cacheAsset:!0,cacheEnabled:!0},function(e,o){c[t-1]=new cc.SpriteFrame(o)})},u=1;u<4;u++)l(u);var p=new cc.Node,g=new cc.Node,h=new cc.Node;p.parent=this.palgantong,g.parent=this.palgantong,h.parent=this.palgantong,p.scale=g.scale=h.scale=1.5,p.setPosition(365.362,-50.674),p.anchorY=0,g.setPosition(578.556,-142.142),h.setPosition(605.512,-121.675),d(g,"10/4"),d(h,"10/5"),p.addComponent(cc.Sprite),cc.tween(p).call(function(){p.getComponent(cc.Sprite).spriteFrame=c[0]}).delay(.1).call(function(){p.getComponent(cc.Sprite).spriteFrame=c[1]}).delay(.1).call(function(){p.getComponent(cc.Sprite).spriteFrame=c[2]}).delay(.1).union().repeatForever().start(),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage12:[function(t,e,o){"use strict";cc._RF.push(e,"35b0f6ih85CkI4/p4cJSYdr","stage12");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,a.info.enterStageNum+"/"+String(0),function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage13:[function(t,e,o){"use strict";cc._RF.push(e,"4a813r2SUJJA5u75znR1mJ9","stage13");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,a.info.enterStageNum+"/"+String(0),function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage14:[function(t,e,o){"use strict";cc._RF.push(e,"221a7SEQkdPbbVf5GDgExt9","stage14");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage15:[function(t,e,o){"use strict";cc._RF.push(e,"e0c44h2Y7BI65Hu0CSLNwb2","stage15");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage16:[function(t,e,o){"use strict";cc._RF.push(e,"b02a9tSESBKxqiOucfU23vQ","stage16");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage17:[function(t,e,o){"use strict";cc._RF.push(e,"0c12eUfZ5lMj7PkKFpgvb6Z","stage17");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage18:[function(t,e,o){"use strict";cc._RF.push(e,"a5204EL3KBAL5a6Bgomq9GB","stage18");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage19:[function(t,e,o){"use strict";cc._RF.push(e,"743eaCczGZBr6nIOIXRAUuU","stage19");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage1:[function(t,e,o){"use strict";cc._RF.push(e,"98fadn5XwtMz5FJPWrsktiS","stage1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,"0/"+String(0),function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0);var c=cc.instantiate(this.bodyPrefab[0]);c.setPosition(300-this.bgEndPos.x,-this.bgEndPos.y),c.parent=this.palgantong,c.getComponent(s.default).init({clothes:null,set:431,pants:null,coat:null,shoes:603,headwear:null,hair:317,socks:null,holdit:null,pendant:null,lipstick:null,blusher:null,eye:null,eyebrow:null}),r[1]=c,this.insertAni(function(){i.playDialogue()}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage20:[function(t,e,o){"use strict";cc._RF.push(e,"366b5cR2ZNI9ZKV+4qppllR","stage20");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage21:[function(t,e,o){"use strict";cc._RF.push(e,"8bd7cPHQOlDUZ4/F9cJeYD7","stage21");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage22:[function(t,e,o){"use strict";cc._RF.push(e,"dbd6a6w8wlBKqV0fzl03BMS","stage22");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage23:[function(t,e,o){"use strict";cc._RF.push(e,"ba2d1MjaLZAALgWlNg5gqlV","stage23");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage24:[function(t,e,o){"use strict";cc._RF.push(e,"4ee0eeVT11Ce40mKcJXIWw5","stage24");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage25:[function(t,e,o){"use strict";cc._RF.push(e,"c8b53C0tFBENrJURVVwODda","stage25");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage26:[function(t,e,o){"use strict";cc._RF.push(e,"6d22dyKgxhFFYdQCF611Sf8","stage26");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage27:[function(t,e,o){"use strict";cc._RF.push(e,"f0ae6vEj15AJqXs2mGx6J0y","stage27");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage28:[function(t,e,o){"use strict";cc._RF.push(e,"cb0e5no8WVADL+mvJdvPzXH","stage28");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage29:[function(t,e,o){"use strict";cc._RF.push(e,"ba2fa8c+DJDJrXcyeBPXY0B","stage29");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage2:[function(t,e,o){"use strict";cc._RF.push(e,"2113eQJafdNq4hbulDioQSP","stage2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:970,height:1024},this.bgEndPos=cc.v3(356.575,107),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,String(1)+"/0",function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),r[0]=this.body;for(var c,l=[cc.v3(-83.109,-150.236),cc.v3(-14.16,-159.78),cc.v3(49.546,-163.022),cc.v3(118.271,-155.03),cc.v3(-79.913,-257.318),cc.v3(21.329,-262.889),cc.v3(126.262,-255.72)],p=[],g=function(t){var e=new cc.Node;e.parent=h.palgantong,e.zIndex=2,cc.log(e),e.setPosition(l[t]),e.reCall=function(){e.setPosition(l[t]),e.parent=i.palgantong},d(e,String(1)+"/"+(t+1)),p.push(e)},h=this,f=0;f<7;f++)g(f);var y=new cc.Node;y.parent=this.palgantong,y.active=!1,y.setPosition(-353,10),y.zIndex=1;var b=new cc.Node;b.parent=this.palgantong,b.zIndex=2,b.setPosition(225.519,33.371),b.once(cc.Node.EventType.TOUCH_START,function(){cc.tween(b).to(.5,{position:cc.v3(-402.103,27.01)}).delay(.5).call(function(){b.parent=y,b.setPosition(cc.v3(-48.144,16.575)),cc.tween(i.palgantong).to(.5,{scale:1.5,position:cc.v3(0,380.119)}).call(function(){for(var t=function(t){p[t].on(cc.Node.EventType.TOUCH_START,function(){cc.tween(p[t]).to(.5,{position:cc.v3(-306.672,29.93)}).call(function(){c&&c.reCall(),c!=p[t]&&((c=p[t]).parent=y,c.setPosition(47.2,19.4),cc.tween(i.palgantong).to(.5,{scale:i.endWidth/i.bgStartSize.width,position:cc.v3(0,0)}).call(function(){cc.find("next",i.node).active=!0}).start())}).start()})},e=0;e<7;e++)t(e)}).start()}).start()}),cc.find("next",this.node).once(cc.Node.EventType.TOUCH_START,function(){var t=u.default.convertToNew(y.parent,y.position,i.body);y.parent=i.body,y.setPosition(t),cc.tween(i.palgantong).to(.2,{position:cc.v3(-i.body.position.x,-i.body.position.y),scale:1}).call(function(){i.body.parent=i.node,i.body.setPosition(0,0),d(i.palgantong,String(1)+"/10",function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),cc.find("next",i.node).active=!1;for(var t=0,e=i.palgantong.children;t<e.length;t++)e[t].destroy();var o=cc.instantiate(i.bodyPrefab[0]);o.parent=i.palgantong,i.personArr[1]=o,o.setPosition(300.808,-58.232),o.angle=-20,i.insertAni(function(){var t=u.default.convertToNew(y.parent,y.position,i.palgantong);y.parent=i.palgantong,y.setPosition(t),cc.tween(y).to(.2,{position:cc.v3(38.305,-68.018)}).start(),cc.tween(i.body).to(.2,{position:cc.v3(-235.64,-51.871)}).to(.2,{angle:20}).call(function(){i.playDialogue()}).start()})}).to(.2,{position:i.bgStartPos}).start(),cc.log(i.body.position.x),cc.log(i.body.position.y)}),d(y,String(1)+"/8"),d(b,String(1)+"/9"),cc.v3(-353,10),cc.v3(-48,14),cc.v3(39,23),this.insertAni(function(){y.active=!0}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0)),this.remove()},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage30:[function(t,e,o){"use strict";cc._RF.push(e,"477258fiRRK14FvOmEnMwMT","stage30");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage31:[function(t,e,o){"use strict";cc._RF.push(e,"6aa582SHJREibCyefomDDPz","stage31");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage32:[function(t,e,o){"use strict";cc._RF.push(e,"e021cOB08lJmYnYHvwnlpB0","stage32");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],"stage33 ":[function(t,e,o){"use strict";cc._RF.push(e,"ebfb5wtrhxOlajFA/VlxjlS","stage33 ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage34:[function(t,e,o){"use strict";cc._RF.push(e,"c6003qgvRhKg5jcg6ayBEBl","stage34");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage35:[function(t,e,o){"use strict";cc._RF.push(e,"12851A77ItJC6FFb8l2VBJ6","stage35");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage36:[function(t,e,o){"use strict";cc._RF.push(e,"c8d24UXS/5PIY+SlbeVEBR/","stage36");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage37:[function(t,e,o){"use strict";cc._RF.push(e,"adc61bp5MJLGbHT0d34WAZk","stage37");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage38:[function(t,e,o){"use strict";cc._RF.push(e,"8c9b5oGLJtLKJT1GUPsTwvG","stage38");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage39:[function(t,e,o){"use strict";cc._RF.push(e,"2f6240Sln5Mf7j9Tl/vH2nq","stage39");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage3:[function(t,e,o){"use strict";cc._RF.push(e,"b1154BErBBBhYZC3Wkms9Wb","stage3");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1455,height:1536},this.bgEndPos=cc.v3(-345.568,-36.816),this.bgStartPos=cc.v3(1282,133);var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,"2/0",function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.tween(i.body).to(.3,{angle:-45}).start()}),this.personArr=r},e.prototype.insertAni=function(t,e){var o=this;void 0===t&&(t=function(){}),void 0===e&&(e=function(){}),this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){o.body.parent=o.hand,o.body.setPosition(0,0),o.body.setScale(o.hand.getScale(cc.v2())),cc.tween(o.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).call(function(){t()}).delay(.2).to(.2,{position:o.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){o.body.parent=o.palgantong;var t=u.default.convertToNew(o.node,o.hand.position,o.palgantong);o.body.setPosition(t),o.body.setScale(o.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){e()}).start();var n=new cc.Node,i=new cc.Node,r=new cc.Node;n.parent=this.palgantong,i.parent=this.palgantong,r.parent=this.palgantong,n.setPosition(-248.343,232.874),i.setPosition(-248.274,232.992),r.setPosition(617.294,-21.184),n.zIndex=2,r.zIndex=2,d(r,"2/2"),d(i,"2/4"),d(n,"2/5"),r.once(cc.Node.EventType.TOUCH_START,function(){cc.tween(r).to(.3,{position:cc.v3(458.702,171.507)}).delay(.2).call(function(){d(r,"2/1")}).to(.3,{position:cc.v3(617.294,-21.184)}).call(function(){i.once(cc.Node.EventType.TOUCH_START,function(){cc.tween(i).to(.5,{position:cc.v3(-141.879,-203.504)}).call(function(){cc.tween(o.body).to(.5,{position:cc.v3(-126.549,-270.519)}).to(.2,{angle:0}).call(function(){o.nextPage()}).start()}).start(),cc.tween(n).to(.5,{position:cc.v3(-141.879,-203.504)}).start()})}).start()})},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0)),this.remove()},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage40:[function(t,e,o){"use strict";cc._RF.push(e,"c5a73YEI7dGHKJTS1jjJC5O","stage40");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage41:[function(t,e,o){"use strict";cc._RF.push(e,"cf75ex2fP5IRbPiCzdsvv/h","stage41");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../bundleInfo"),s=t("../control_mgr"),c=t("../partCom/body"),l=t("../partCom/bubbles"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=(d.default.setSFrame,cc._decorator),g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1617,height:1707},this.bgEndPos=cc.v3(200,133),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),a.bundle.backgroundBundle.load(s.info.enterStageNum+"/"+String(0),cc.SpriteFrame,function(t,e){i.palgantong.getComponent(cc.Sprite).spriteFrame=e,i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,s.stageInfo.imageWidth=i.palgantong.width,s.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(c.default).init(s.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(l.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(l.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();s.stageInfo.imagePos=this.palgantong.position,s.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage4:[function(t,e,o){"use strict";cc._RF.push(e,"f9285RqojNGZ5DZ5l9aibeV","stage4");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e.nodeArr=[],e}var o;return i(e,t),o=e,e.prototype.onEnable=function(){1==a.stageInfo.isInsertBody&&(1==a.stageInfo.createNum?this.create1():2==a.stageInfo.createNum&&this.create2())},e.prototype.start=function(){cc.log("Start"),this.bubblesArr=[]},e.prototype.create1=function(){var t=this;this.createNode.active=!1;var e=cc.instantiate(this.bodyPrefab[1]);e.parent=this.palgantong,e.setPosition(0,20),e.getComponent(s.default).init(a.bodyInfo),this.createNodePoint.active=!0,this.createNodePoint.setPosition(314.45,0),this.createNodePoint.once(cc.Node.EventType.TOUCH_START,function(){cc.log("\u5c1d\u8bd5\u53d1\u9001insertBody\u4e8b\u4ef6"),t.node.active=!1;var e=new cc.Event.EventCustom("insertBody",!0);e.setUserData(2),t.node.dispatchEvent(e)})},e.prototype.create2=function(){var t=this;this.createNode.active=!1;var e=cc.instantiate(this.bodyPrefab[0]);e.parent=this.palgantong,e.setPosition(314.45,0),e.getComponent(s.default).init(a.bodyInfo),this.createNodePoint.active=!1,cc.find("next",this.node).once(cc.Node.EventType.TOUCH_START,this.nextPage.bind(this)),cc.tween(e).delay(1).to(.5,{x:1e3}).call(function(){var e=new cc.Node,o=new cc.Node;t.pointNum=50,e.y=-467.536,e.parent=t.palgantong,t.node9=e,o.parent=e,d(o,"3/7"),d(e,"3/9"),o.on(cc.Node.EventType.TOUCH_MOVE,function(e){cc.log(e.touch);var n=e.touch._point.x-cc.winSize.width/2;n>300&&(n=300),n<-300&&(n=-300),o.x=n,t.pointNum=(n+300)/6,cc.log(t.pointNum)});var n=new cc.Node;n.parent=t.palgantong,n.setPosition(422.798,364.46),d(n,"3/8"),t.nodeArr=[];for(var i=function(e){setTimeout(function(){var o=new cc.Node;t.nodeArr.push(o),o.parent=t.palgantong,o.x=800*Math.random()-400,o.y=-410,o.opacity=0,d(o,"3/"+e)},1e3*Math.random())},r=1;r<6;r++)i(r)}).delay(.5).call(function(){cc.find("next",t.node).active=!0}).start()},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1078,height:1138},this.bgEndPos=cc.v3(298.727,-2.28),this.bgStartPos=cc.v3(1282,133),this.createNode=cc.find("createNode",this.node),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,"3/0",function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0);var c=cc.instantiate(this.createNode);c.parent=this.palgantong,c.setPosition(0,0),c.active=!0,this.createNodePoint=c,this.insertAni(function(){c.once(cc.Node.EventType.TOUCH_START,function(){cc.log("\u5c1d\u8bd5\u53d1\u9001insertBody\u4e8b\u4ef6"),i.node.active=!1;var t=new cc.Event.EventCustom("insertBody",!0);t.setUserData(1),i.node.dispatchEvent(t)})}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){console.log(this.bubblesArr);for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();this.node9.active=!1,a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0)),this.remove()},e.prototype.update=function(t){for(var e=0;e<this.nodeArr.length;e++)this.nodeArr[e]&&(this.nodeArr[e].y+=t*(this.pointNum+30)*10,this.nodeArr[e].opacity<255&&(this.nodeArr[e].opacity+=10),this.nodeArr[e].y>420&&(this.nodeArr[e].y=-410,this.nodeArr[e].x=800*Math.random()-400,this.nodeArr[e].opacity=0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage5:[function(t,e,o){"use strict";cc._RF.push(e,"845afdDts1C7onfUewtE1F0","stage5");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:970,height:1024},this.bgEndPos=cc.v3(1282,133),this.bgStartPos=cc.v3(0,100),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"}];var r=[];this.palgantong.setPosition(this.bgStartPos),this.palgantong.scale=.7,d(this.palgantong,"4/5",function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.palgantong,this.body.setPosition(-113.392,-14.794);var c=new cc.Node,l=new cc.Node,p=new cc.Node;p.parent=this.palgantong,p.setPosition(-292,360),p.width=300,p.height=300,p.once(cc.Node.EventType.TOUCH_START,function(){cc.log("touch");var t=new cc.Node;t.parent=i.palgantong,t.zIndex=1,t.setPosition(-182.208,140.911),d(t,"4/4"),cc.tween(i.palgantong).delay(1).call(function(){d(c,"4/7")}).delay(.5).to(.2,{position:cc.v3(-i.body.position.x,-i.body.position.y),scale:1}).call(function(){var t=u.default.convertToNew(i.body.parent,i.body.position,i.node);i.body.parent=i.node,i.body.setPosition(t),i.insertAni(function(){})}).to(.5,{position:i.bgEndPos}).call(function(){d(i.palgantong,"4/0");for(var t=0,e=i.palgantong.children;t<e.length;t++)e[t].destroy();var o=new cc.Node,n=new cc.Node;o.parent=i.palgantong,n.parent=i.palgantong,o.zIndex=2,n.zIndex=2,o.setPosition(200,35.5),n.setPosition(245,325),d(o,"4/1"),d(n,"4/2"),n.once(cc.Node.EventType.TOUCH_START,function(){cc.tween(n).to(.5,{position:cc.v3(108.588,294.172)}).by(.2,{y:-100}).by(.2,{y:100}).by(.2,{y:-100}).by(.2,{y:100}).to(.5,{position:cc.v3(245,325)}).call(function(){o.once(cc.Node.EventType.TOUCH_START,function(){cc.tween(o).to(.5,{angle:130,position:cc.v3(63.384,206.176)}).to(.5,{position:cc.v3(95.063,125.76)}).to(.5,{position:cc.v3(95.063,254.912)}).to(.5,{position:cc.v3(63.384,206.176)}).to(.5,{position:cc.v3(95.063,125.76)}).to(.5,{angle:0,position:cc.v3(200,35.5)}).call(function(){i.nextPage()}).start()})}).start()},i)}).start()},this),c.parent=this.palgantong,c.zIndex=2,cc.log(c),c.setPosition(-378.428,-106.345),c.anchorX=0,d(c,"4/8"),this.personArr=r,l.parent=this.body,l.zIndex=1,l.setPosition(-1.203,50.264),d(l,"4/6"),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgStartPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0)),this.remove()},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage6:[function(t,e,o){"use strict";cc._RF.push(e,"15660i2NWVGw5mKkB9SelK8","stage6");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u5316"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:970,height:1024},this.bgEndPos=cc.v3(110.343,116.042),this.bgStartPos=cc.v3(1282,133),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,"5/9",function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height});var c=cc.instantiate(this.bodyPrefab[0]);c.setPosition(29.43,66),c.parent=this.palgantong,c.getComponent(s.default).init({clothes:null,set:431,pants:null,coat:null,shoes:603,headwear:null,hair:317,socks:null,holdit:null,pendant:null,lipstick:null,blusher:null,eye:null,eyebrow:null});var l=new cc.Node,p=new cc.Node,g=new cc.Node;l.parent=this.palgantong,p.parent=this.palgantong,g.parent=this.palgantong,l.setPosition(0,94.97),p.setPosition(369.247,31.779),g.setPosition(-373.984,-126.218),d(l,"5/11"),d(p,"5/12"),d(g,"5/8");var h=cc.instantiate(this.bodyPrefab[1]);h.setPosition(166,-91),h.parent=this.palgantong,h.getComponent(s.default).init({clothes:null,set:null,pants:210,coat:501,shoes:null,headwear:null,hair:null,socks:null,holdit:null,pendant:null,lipstick:null,blusher:null,eye:null,eyebrow:null}),r[1]=h,this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0);var f=new cc.Node,y=new cc.Node,b=new cc.Node,m=new cc.Node;f.parent=this.palgantong,y.parent=this.palgantong,b.parent=this.palgantong,m.parent=this.palgantong,f.setPosition(370.397,94.346),y.setPosition(368.65,-41.932),b.setPosition(-371.397,-34.691),m.setPosition(-373.891,-210.912),d(f,"5/2"),d(y,"5/3"),d(b,"5/6"),d(m,"5/7");var v,P,S=[f,y],I=[b,m],x=0,_=!1;this.insertAni(function(){cc.tween(i.palgantong).delay(.5).to(.5,{position:cc.v3(554.282,250),scale:1.5}).call(function(){for(var t=function(t){t.zIndex=2;var e=t.position;t.reCall=function(){t.setPosition(e)},t.once(cc.Node.EventType.TOUCH_START,function(){_||(P&&P.reCall(),P!=t&&(P=t,_=!0,cc.tween(t).to(.5,{position:cc.v3(267,-111)}).call(function(){0==x&&(x=1,cc.tween(i.palgantong).to(.5,{position:cc.v3(0,0),scale:1}).to(.5,{position:cc.v3(-535,200),scale:1.5}).call(function(){_=!1;for(var t=function(t){t.zIndex=2;var e=t.position;t.reCall=function(){t.setPosition(e)},t.once(cc.Node.EventType.TOUCH_START,function(){_||(_=!0,v&&v.reCall(),v!=t&&(v=t,cc.tween(t).to(.5,{position:cc.v3(78.184,-109.828)}).call(function(){1==x&&(x=2,cc.tween(i.palgantong).to(.5,{position:cc.v3(0,0),scale:1}).call(function(){_=!0,cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){cc.find("next",i.node).active=!1;var t=u.default.convertToNew(P.parent,P.position,h),e=u.default.convertToNew(v.parent,v.position,h);P.parent=h,v.parent=h,P.setPosition(t),v.setPosition(e),i.sceneAni2()})}).start())}).start()))},i)},e=0,o=S;e<o.length;e++)t(o[e])}).start())}).start()))},i)},e=0,o=I;e<o.length;e++)t(o[e])}).start()}),this.personArr=r},e.prototype.sceneAni2=function(){for(var t=this,e=0,o=this.personArr;e<o.length;e++){var n=o[e],i=u.default.convertToNew(n.parent,n.position,this.node);n.parent=this.node,n.setPosition(i)}cc.log(this.palgantong),cc.tween(this.palgantong).to(.5,{position:cc.v3(this.bgStartPos)}).call(function(){for(var e=0,o=t.palgantong.children;e<o.length;e++)o[e].destroy();var n=new cc.Node,i=cc.instantiate(t.bodyPrefab[0]),r=new cc.Node,a=new cc.Node;i.parent=t.palgantong,r.parent=t.palgantong,a.parent=t.palgantong,n.parent=t.palgantong,i.setPosition(-327.187,64.226),i.getComponent(s.default).changeEye(),r.setPosition(-287.082,391.764),a.setPosition(0,-138.467),d(t.palgantong,"5/0"),d(n,"5/5"),d(r,"5/1"),d(a,"5/10"),cc.tween(r).call(function(){r.setPosition(-287.082,391.764),r.opacity=255}).to(1,{opacity:0,position:cc.v3(-258.985,419.861)}).union().repeatForever().start()}).to(.5,{position:cc.v3(0,0)}).call(function(){cc.tween(t.personArr[1]).by(.2,{x:-50,angle:10}).start();var e=new cc.Node;e.parent=t.palgantong,d(e,"5/4"),e.zIndex=2,cc.tween(e).call(function(){e.setPosition(0,300),e.opacity=255}).to(1,{opacity:0,position:cc.v3(0,419)}).union().repeatForever().start();for(var o=0,n=t.personArr;o<n.length;o++){var i=n[o],r=u.default.convertToNew(i.parent,i.position,t.palgantong);i.parent=t.palgantong,i.setPosition(r)}cc.find("next",t.node).active=!0,cc.find("next",t.node).once(cc.Node.EventType.TOUCH_START,function(){t.nextPage()})}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).start()},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0)),this.remove()},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage7:[function(t,e,o){"use strict";cc._RF.push(e,"c93eecFonZAvLgWydx62XDH","stage7");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u53167"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1455,height:1536},this.bgEndPos=cc.v3(-37.702,-1558),this.bgStartPos=cc.v3(3282,-1558),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),this.palgantong.setScale(2.5),d(this.palgantong,a.info.enterStageNum+"/"+String(0),function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.body.name="all_body_0";var c=new cc.Node;c.parent=this.palgantong,c.setPosition(82.72,22.34),c.name="1",d(c,"6/1",function(){c.getComponent(cc.Sprite).type=3,c.getComponent(cc.Sprite).fillType=1,c.getComponent(cc.Sprite).fillStart=1,c.getComponent(cc.Sprite).fillRange=0,c.scale=1.5}),this.insertAni(function(){setTimeout(function(){cc.find("next",i.node).active=!0},2e3),cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i),cc.resources.load("ani/6",function(t,e){cc.log(e);var o=i.palgantong.getComponent(cc.Animation);o.addClip(e,"6"),o.play("6")})}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(.4)}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage8:[function(t,e,o){"use strict";cc._RF.push(e,"8447dY9LHhNGbzY5JZRyL3D","stage8");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../sound_mgr"),u=t("../temporaryStrategy"),d=u.default.setSFrame,p=cc._decorator,g=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u53168"),this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:1455,height:1536},this.bgEndPos=cc.v3(0,404.921),this.bgStartPos=cc.v3(1282,404.921),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),d(this.palgantong,a.info.enterStageNum+"/"+String(0),function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0),this.insertAni(function(){cc.find("next",i.node).active=!0,cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=u.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),l.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([g],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage9:[function(t,e,o){"use strict";cc._RF.push(e,"45a80aOqRpP9Ybq+zFWGtKr","stage9");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../partCom/body"),c=t("../partCom/bubbles"),l=t("../printscreen_mgr"),u=t("../sound_mgr"),d=t("../temporaryStrategy"),p=d.default.setSFrame,g=cc._decorator,h=g.ccclass,f=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubblesArr=[],e.handinitalPos=cc.v3(0,-935),e.endWidth=646.8,e}var o;return i(e,t),o=e,e.prototype.start=function(){cc.log("Start")},e.prototype.init=function(t,e,o,n){var i=this;cc.log("\u521d\u59cb\u53169"),this.finelImageNode=null,this.bubbles=n,this.hand=o,this.bodyPrefab=e,this.palgantong=t,this.bgStartSize={width:970,height:1024},this.bgEndPos=cc.v3(90.651,25.101),this.bgStartPos=cc.v3(1282,25.101),this.dialogue=[{target:1,string:"1234567"},{target:0,string:"7654321"},{target:1,string:"abcdefg"},{target:0,string:"balbalbal"},{target:1,string:"emmmmmm"},{target:0,string:"jesus"}];var r=[];this.palgantong.setPosition(this.bgStartPos),p(this.palgantong,a.info.enterStageNum+"/"+String(0),function(){i.palgantong.width=i.bgStartSize.width,i.palgantong.height=i.bgStartSize.height,a.stageInfo.imageWidth=i.palgantong.width,a.stageInfo.imageHeight=i.palgantong.height}),this.body=cc.instantiate(this.bodyPrefab[0]),r[0]=this.body,this.body.getComponent(s.default).init(a.bodyInfo),this.body.parent=this.node,this.body.setPosition(0,0);var c=new cc.Node,u=new cc.Node,d=new cc.Node,g=new cc.Node,h=new cc.Node,f=new cc.Node;u.parent=this.palgantong,d.parent=this.node,c.parent=this.palgantong,g.parent=this.palgantong,h.parent=this.palgantong,f.parent=this.palgantong,c.setPosition(271,109),u.setPosition(0,0),d.setPosition(-63.915,144.288),g.setPosition(308,265),h.setPosition(308,280);var y=new cc.Node;y.parent=this.palgantong,y.addComponent(cc.Sprite).spriteFrame=cc.find("default_sprite_splash",this.node).getComponent(cc.Sprite).spriteFrame,y.opacity=0,y.zIndex=3,this.insertAni(function(){cc.find("next",i.node).once(cc.Node.EventType.TOUCH_START,function(){i.nextPage()},i),p(d,"8/3",function(){d.height=270,d.width=247}),d.once(cc.Node.EventType.TOUCH_START,function(){d.active=!1;var t=l.default.ScreenShort(d);y.width=2e3,y.height=3e3,y.opacity=255,cc.log(y),cc.tween(y).to(1,{opacity:0}).start(),h.addComponent(cc.Sprite).spriteFrame=t[0],h.width=290,h.height=300,p(g,"8/4"),g.zIndex=2,c.zIndex=2,p(c,"8/1"),f.color=cc.Color.RED.fromHEX("#FF5C9A"),f.setPosition(342.786,108.44),f.addComponent(cc.Label).string="322",f.getComponent(cc.Label).fontSize=40,cc.find("next",i.node).active=!0,i.finelImageNode=h},i)}),this.personArr=r},e.prototype.insertAni=function(t){var e=this;this.body&&cc.tween(this.hand).to(.5,{position:this.body.position}).call(function(){e.body.parent=e.hand,e.body.setPosition(0,0),e.body.setScale(e.hand.getScale(cc.v2())),cc.tween(e.hand).to(.2,{angle:5}).to(.2,{angle:-5}).union().repeat(2).to(.2,{angle:0}).delay(.2).to(.2,{position:e.handinitalPos}).start()}).start(),cc.tween(this.palgantong).delay(.5).to(1,{position:this.bgEndPos}).call(function(){e.body.parent=e.palgantong;var t=d.default.convertToNew(e.node,e.hand.position,e.palgantong);e.body.setPosition(t),e.body.setScale(e.palgantong.getScale(cc.v2()))}).to(.5,{scale:this.endWidth/this.bgStartSize.width,position:cc.v3(0,0)}).delay(.1).call(function(){t()}).start()},e.prototype.playDialogue=function(t){var e=this;void 0===t&&(t=0);var o=cc.v3(175,445),n=[1,3,5];t||(this.bubblesArr=[]);var i=this.dialogue[t].string,r=this.dialogue[t].target;this.bubblesArr[r]||(this.bubblesArr[r]=cc.instantiate(this.bubbles),this.bubblesArr[r].parent=this.palgantong);var a=this.bubblesArr[r],s=this.personArr[r].position;s.x<0&&(o.x*=-1,a.getChildByName("icon").setScale(-1,1)),a.setPosition(s.add(o)),a.getComponent(c.default).init(i),setTimeout(function(){for(var o=0,i=n;o<i.length;o++)if(i[o]==t)for(var r=0,a=e.bubblesArr;r<a.length;r++)a[r].getComponent(c.default).close();setTimeout(function(){e.dialogue.length-1>t?e.playDialogue(t+1):(cc.log("Dialogue is done"),e.nextPage())},1e3)},100*i.length+1e3)},e.prototype.remove=function(){this.node.removeComponent(o)},e.prototype.nextPage=function(){this.remove();for(var t=0,e=this.bubblesArr;t<e.length;t++)e[t].destroy();a.stageInfo.imagePos=this.palgantong.position,this.finelImageNode?a.stageInfo.finelImageNode=this.finelImageNode:a.stageInfo.finelImageNode=cc.instantiate(this.palgantong),u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},o=r([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../control_mgr":"control_mgr","../partCom/body":"body","../partCom/bubbles":"bubbles","../printscreen_mgr":"printscreen_mgr","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}],stage:[function(t,e,o){"use strict";cc._RF.push(e,"c5c544LOX5MBI6wPRHrptXj","stage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../temporaryStrategy"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPlayAni=!1,e.isSelectStage=!1,e}return i(e,t),e.prototype.onEnable=function(){this.init()},e.prototype.showAni=function(){this.node.opacity=0,cc.tween(this.node).to(.5,{opacity:255}).start()},e.prototype.init=function(){var t,e=this;this.isSelectStage=!1,this.selectPage=Math.floor((a.info.highStageNum+1)/4),this.bufferPage=3,this.bufferPageLangth=Math.ceil(8.75),this.touchStartX,this.content.on(cc.Node.EventType.TOUCH_START,function(o){if(!e.isPlayAni){var n=o.touch;e.touchStartX=n.getStartLocation().x,t=e.content.x}},this),this.content.on(cc.Node.EventType.TOUCH_MOVE,function(o){if(!e.isPlayAni){var n=o.touch;null==e.touchStartX&&(e.touchStartX=n.getLocationX(),t=e.content.x);var i=t-e.touchStartX+n.getLocationX();0==e.selectPage&&i>0&&(i=0),e.selectPage==e.bufferPageLangth-1&&i<0&&(i=0),e.content.x=i}},this),this.initPage(0),this.initPage(1),this.initPage(2),this.content.on(cc.Node.EventType.TOUCH_END,this.touchOver,this),this.content.on(cc.Node.EventType.TOUCH_CANCEL,this.touchOver,this),this.initButton()},e.prototype.initButton=function(){for(var t=this,e=this.content.children[1],o=e.children.length,n=function(n){e.children[n].on(cc.Node.EventType.TOUCH_END,function(){if(!(Math.abs(t.content.x)>100)){var e=t.selectPage,i=o*e+n;a.info.unLockArr[i]&&t.enterStage(i)}},i)},i=this,r=0;r<o;r++)n(r)},e.prototype.initPage=function(t){for(var e=this.content.children[t],o=e.children.length,n=0;n<o;n++){var i=o*(this.selectPage+t-1)+n;e.children[n].opacity=35<=i?0:255;var r=e.children[n].getChildByName("bg"),c=!a.info.unLockArr[i];e.children[n].getChildByName("isClear").active=a.info.unLockArr[i]>1,s.default.nodeGray(r,c),a.otherInfo.shortArr[i]?r.getComponent(cc.Sprite).spriteFrame=a.otherInfo.shortArr[i][0]:a.stageInfo.imageSFrame[i]&&a.stageInfo.imageSFrame[i][0]&&(r.getComponent(cc.Sprite).spriteFrame=a.stageInfo.imageSFrame[i][0])}},e.prototype.videoUnlock=function(){},e.prototype.touchOver=function(){var t=this;if(!this.isPlayAni)if(this.isPlayAni=!0,this.touchStartX=null,Math.abs(this.content.x)<200)cc.tween(this.content).to(.2,{x:0}).delay(.2).call(function(){t.isPlayAni=!1}).start();else{var e=-1,o=720;this.content.x<0&&(o=-o,e=-e),cc.tween(this.content).to(.2,{x:o}).call(function(){t.selectPage+=e,t.initPage(1)}).delay(.1).call(function(){t.content.x=0,t.initPage(0),t.initPage(2)}).delay(.2).call(function(){t.isPlayAni=!1}).start()}},e.prototype.nextStage=function(){this.enterStage(a.info.highStageNum)},e.prototype.enterStage=function(t){if(!this.isSelectStage){this.isSelectStage=!0,this.node.active=!1,cc.log("\u5c1d\u8bd5\u53d1\u9001enterStage\u4e8b\u4ef6:"+t);var e=new cc.Event.EventCustom("enterStage",!0);e.setUserData(t),this.node.dispatchEvent(e)}},r([u(cc.Node)],e.prototype,"content",void 0),r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../control_mgr":"control_mgr","../temporaryStrategy":"temporaryStrategy"}],temporaryStrategy:[function(t,e,o){"use strict";cc._RF.push(e,"e66d6NGv+5LzJateJ448riV","temporaryStrategy"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./bundleInfo"),i=function(){function t(){}return t.convertToNew=function(t,e,o){var n=t.convertToWorldSpaceAR(e);return o.convertToNodeSpaceAR(n)},t.getDistanceMag=function(t,e){return t.sub(e).mag()},t.kTDecimals=function(t){return Math.floor(100*t)/100},t.creatJosnFile=function(t,e){var o=JSON.stringify(t);this.saveForBrowser(o,e)},t.saveForBrowser=function(t,e){if(cc.sys.isBrowser){cc.log("\u6d4f\u89c8\u5668");var o=new Blob([t],{type:"application/json"}),n=document.createElement("a");n.download=e,n.innerHTML="Download File",null!=window.webkitURL&&(n.href=window.webkitURL.createObjectURL(o)),n.click()}},t.setSFrame=function(t,e,o){void 0===o&&(o=function(){}),cc.assetManager.loadRemote("https://project-pcd-1300278118.cos.ap-chengdu.myqcloud.com/"+e+".png",{reload:!0,cacheAsset:!0,cacheEnabled:!0},function(e,n){var i=t.getComponent(cc.Sprite);i?i.spriteFrame=new cc.SpriteFrame(n):t.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n),o()})},t.toLowerCaseFirst=function(t){if(!t)return"";var e=t.toLowerCase()[0];return t.replace(t[0],e)},t.shiftCipher=function(t,e){for(var o=(t=t.toUpperCase()).length,n="",i=0;i<o;i++){var r=t.charCodeAt(i);if(r>=65&&r<=90){var a=r+e;a>90&&(a-=26),n+=String.fromCharCode(a)}else n+=t.charAt(i)}return n.toLowerCase()},t.decryptShiftCipher=function(t,e){for(var o=(t=t.toUpperCase()).length,n="",i=0;i<o;i++){var r=t.charCodeAt(i);if(r>=65&&r<=90){var a=r-e;a<65&&(a+=26),n+=String.fromCharCode(a)}else n+=t.charAt(i)}return n.toLowerCase()},t.nodeGray=function(t,e){var o=t.getComponent(cc.Sprite);o?n.bundle.builtinArr[Number(e)]?o.setMaterial(0,n.bundle.builtinArr[Number(e)]):console.error("builtin\u672a\u52a0\u8f7d"):console.error("\u8be5\u8282\u70b9\u4e0d\u5b58\u5728Sprite\u7ec4\u4ef6")},t}();o.default=i,cc._RF.pop()},{"./bundleInfo":"bundleInfo"}],unpack:[function(t,e,o){"use strict";cc._RF.push(e,"6c6a3CRYL1M8LoA/fPfoOIN","unpack");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../control_mgr"),s=t("../sound_mgr"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxSprite=[],e.body=[],e.touchDownNum=100,e.unpackAniTime=1,e.unpackGuideTime=1,e.unpackGuideMoveY=-400,e.isGuidePlay=!1,e}return i(e,t),e.prototype.onEnable=function(){this.initUI(),this.init()},e.prototype.init=function(){this.unpackGuideMove(),this.startNode.once(cc.Node.EventType.TOUCH_END,this.nextPage.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchDollBox,this)},e.prototype.initUI=function(){for(var t=0,e=this.node.children;t<e.length;t++){var o=e[t];"dollBox"!=o.name&&(o.zIndex=2)}this.bodyNode=cc.instantiate(this.body[a.stageInfo.createBodyType]),this.bodyNode.parent=this.node,this.bodyNode.y=0,this.dollBox.getComponent(cc.Sprite).spriteFrame=this.boxSprite[a.stageInfo.createBodyType],this.tearDown.getComponent(cc.Sprite).spriteFrame=this.boxSprite[a.stageInfo.createBodyType],this.guideNode.active=!0,this.arrow.active=!0,this.dollBox.getComponent(cc.Sprite).fillRange=1,this.tearDown.getComponent(cc.Sprite).fillRange=0,this.tearDown.opacity=255,this.tearDown.setPosition(0,397.203),this.startNode.active=!1},e.prototype.touchDollBox=function(t){t.getStartLocation().y-t.getLocationY()>this.touchDownNum&&(this.node.targetOff(this),this.tearDownAni(),this.guideNode.active=!1,this.arrow.active=!1)},e.prototype.unpackGuideMove=function(){var t=this;if(!this.isGuidePlay){this.isGuidePlay=!0;var e=this.guideNode.getPosition();cc.tween(this.guideNode).by(this.unpackGuideTime,{position:cc.v3(0,this.unpackGuideMoveY)}).call(function(){t.guideNode.setPosition(e)}).union().repeatForever().start()}},e.prototype.tearDownAni=function(){var t=this,e=this.dollBox.getComponent(cc.Sprite),o=this.tearDown.getComponent(cc.Sprite);s.default.playEAudio("turning"),cc.tween(e).to(this.unpackAniTime,{fillRange:0}).start(),cc.tween(o).to(this.unpackAniTime,{fillRange:-1}).start(),cc.tween(this.tearDown).by(this.unpackAniTime,{position:cc.v3(0,2*-this.tearDown.height),opacity:-255}).call(function(){t.startNode.active=!0}).start()},e.prototype.nextPage=function(){this.bodyNode.destroy(),this.bodyNode=null,s.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},r([u(cc.Node)],e.prototype,"guideNode",void 0),r([u(cc.Node)],e.prototype,"dollBox",void 0),r([u(cc.Node)],e.prototype,"tearDown",void 0),r([u(cc.Node)],e.prototype,"startNode",void 0),r([u(cc.Node)],e.prototype,"arrow",void 0),r([u(cc.SpriteFrame)],e.prototype,"boxSprite",void 0),r([u(cc.Prefab)],e.prototype,"body",void 0),r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../control_mgr":"control_mgr","../sound_mgr":"sound_mgr"}],wardrobe:[function(t,e,o){"use strict";cc._RF.push(e,"4b0e2Zk+9dEJJb1qQuK4/NT","wardrobe");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../temporaryStrategy"),s=t("../SimulationInfo"),c=t("../control_mgr"),l=t("../bundleInfo"),u=t("../sound_mgr"),d=cc._decorator,p=d.ccclass,g=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guideTime=2,e.guideMoveX=350,e.stayPos=null,e.holdItem=null,e.isItemMove=!1,e.backWaitTime=1,e.isPlayingAni=!1,e.fitOnDistance=[400,300,200],e.backDistance=50,e.destination=[470,305,70],e.bodyPrefab=[],e.defaultSkinZIndex=10,e.defaultFaceZIndex=10,e.handMoveTime=.5,e.handInitialPosition=cc.v3(-11,-935),e.itemArrar=[],e.classifyList=[null,null,null,null,null,null,null,null,null,null,null],e.WRArr=[],e.showPageIndex=0,e.itemScale=.6,e.isTouch=!1,e.checkNum=3,e.openOutLine=!1,e}return i(e,t),e.prototype.onEnable=function(){this.holdItem&&(this.holdItem.node.destroy(),this.holdItem=null);for(var t=0,e=this.classifyList;t<e.length;t++)(c=e[t])&&c.node&&(c.isUse=this.face,c.node.destroy());this.hand.setPosition(this.handInitialPosition);for(var o=Array.from(this.left.children),n=Array.from(this.right.children),i=0,r=o;i<r.length;i++)(c=r[i]).destroy();for(var a=0,s=n;a<s.length;a++){var c;(c=s[a]).destroy()}this.showPageIndex=0,this.classifyList=[null,null,null,null,null,null,null,null,null,null,null],this.init(),this.nextButton.interactable=!1},e.prototype.start=function(){c.info.wardrobeCom=this},e.prototype.init=function(){this.getSimulationCInfo(),this.guideAni(),this.getPageCostume(),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this);for(var t=0,e=this.node.children;t<e.length;t++){var o=e[t];"dollBox"!=o.name&&(o.zIndex=2)}cc.log(c.stageInfo.createBodyType),this.body=cc.instantiate(this.bodyPrefab[c.stageInfo.createBodyType]),this.body.parent=this.node},e.prototype.showTips=function(){var t=[204.61,-202.311][Math.floor(2*Math.random())],e=[264.803,411.279,376.795][Math.floor(3*Math.random())],o=cc.find("tip"+Math.floor(3*Math.random()),this.node);o.opacity=0,o.setPosition(t,e),cc.Tween.stopAllByTarget(o),cc.tween(o).by(.3,{y:20,opacity:255}).by(.6,{y:40}).by(.3,{y:20,opacity:-255}).call(function(){o.opacity=0,o.setPosition(t,e)}).start()},e.prototype.touchStart=function(){this.stayPos&&(this.stayPos=this.hand.position)},e.prototype.touchMove=function(t){var e=this;if(!c.info.isDrag)if(this.holdItem&&!this.isPlayingAni){var o=t.getStartLocation().sub(t.getLocation()),n=this.stayPos.sub(cc.v3(o.x,o.y));this.hand.setPosition(n);var i=this.destination[this.itemPosClassify()],r=this.fitOnDistance[this.itemPosClassify()],l=a.default.getDistanceMag(cc.v3(0,i),n),u=cc.v3(this.holdItem.initialPos[0],this.holdItem.initialPos[1]),d=this[this.holdItem.direction],p=a.default.convertToNew(d,u,this.node),g=a.default.getDistanceMag(p,n),h=a.default.toLowerCaseFirst(s.classify[this.holdItem.classifyIndex]),f=this.body.getChildByName(h);console.log(h);var y=a.default.convertToNew(f,cc.v3(this.holdItem.bodyPos[0],this.holdItem.bodyPos[1]),this.node),b=this.body.getChildByName("other");if(l<r&&(console.log("\u914d\u4ef6\u8282\u70b9",f),this.handAni(y,1,function(){var t=cc.v3(e.holdItem.bodyPos[0],e.holdItem.bodyPos[1]);if(1==e.holdItem.layersNum){var o=a.default.convertToNew(f,t,b);e.holdItem.bottomNode.parent=b,e.holdItem.bottomNode.setPosition(o)}e.holdItem.node.parent=f,e.holdItem.node.setPosition(t),cc.log("\u653e\u7f6e\u4fe1\u606f",e.holdItem,e.holdItem),e.holdItem.isUse=!0,e.itemReplace(e.holdItem.classifyIndex,e.holdItem),e.holdItem=null,e.showTips()})),g<this.backDistance&&!this.isItemMove){var m=this.holdItem;cc.tween(m.node).to(this.handMoveTime,{scale:1.05}).call(function(){m.node.setScale(e.itemScale)}).start(),this.handAni(p,this.itemScale,function(){m.node.parent=d;var t=cc.v3(m.initialPos[0],m.initialPos[1]);cc.log("\u653e\u56de",t),m.node.setPosition(t),m.node.setScale(e.itemScale),e.holdItem=null})}}else{var v=t.getStartLocation().x-t.getLocationX();Math.abs(v)>100&&!this.isPlayingAni&&(console.log("\u89e6\u53d1\u7ffb\u9875",v/Math.abs(v)),this.pageTurning(v/Math.abs(v)))}},e.prototype.itemReplace=function(t,e){var o=this,n=function(t){var e=2*o.showPageIndex;e==t.boxIndex||e+1==t.boxIndex?(t.isUse=!1,1==t.layersNum&&(t.bottomNode.parent=t.node,t.bottomNode.setPosition(0,0)),t.node.parent=o[t.direction],t.node.setPosition(t.initialPos[0],t.initialPos[1]),t.node.setScale(o.itemScale)):(cc.log("\u975e\u672c\u9875\u5220\u9664_\u66ff\u6362"),1==t.layersNum&&t.bottomNode.destroy(),t.isUse=!1,t.node.destroy())};this.classifyList[t]&&(n(this.classifyList[t]),u.default.playEAudio("revocation")),this.holdItem?this.classifyList[t]=e:this.classifyList[t]=null,this.defaultItem(t),t!=s.classify.Clothes&&t!=s.classify.Pants&&t!=s.classify.Coat||!this.classifyList[s.classify.Set]||(n(this.classifyList[s.classify.Set]),this.classifyList[s.classify.Set]=null,u.default.playEAudio("revocation")),(this.classifyList[s.classify.Clothes]||this.classifyList[s.classify.Pants]||this.classifyList[s.classify.Coat])&&t==s.classify.Set&&(this.classifyList[s.classify.Clothes]&&(n(this.classifyList[s.classify.Clothes]),this.classifyList[s.classify.Clothes]=null),this.classifyList[s.classify.Pants]&&(n(this.classifyList[s.classify.Pants]),this.classifyList[s.classify.Pants]=null),this.classifyList[s.classify.Coat]&&(n(this.classifyList[s.classify.Coat]),this.classifyList[s.classify.Coat]=null),u.default.playEAudio("revocation")),this.check()},e.prototype.handAni=function(t,e,o){var n=this;this.isPlayingAni=!0,cc.tween(this.hand).to(this.handMoveTime,{position:t,scale:e}).call(o).to(this.handMoveTime,{position:this.handInitialPosition}).call(function(){n.isPlayingAni=!1,u.default.playEAudio("hold")}).start()},e.prototype.guideAni=function(){var t=this;this.guideNode.parent.active=!0,this.guideNode.setPosition(217.059,-40.354);var e=this.guideNode.getPosition(),o=0;cc.tween(this.guideNode).by(this.guideTime,{position:cc.v3(-this.guideMoveX,0)}).call(function(){t.guideNode.setPosition(e),2==++o&&(t.guideNode.parent.active=!1,cc.Tween.stopAllByTarget(t.guideNode))}).union().repeatForever().start()},e.prototype.getPageCostume=function(){cc.log(l.bundle),this.costumeBundle=l.bundle.costumeBundle,this.showCostume()},e.prototype.createAInitItem=function(t,e,o,n){var i,r,s=this;void 0===n&&(n=!1),t.layersNum;var l=cc.v3(t.initialPos[0],t.initialPos[1],0);if(t.isUse||(i=new cc.Node,this.costumeBundle.load("item/"+t.id,cc.SpriteFrame,function(e,o){if(1==t.layersNum){var n=new cc.Node,a=new cc.Node;s.costumeBundle.load("item/"+t.id+"-1",cc.SpriteFrame,function(t,e){n.addComponent(cc.Sprite).spriteFrame=e}),n.parent=i,a.addComponent(cc.Sprite).spriteFrame=o,a.parent=i,a.zIndex=2,t.bottomNode=n,t.topNode=a,i.width=a.width,i.height=a.height}else i.addComponent(cc.Sprite),i.getComponent(cc.Sprite).spriteFrame=o;s.openOutLine&&((r=new cc.Node).addComponent(cc.Sprite),r.getComponent(cc.Sprite).spriteFrame=o,r.getComponent(cc.Sprite).setMaterial(0,s.outlineMaterial),r.setScale(s.itemScale),r.setPosition(l))}),i.setPosition(l),i.name=String(t.id),i.zIndex=1),n?(r&&this.turn.addChild(r),t.isUse||this.turn.addChild(i)):(r&&this[o].addChild(r),t.isUse||this[o].addChild(i)),!t.isUse){i.setScale(this.itemScale),t.node=i,t.boxIndex=e,t.direction=o,t.isUse=!1,this.itemArrar.push(t),i.on(cc.Node.EventType.TOUCH_START,function(){if(!(c.info.isDrag||s.holdItem||s.isItemMove||s.isPlayingAni))if(t.isUse)s.itemReplace(t.classifyIndex,t),cc.log("\u975e\u672c\u9875\u70b9\u51fb\u5220\u9664");else{s.holdItem=t;var e=a.default.convertToNew(s[o],i.position,s.node);s.isItemMove=!0,setTimeout(function(){s.isItemMove=!1},1e3*s.backWaitTime),s.isPlayingAni=!0,cc.tween(s.hand).to(s.handMoveTime,{position:e,scale:s.itemScale}).call(function(){u.default.playEAudio("hold"),i.parent=s.hand;var t=a.default.convertToNew(s[o],i.position,s.hand);s.holdItem.node.setPosition(t),s.holdItem.node.setScale(1.1),cc.tween(s.hand).to(s.handMoveTime,{scale:1,y:s.hand.y+200}).union().call(function(){s.stayPos=s.hand.position,s.isPlayingAni=!1}).start(),cc.tween(s.holdItem.node).to(s.handMoveTime,{scale:1}).start()}).start()}},this);var d=function(){var e=this;if(c.info.isDrag)t.isUse?(t.bodyPos[0]=t.node.x,t.bodyPos[1]=t.node.y):(t.initialPos[0]=t.node.x,t.initialPos[1]=t.node.y);else if(!this.isPlayingAni){var n=cc.v3(t.initialPos[0],t.initialPos[1]),i=a.default.convertToNew(this[o],n,this.node);i.sub(this.hand.position).mag()<this.backDistance&&(cc.tween(t.node).to(this.handMoveTime,{scale:1.05}).call(function(){t.node.setScale(e.itemScale)}).start(),this.handAni(i,this.itemScale,function(){t.node.parent=e[o];var n=cc.v3(t.initialPos[0],t.initialPos[1]);t.node.setPosition(n),t.node.setScale(e.itemScale),e.holdItem=null}))}};i.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(c.info.isDrag){var n=e.getLocation();n.x-=cc.winSize.width/2,t.isUse?n.y-=cc.winSize.height/2+i.parent.y:(n.x-=this[o].x,n.y-=cc.winSize.height/2-50-i.parent.parent.y-150),Math.abs(n.x)>i.parent.width/2+100&&(n.x=(i.parent.width/2+100)*n.x/Math.abs(n.x)),Math.abs(n.y)>i.parent.height/2+100&&(n.y=(i.parent.height/2+100)*n.y/Math.abs(n.y)),i.setPosition(n)}},this),i.on(cc.Node.EventType.TOUCH_END,d,this),i.on(cc.Node.EventType.TOUCH_CANCEL,d,this)}},e.prototype.itemPosClassify=function(){switch(this.holdItem.classifyIndex){case s.classify.Decorate:case s.classify.Headwear:case s.classify.Hair:case s.classify.Pendant:return 0;case s.classify.Clothes:case s.classify.Set:case s.classify.Holdit:case s.classify.External:return 1;case s.classify.Pants:case s.classify.Coat:case s.classify.Socks:case s.classify.Shoes:return 2}},e.prototype.showCostume=function(){for(var t=2*this.showPageIndex,e=t+1,o=this.WRArr[t],n=this.WRArr[e],i=0,r=o;i<r.length;i++){var a=r[i];this.createAInitItem(a,t,"left")}for(var s=0,c=n;s<c.length;s++)a=c[s],this.createAInitItem(a,e,"right");var l=o[0].page[o[0].pageIndex],u=n[0].page[n[0].pageIndex];this.creatShadow(l,"left"),this.creatShadow(u,"right")},e.prototype.creatShadow=function(t,e,o){var n,i=this;void 0===o&&(o=!1),this.costumeBundle.load("shadow/"+t,cc.SpriteFrame,function(t,r){(n=new cc.Node).addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=r,n.zIndex=0,o?n&&i.turn.addChild(n):n&&i[e].addChild(n)})},e.prototype.getItem=function(){return this.itemArrar},e.prototype.defaultItem=function(t){var e=a.default.toLowerCaseFirst(s.classify[t]),o=this.body.getChildByName(e).getChildByName("default");o&&(o.active=!this.classifyList[t])},e.prototype.pageTurningAni=function(t){var e,o,n=this;this.isPlayingAni=!0,t>0?(e=this.right,o=this.left):(e=this.left,o=this.right),this.turn.x=e.x,this.turn.active=!0;for(var i=[],r=0,a=e.children;r<a.length;r++){var s=a[r];i.push(s)}for(var c=0,l=i;c<l.length;c++)(s=l[c]).parent=this.turn;console.log("\u663e\u793a\u7b2c"+this.showPageIndex+"\u9875");var d=2*this.showPageIndex,p=d+1;cc.log("\u5de6\u9875",d),cc.log("\u53f3\u9875",p);var g=this.WRArr[d],h=this.WRArr[p],f=g[0].page[g[0].pageIndex],y=h[0].page[h[0].pageIndex];if(t>0){for(var b=0,m=h;b<m.length;b++)s=m[b],this.createAInitItem(s,p,"right");this.creatShadow(y,"right")}else{for(var v=0,P=g;v<P.length;v++)s=P[v],this.createAInitItem(s,d,"left");this.creatShadow(f,"left")}cc.tween(this.turn).to(.5,{scaleX:0,x:0}).call(function(){for(var e=0,o=i;e<o.length;e++)(s=o[e]).destroy();if(t>0){for(var r=0,a=g;r<a.length;r++){var s=a[r];n.createAInitItem(s,d,"left",!0)}n.creatShadow(f,"left",!0)}else{for(var c=0,l=h;c<l.length;c++)s=l[c],n.createAInitItem(s,p,"right",!0);n.creatShadow(y,"right",!0)}}).to(.5,{scaleX:1,x:-1*e.x}).call(function(){for(var t=0,e=Array.from(o.children);t<e.length;t++)e[t].destroy();for(var i=0,r=Array.from(n.turn.children);i<r.length;i++)r[i].parent=o;n.turn.active=!1,n.isPlayingAni=!1}).start(),u.default.playEAudio("turning")},e.prototype.pageTurning=function(t){this.showPageIndex+=t,console.log(t),this.showPageIndex<0&&(this.showPageIndex=this.WRArr.length/2-1),this.showPageIndex>=this.WRArr.length/2&&(this.showPageIndex=0),this.pageTurningAni(t)},e.prototype.check=function(){cc.log("\u68c0\u67e5\u6700\u4f4e\u9700\u6c42");for(var t=0,e=0;e<this.classifyList.length;e++)this.classifyList[e]?(t++,c.bodyInfo[a.default.toLowerCaseFirst(s.classify[e])]=this.classifyList[e].id):c.bodyInfo[a.default.toLowerCaseFirst(s.classify[e])]&&(c.bodyInfo[a.default.toLowerCaseFirst(s.classify[e])]=null);cc.log(c.bodyInfo),this.checkNum,this.nextButton.interactable=t>=this.checkNum},e.prototype.nextPage=function(){this.body.destroy(),this.body=null,u.default.playEAudio("click"),cc.log("\u5c1d\u8bd5\u53d1\u9001nextStep\u4e8b\u4ef6"),this.node.dispatchEvent(new cc.Event.EventCustom("nextStep",!0))},e.prototype.getSimulationCInfo=function(){cc.log(s.BInfo);var t=c.info.enterStageNum,e=s.BInfo[t]["wardrobe"+c.stageInfo.createBodyType];cc.log("wardrobe0",e),e=[];for(var o=1;o<74;o++)e.push(o);for(var n in this.WRArr=[],e)for(var i in s.CInfo){var r=null;for(o=0;o<s.CInfo[i].page.length;o++)s.CInfo[i].page[o]==e[n]&&(r=o);if(null!=r){this.WRArr[n]||(this.WRArr[n]=[]);var a={node:null,isUse:!1,initialPos:s.CInfo[i].pagePos[r],pageIndex:r};a=Object.assign(a,s.CInfo[i]),this.WRArr[n].push(a)}}return cc.log("\u5f53\u524d\u5173\u5361\u8863\u67dc\u6570\u636e",this.WRArr),this.WRArr[0],cc.log("\u7b2c\u4e00\u9875",this.WRArr[0]),this.WRArr},r([g(cc.Node)],e.prototype,"guideNode",void 0),r([g(cc.Node)],e.prototype,"cabinet",void 0),r([g(cc.Node)],e.prototype,"left",void 0),r([g(cc.Node)],e.prototype,"right",void 0),r([g(cc.Node)],e.prototype,"turn",void 0),r([g(cc.Node)],e.prototype,"hand",void 0),r([g(cc.Prefab)],e.prototype,"bodyPrefab",void 0),r([g(cc.Node)],e.prototype,"skin",void 0),r([g(cc.Node)],e.prototype,"face",void 0),r([g(cc.Material)],e.prototype,"outlineMaterial",void 0),r([g(cc.Material)],e.prototype,"gray",void 0),r([g(cc.Button)],e.prototype,"nextButton",void 0),r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../SimulationInfo":"SimulationInfo","../bundleInfo":"bundleInfo","../control_mgr":"control_mgr","../sound_mgr":"sound_mgr","../temporaryStrategy":"temporaryStrategy"}]},{},["Loader","cos-js-sdk-v5.min","SimulationInfo","build_mgr","bundleInfo","bundle_mgr","controlPanel","control_mgr","hallBuild","item_ctrl","onlineInfo","body","bubbles","pet","printscreen_mgr","sound_mgr","stage1","stage10","stage11","stage12","stage13","stage14","stage15","stage16","stage17","stage18","stage19","stage2","stage20","stage21","stage22","stage23","stage24","stage25","stage26","stage27","stage28","stage29","stage3","stage30","stage31","stage32","stage33 ","stage34","stage35","stage36","stage37","stage38","stage39","stage4","stage40","stage41","stage5","stage6","stage7","stage8","stage9","temporaryStrategy","cabinet","clear","demoEnd","house","loading","ornament","remaking","setting","stage","unpack","wardrobe"]);